"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[655],{11655:(e,t,n)=>{n.r(t),n.d(t,{CreateUpdateHunter:()=>J,SingleHunter:()=>K,default:()=>B});var i=n(68282),r=n(26298),s=n(58294),a=n(83648),o=n(25813),l=n(16789),c=n(59251),d=n(63945),h=n(35016),u=(n(12682),n(49779)),m=n(80608),x=n(85785),p=(n(97950),n(47417),n(77183)),g=n(74503),j=(n(22562),n(38079)),A=n(28326);function f(e){let{info:t,children:n}=e;const[l,c]=(0,s.useState)("horizontal"),[d,h]=(0,s.useState)(0);(0,s.useEffect)((()=>{function e(){return window.innerWidth<g.A.values.sm?c("vertical"):c("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[l]);const{image:u="",fullname:m,phone:x}=t;return(0,A.jsxs)(a.A,{position:"relative",mb:5,children:[(0,A.jsx)(a.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:n},palette:{gradients:i}}=e;return`${n(t(i.info.main,.6),t(i.info.state,.6))}, url(${j})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,A.jsxs)(r.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,A.jsxs)(i.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,A.jsx)(i.Ay,{item:!0,children:(0,A.jsx)(p.A,{src:u,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,A.jsx)(i.Ay,{item:!0,children:(0,A.jsxs)(a.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,A.jsx)(o.A,{variant:"h5",fontWeight:"medium",children:m}),(0,A.jsx)(o.A,{variant:"button",color:"text",fontWeight:"regular",children:x})]})})]}),n]})]})}f.defaultProps={info:{image:"",fullname:"First Name",phone:"Last Name"},children:null};const v=f;var _=n(56084),y=n(24009),b=n(79147),H=n(40068),w=n(15570),k=n(74996),N=n(14149),C=n.n(N),S=n(76885),W=n(72244),$=n(27986);function z(){const e=(0,_.wA)(),{deleteHunter:t}=(0,W.RA)(),{isGettingAllHunters:n,hunters:{hunters:i=[],totalHunters:r=0,count:s=0,numOfPages:l=1,contractStatusCount:c=[]}={},refetch:d}=(0,W.jW)(),h=e=>{let{image:t,name:n,email:i,hunter_id:r}=e;return(0,A.jsxs)(a.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,A.jsx)(p.A,{src:t,name:n,size:"sm"}),(0,A.jsxs)(a.A,{ml:2,lineHeight:1,children:[(0,A.jsx)(o.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,A.jsx)(y.N_,{to:`/hunters/${r}`,children:`${r} ${n}`})}),(0,A.jsx)(o.A,{variant:"caption",children:i})]})]})},u=e=>{let{title:t,description:n}=e;return(0,A.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,A.jsx)(o.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:(0,A.jsx)(y.N_,{to:"#",children:`${t}`})}),(0,A.jsx)(o.A,{variant:"caption",children:(0,A.jsx)(y.N_,{to:"#",children:`${n}`})})]})},m=e=>{let{title:t,description:n}=e;return(0,A.jsx)(a.A,{lineHeight:1,textAlign:"left",children:(0,A.jsx)(o.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:t})})};return{columns:[{Header:"hunter",accessor:"hunter",width:"45%",align:"left"},{Header:"supervisor",accessor:"supervisor",align:"left"},{Header:"contact",accessor:"contact",align:"center"},{Header:"tip",accessor:"tip",align:"center"},{Header:"status",accessor:"status",align:"center"},{Header:"emergency_contact",accessor:"emergency_contact",align:"center"},{Header:"date_employed",accessor:"date_employed",align:"center"},{Header:"note",accessor:"note",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:i.map(((n,i)=>{const{hunter_id:r,assigned_supervisor:s,fullname:l,phone:c,email:d,joining_date:x,tip:p,employment_status:g,emergency_contact_name:j,emergency_contact:f,notes:v}=n,_={hunter_id:r,assigned_supervisor:s,fullname:l,phone:c,email:d,joining_date:x,tip:p,employment_status:g,emergency_contact_name:j,emergency_contact:f,notes:v};return{hunter:(0,A.jsx)(h,{image:k.A,name:l,email:d,hunter_id:r}),supervisor:(0,A.jsx)(o.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:(0,A.jsx)(y.N_,{to:`/employees/${s}`,children:s})}),contact:(0,A.jsx)(m,{title:`${c||"N/A"}`,description:`email: ${d||"N/A"}`}),tip:(0,A.jsx)(o.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:p}),status:(0,A.jsx)(a.A,{ml:-1,children:(0,A.jsx)(S.A,{badgeContent:g,color:"active"===g?"success":"inactive"===g?"warning":"error",variant:"gradient",size:"sm"})}),emergency_contact:(0,A.jsx)(u,{title:j,description:f}),date_employed:(0,A.jsx)(o.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:x}),note:(0,A.jsx)(o.A,{title:v,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:v.length>20?`${v.slice(0,20)}...`:v}),update:(0,A.jsx)(o.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,A.jsx)(y.N_,{onClick:()=>{e((0,$.IH)(_))},to:`/createupdatehunter/${r}`,children:"Edit"})}),remove:(0,A.jsx)(o.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a hunter records permanently, ARE YOU SURE?")&&t(r)},children:(0,A.jsx)(y.N_,{children:"remove"})})}})),numOfPages:l,count:s,isGettingAllHunters:n,refetch:d,hunters:i,totalHunters:r,contractStatusCount:c}}var E=n(40447),G=n(35981),P=n(48781),D=n(18509),I=n(64977),O=n(5519),U=n(1489),Y=n(17633);const R={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function F(e){let{isGettingAllHunters:t}=e;const[n,i]=s.useState(!1),r=()=>i(!1);return(0,A.jsxs)("div",{className:Y.A.wrapper,children:[(0,A.jsx)("div",{children:(0,A.jsx)(U.A,{fontSize:"medium",onClick:()=>i(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,A.jsx)(P.A,{open:n,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,A.jsxs)(E.A,{sx:{...R,background:"white"},className:Y.A.box,children:[(0,A.jsxs)(G.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Hunters ",(0,A.jsx)(D.A,{style:{cursor:"pointer"},onClick:r})]}),(0,A.jsx)("p",{children:"which hunter are you looking for?"}),(0,A.jsx)(L,{handleClose:r,isGettingAllHunters:t})]})})]})}const L=e=>{let{handleClose:t,isGettingAllHunters:n}=e;const{hunterInputs:i}=(0,O.jW)(),r=(0,_.wA)();return(0,A.jsxs)("form",{className:Y.A.paper,children:[i.filter((e=>"notes"!==e.name&&"email"!==e.name)).map((e=>{const{name:t,TextField:n}=e;return(0,A.jsx)("div",{children:n},t)})),(0,A.jsx)(I.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{r((0,$.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,A.jsx)(I.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===n?(0,A.jsx)(H.du,{color:"success"}):"Find Out"})]})};var M=n(82392),T=n(39053),V=n(77846),q=n(7579);const B=function(){const{columns:e,rows:t,numOfPages:n,count:u,isGettingAllHunters:m,refetch:x,hunters:p,totalHunters:g,contractStatusCount:j}=z(),f=(0,_.wA)(),{assigned_supervisor:v,fullname:b,phone:H,email:k,joining_date:N,tip:C,employment_status:S,emergency_contact_name:W,emergency_contact:E,notes:G,isEdit:P,pages:D,sort:I}=(0,_.d4)((e=>e.hunters));return s.useEffect((()=>{x()}),[D,v,b,H,k,N,C,S,W,E,G,I]),(0,A.jsxs)(l.A,{children:[(0,A.jsx)(c.A,{}),(0,A.jsx)(a.A,{pt:6,pb:3,children:(0,A.jsx)(i.Ay,{container:!0,spacing:6,children:(0,A.jsxs)(i.Ay,{item:!0,xs:12,children:[(0,A.jsxs)(r.A,{children:[(0,A.jsx)(a.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,A.jsxs)(o.A,{className:M.A.wrapper,variant:"h6",color:"white",children:[(0,A.jsxs)(a.A,{className:M.A.inner,children:[(0,A.jsx)(o.A,{color:"white",children:"Hunters"}),(0,A.jsxs)(o.A,{color:"white",children:[u,"/",g]})]}),(0,A.jsxs)(a.A,{className:M.A.inner,children:[(0,A.jsx)(y.N_,{onClick:()=>f((0,$.sy)()),to:"/createupdatehunter/add",children:(0,A.jsx)(V.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add hunter"})}),(0,A.jsx)(F,{isGettingAllHunters:m})]})]})}),(0,A.jsx)(a.A,{pt:3,children:(0,A.jsx)(h.A,{table:{columns:e,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,A.jsx)(w.A,{pageDetails:{handleChange:(e,t)=>{e.preventDefault(),f((0,$.yd)(t))},numOfPages:n,pages:D}})]})})}),(0,A.jsx)(d.A,{})]})};function K(){const{id:e}=(0,u.g)(),{isGettingSingleHunter:t,singleHunter:{hunter:{hunter_id:n,assigned_supervisor:r,fullname:o,phone:h,email:p,joining_date:g,tip:j,employment_status:f,emergency_contact_name:_,emergency_contact:b,notes:H,hives:w=[],catch_reports:N=[]}={}}={},refetch:S}=(0,W.ok)(e);return s.useEffect((()=>{S()}),[e]),(0,A.jsxs)(l.A,{children:[(0,A.jsx)(c.A,{}),(0,A.jsx)(a.A,{mb:2}),(0,A.jsx)(v,{info:{image:k.A,fullname:o,phone:h},children:(0,A.jsxs)(a.A,{mt:5,mb:3,children:[(0,A.jsx)(y.N_,{to:"/hunters",children:(0,A.jsx)(q.A,{})}),(0,A.jsxs)(i.Ay,{container:!0,spacing:1,children:[(0,A.jsxs)(i.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,A.jsx)(m.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,A.jsx)(x.A,{title:"",description:"",info:{hunter_id:n,fullname:o,phone:h,email:p},shadow:!1}),(0,A.jsx)(m.A,{orientation:"vertical",sx:{mx:0}})]}),(0,A.jsxs)(i.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,A.jsx)(m.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,A.jsx)(x.A,{title:"",description:"",info:{contracted_on:g?C()(g).format("YYYY-MM-DD"):"N/A",supervisor:(0,A.jsx)(y.N_,{to:`/employees/${r}`,children:r}),tip:j,employment_status:f},shadow:!1}),(0,A.jsx)(m.A,{orientation:"vertical",sx:{mx:0}})]}),(0,A.jsxs)(i.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,A.jsx)(m.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,A.jsx)(x.A,{title:"",description:"",info:{e_contact_name:_,e_contact:b,notes:H},shadow:!1}),(0,A.jsx)(m.A,{orientation:"vertical",sx:{mx:0}})]})]})]})}),(0,A.jsx)(d.A,{})]})}const J=()=>{const{id:e}=(0,u.g)(),{hunterInputs:t}=(0,O.jW)(),{isUpdatingHunter:n,updateHunter:r}=(0,W.Vh)(),{createHunter:s,isCreatingHunter:o}=(0,W.cK)(),{assigned_supervisor:h,fullname:m,phone:x,email:p,joining_date:g,tip:j,employment_status:f,emergency_contact_name:v,emergency_contact:w,notes:k,isEdit:N}=(0,_.d4)((e=>e.hunters)),C={assigned_supervisor:h,fullname:m,phone:x,email:p,joining_date:g,tip:j,employment_status:f,emergency_contact_name:v,emergency_contact:w,notes:k};return(0,A.jsxs)(l.A,{children:[(0,A.jsx)(c.A,{}),(0,A.jsx)(a.A,{mt:5,mb:3,children:(0,A.jsx)(i.Ay,{className:T.A.wrapper,container:!0,spacing:1,children:(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(y.N_,{to:"/hunters",children:(0,A.jsx)(q.A,{})}),(0,A.jsxs)("h6",{children:[N?`Update hunter ${m}'s details`:"Create Hunter"," "]}),(0,A.jsx)("div",{})]}),(0,A.jsxs)("form",{className:T.A.form,onSubmit:t=>{t.preventDefault();if(Object.values(C).every((e=>void 0!==e&&null!==e&&""!==e)))return N?r({hunterDetails:C,id:e}):void s(C);alert("Please fill out all required fields.")},children:[t.filter((e=>"sort"!==e.name)).map((e=>{const{name:t,TextField:n}=e;return(0,A.jsx)("div",{children:n},t)})),(0,A.jsx)(b.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===o||"pending"===n?(0,A.jsx)(H.du,{}):N?"Update":"Submit"})]})]})})}),(0,A.jsx)(d.A,{})]})}},77846:(e,t,n)=>{var i=n(5855);t.A=void 0;var r=i(n(93496)),s=n(28326),a=(0,r.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.A=a}}]);
//# sourceMappingURL=655.1363c64c.chunk.js.map
"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[560],{74996:(e,i,t)=>{t.d(i,{A:()=>s});t(58294);const s=t.p+"static/media/logo-asana.5c9ced4f9006cfb2d4c10f905cf6d310.svg"},11560:(e,i,t)=>{t.r(i),t.d(i,{UpdateReview:()=>T,default:()=>F});var s=t(68282),r=t(26298),n=t(58294),l=t(83648),a=t(25813),o=t(16789),d=t(59251),c=t(63945),h=t(35016),m=(t(12682),t(49779)),x=(t(85785),t(97950),t(47417),t(57653)),u=t(77183),g=t(74503),p=(t(22562),t(38079)),v=(t(73305),t(93919)),j=t(28326);function A(e){let{info:i,children:t}=e;const[o,d]=(0,n.useState)("horizontal"),[c,h]=(0,n.useState)(0);(0,n.useEffect)((()=>{function e(){return window.innerWidth<g.A.values.sm?d("vertical"):d("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[o]);const{image:m="",product_name:v,price:A,colorArray:w,imageArray:f,id:b}=i,[y,k,R]=w,[_,C,z]=f;return(0,j.jsxs)(l.A,{position:"relative",mb:5,children:[(0,j.jsx)(l.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:i,linearGradient:t},palette:{gradients:s}}=e;return`${t(i(s.info.main,.6),i(s.info.state,.6))}, url(${p})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,j.jsxs)(r.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,j.jsxs)(s.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(s.Ay,{item:!0,children:(0,j.jsx)(u.A,{src:m,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,j.jsx)(s.Ay,{item:!0,children:(0,j.jsxs)(l.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,j.jsx)(a.A,{variant:"h5",fontWeight:"medium",children:v}),(0,j.jsx)(a.A,{variant:"button",color:"text",fontWeight:"regular",children:A})]})}),(0,j.jsxs)(s.Ay,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:[(0,j.jsx)(x.A,{position:"static",children:(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:y,marginRight:"5px",borderRadius:"50%"}}),(0,j.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:k,marginRight:"5px",borderRadius:"50%"}}),(0,j.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:R,marginRight:"5px",borderRadius:"50%"}})]})}),(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsx)(u.A,{src:C,alt:"profile-image",size:"md",shadow:"sm"}),(0,j.jsx)(u.A,{src:z,alt:"profile-image",size:"md",shadow:"sm"})]})]})]}),t]})]})}A.defaultProps={info:{image:"",product_name:"product Name",price:"price"},children:null};var w=t(56084),f=t(24009),b=t(40068),y=t(15570),k=(t(74996),t(14149),t(82392)),R=t(39053),_=t(7579),C=t(96338),z=t(7188),S=t(61209);function H(){const e=(0,w.wA)(),{data:{reviews:i=[],totalReviews:t=0,count:s=0,numOfPages:r=1},refetch:n,isGettingAllReviews:o}=(0,z.v1)(),d=e=>{let{image:i,review_id:t,user_id:s}=e;return(0,j.jsxs)(l.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,j.jsx)(u.A,{src:i,size:"sm"}),(0,j.jsxs)(l.A,{ml:2,lineHeight:1,children:[(0,j.jsx)(a.A,{display:"block",variant:"button",fontWeight:"medium",children:`review ${t} `}),(0,j.jsxs)(a.A,{variant:"caption",children:["user ",s]})]})]})},c=e=>{let{title:i,description:t}=e;return(0,j.jsxs)(l.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(a.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`${i.length>20?`${i.slice(0,12)}...`:i}`}),(0,j.jsx)(a.A,{variant:"caption",children:`${t.length>20?`${t.slice(0,12)}...`:t}`})]})},h=e=>{let{title:i,description:t}=e;return(0,j.jsxs)(l.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(a.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`product: ${i}`}),(0,j.jsx)(a.A,{variant:"caption",children:`rating: ${t}`})]})};return{columns:[{Header:"reviews",accessor:"reviews",width:"45%",align:"left"},{Header:"comment",accessor:"comment",align:"center"},{Header:"details",accessor:"details",align:"left"},{Header:"images",accessor:"images",align:"center"}],rows:i.map(((i,t)=>{const{review_id:s,product_id:r,user_id:n,rating:l,title:o,comment:m,review_images:x}=i;console.log(x);const g={review_id:s,product_id:r,user_id:n,rating:l,title:o,comment:m};return{reviews:(0,j.jsx)(d,{image:C.A,review_id:s,user_id:n}),comment:(0,j.jsx)(c,{title:o,description:m}),details:(0,j.jsx)(h,{title:r,description:l}),update:(0,j.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(f.N_,{onClick:()=>{e((0,S.cQ)(g))},to:`/updatereview/${s}`,children:"Edit"})}),remove:(0,j.jsx)(a.A,{onClick:()=>{window.confirm("You are about to Delete a review records permanently, ARE YOU SURE?")},component:"a",variant:"caption",color:"text",fontWeight:"medium",children:"Remove"}),images:(0,j.jsx)(a.A,{style:{display:"flex",flexDirection:"column"},component:"a",variant:"caption",color:"text",fontWeight:"medium",children:x.map(((e,i)=>{let{image0:t,image1:s,image2:r}=e;return(0,j.jsxs)("div",{style:{display:"flex",gap:"2px"},children:[(0,j.jsx)(u.A,{src:t,size:"sm"}),(0,j.jsx)(u.A,{src:s,size:"sm"}),(0,j.jsx)(u.A,{src:r,size:"sm"})]},i)}))})}})),numOfPages:r,refetch:n,count:s,totalReviews:t,isGettingAllReviews:o}}var W=t(40447),E=t(35981),N=t(48781),$=t(1489),P=t(18509),G=t(64977),O=t(17633),D=t(82592);const I={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function U(e){let{isGettingAllReviews:i}=e;const[t,s]=n.useState(!1),r=()=>s(!1);return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)($.A,{fontSize:"medium",onClick:()=>s(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,j.jsx)(N.A,{open:t,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(W.A,{sx:{...I,background:"white"},className:O.A.box,children:[(0,j.jsxs)(E.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Reviews ",(0,j.jsx)(P.A,{style:{cursor:"pointer"},onClick:r})]}),(0,j.jsx)("p",{children:"which review are you looking for?"}),(0,j.jsx)(L,{handleClose:r,isGettingAllReviews:i})]})})]})}const L=e=>{let{handleClose:i,isGettingAllReviews:t}=e;const{reviewInputs:s}=(0,D.Zw)(),r=(0,w.wA)();return(0,j.jsxs)("form",{className:O.A.paper,children:[s.filter((e=>"title"===e.name||"rating"===e.name||"sort"===e.name)).map((e=>{const{name:i,TextField:t}=e;return(0,j.jsx)("div",{children:t},i)})),(0,j.jsx)(G.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{r((0,S.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,j.jsx)(G.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>i(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===t?(0,j.jsx)(b.du,{color:"success"}):"Find Out"})]})};const F=function(){const e=(0,w.wA)(),{rows:i,numOfPages:t,refetch:m,count:x,columns:u,totalReviews:g,isGettingAllReviews:p}=H(),{sort:v,pages:A,product_id:f,user_id:b,rating:R,title:_,comment:C}=(0,w.d4)((e=>e.reviews));return n.useEffect((()=>{m()}),[A,v,f,b,R,_,C]),(0,j.jsxs)(o.A,{children:[(0,j.jsx)(d.A,{}),(0,j.jsx)(l.A,{pt:6,pb:3,children:(0,j.jsx)(s.Ay,{container:!0,spacing:6,children:(0,j.jsxs)(s.Ay,{item:!0,xs:12,children:[(0,j.jsxs)(r.A,{children:[(0,j.jsx)(l.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,j.jsxs)(a.A,{className:k.A.wrapper,variant:"h6",color:"white",children:[(0,j.jsxs)(l.A,{className:k.A.inner,children:[(0,j.jsx)(a.A,{color:"white",children:"Reviews"}),(0,j.jsxs)(a.A,{color:"white",children:[x,"/",g]})]}),(0,j.jsx)(l.A,{className:k.A.inner,children:(0,j.jsx)(U,{isGettingAllReviews:p})})]})}),(0,j.jsx)(l.A,{pt:3,children:(0,j.jsx)(h.A,{table:{columns:u,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,j.jsx)(y.A,{pageDetails:{handleChange:(i,t)=>{i.preventDefault(),e((0,S.yd)(t))},numOfPages:t,pages:A}})]})})}),(0,j.jsx)(c.A,{})]})},T=()=>{const{id:e}=(0,m.g)(),{reviewInputs:i}=(0,D.Zw)(),{updateReview:t,isUpdatingReview:r}=(0,z.xk)(),{product_id:n,user_id:a,rating:h,title:x,comment:u,isEdit:g}=(0,w.d4)((e=>e.reviews)),p={rating:h,title:x,comment:u};return(0,j.jsxs)(o.A,{children:[(0,j.jsx)(d.A,{}),(0,j.jsx)(l.A,{mt:5,mb:3,children:(0,j.jsx)(s.Ay,{className:R.A.wrapper,container:!0,spacing:1,children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(f.N_,{to:"/reviews",children:(0,j.jsx)(_.A,{})}),(0,j.jsx)("h6",{children:" Update Review details "}),(0,j.jsx)("div",{})]}),(0,j.jsxs)("form",{className:R.A.form,onSubmit:i=>{if(i.preventDefault(),!g)return;if(Object.values(p).every((e=>void 0!==e&&null!==e&&""!==e)))return t({reviewDetails:p,id:e});alert("Please fill out all required fields.")},children:[i.filter((e=>"title"===e.name||"rating"===e.name||"comment"===e.name)).map((e=>{const{name:i,TextField:t}=e;return(0,j.jsx)("div",{children:t},i)})),(0,j.jsx)(v.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===r?(0,j.jsx)(b.du,{}):"Update"})]})]})})}),(0,j.jsx)(c.A,{})]})}},12682:(e,i,t)=>{t(83648),t(25813),t(77183),t(47310),t(74996),t(58294);t.p;t(21806),t(96338),t(21904),t(17351),t(28326)},7579:(e,i,t)=>{var s=t(5855);i.A=void 0;var r=s(t(93496)),n=t(28326),l=(0,r.default)((0,n.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");i.A=l}}]);
//# sourceMappingURL=560.1c062ad1.chunk.js.map
"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[984],{73927:(t,e,i)=>{i.d(e,{A:()=>_});var n=i(58294),s=i(40447),o=i(35981),a=i(48781),r=i(29340),l=i(18509),c=i(64977),d=i(40068),x=i(56084),u=i(41437),h=i(29136),m=i(28326);function _(t){let{isGettingStations:e}=t;const[i,c]=n.useState(!1),d=()=>c(!1);return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(r.MFA,{onClick:()=>c(!0),title:"filter"})}),(0,m.jsx)(a.A,{open:i,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,m.jsxs)(s.A,{children:[(0,m.jsxs)(o.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Filter"," ",(0,m.jsx)(l.A,{style:{cursor:"pointer"},onClick:d})]}),(0,m.jsx)("p",{children:"which of your products are you looking for?"}),(0,m.jsx)(p,{handleClose:d,isGettingStations:e})]})})]})}const p=t=>{let{handleClose:e,isGettingStations:i}=t;const{searchStations:n}=(0,h.gs)(),s=(0,x.wA)();return(0,m.jsxs)("form",{children:[n.map((t=>{const{name:e,TextField:i}=t;return(0,m.jsx)("div",{children:i},e)})),(0,m.jsx)(c.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>{s((0,u.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,m.jsx)(c.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>e(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===i?(0,m.jsx)(d.du,{color:"success"}):"Find Out"})]})}},89984:(t,e,i)=>{i.r(e),i.d(e,{CreateUpdateStation:()=>Y,SingleStation:()=>W,default:()=>P});var n=i(68282),s=i(26298),o=i(58294),a=i(83648),r=i(25813),l=i(16789),c=i(59251),d=i(63945),x=i(35016),u=(i(12682),i(49779)),h=i(80608),m=i(85785),_=(i(97950),i(47417),i(77183)),p=i(74503),g=(i(22562),i(38079)),v=i(28326);function j(t){let{info:e,children:i}=t;const[l,c]=(0,o.useState)("horizontal"),[d,x]=(0,o.useState)(0);(0,o.useEffect)((()=>{function t(){return window.innerWidth<p.A.values.sm?c("vertical"):c("horizontal")}return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)}),[l]);const{image:u="",station_name:h,location:m}=e;return(0,v.jsxs)(a.A,{position:"relative",mb:5,children:[(0,v.jsx)(a.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:t=>{let{functions:{rgba:e,linearGradient:i},palette:{gradients:n}}=t;return`${i(e(n.info.main,.6),e(n.info.state,.6))}, url(${g})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,v.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,v.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,v.jsx)(n.Ay,{item:!0,children:(0,v.jsx)(_.A,{src:u,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,v.jsx)(n.Ay,{item:!0,children:(0,v.jsxs)(a.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,v.jsx)(r.A,{variant:"h5",fontWeight:"medium",children:h}),(0,v.jsx)(r.A,{variant:"button",color:"text",fontWeight:"regular",children:m})]})})]}),i]})]})}j.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};const A=j;var f=i(56084),b=i(24009),y=i(66801),S=i(40068),w=i(15570),k=i(3186),z=i(64248),N=i(41437),$=i(74996);function C(){const t=(0,f.wA)(),{isGettingStations:e,stations:{stations:i=[],count:n=0,totalStations:s=0,numOfPages:o=0,totalHives:l=0,stationSizeCount:c=[]}={},refetch:d}=(0,z.Tz)(),x=t=>{let{image:e,name:i,location:n,station_id:s}=t;return(0,v.jsxs)(a.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,v.jsx)(_.A,{src:e,name:i,size:"sm"}),(0,v.jsxs)(a.A,{ml:2,lineHeight:1,children:[(0,v.jsx)(r.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,v.jsx)(b.N_,{to:`/stations/${s}`,children:`${s} ${i}`})}),(0,v.jsx)(r.A,{variant:"caption",children:n})]})]})},u=t=>{let{title:e,description:i}=t;return(0,v.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,v.jsx)(r.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:(0,v.jsx)(b.N_,{to:`/employees/${e}`,children:`int_sup: ${e}`})}),(0,v.jsx)(r.A,{variant:"caption",children:(0,v.jsx)(b.N_,{to:`/employees/${i}`,children:`ext_sup: ${i}`})})]})},h=t=>{let{title:e,description:i}=t;return(0,v.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,v.jsx)(r.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:e}),(0,v.jsx)(r.A,{variant:"caption",children:i})]})};return{columns:[{Header:"station",accessor:"station",width:"45%",align:"left"},{Header:"supervisors",accessor:"supervisors",align:"left"},{Header:"status",accessor:"status",align:"center"},{Header:"size",accessor:"size",align:"center"},{Header:"coordinates",accessor:"coordinates",align:"center"},{Header:"action",accessor:"action",align:"center"}],rows:i.map(((e,i)=>{var n,s;const{station_id:o,station_name:l,supervisor_int:c,supervisor_ext:d,location:m,longitude:_,latitude:p,station_size:g,number_of_hive_boxes:j,status:A,station_maintainace_history:f,last_inspection_date:y,next_inspection_date:S,notes:w}=e,z={station_name:l,supervisor_int:c,supervisor_ext:d,location:m,longitude:_,latitude:p,station_size:g,number_of_hive_boxes:j,status:A,station_maintainace_history:f,last_inspection_date:y,next_inspection_date:S,notes:w};return{station:(0,v.jsx)(x,{image:$.A,name:l,location:m,station_id:o}),supervisors:(0,v.jsx)(u,{title:c,description:d}),status:(0,v.jsx)(a.A,{ml:-1,children:(0,v.jsx)(k.A,{badgeContent:A,color:"active"===A?"success":"inactive"===A?"error":"warning",variant:"gradient",size:"sm"})}),size:(0,v.jsx)(a.A,{ml:-1,children:(0,v.jsx)(k.A,{badgeContent:g,color:"small"===g?"success":"medium"===g?"error":"warning",variant:"gradient",size:"sm"})}),coordinates:(0,v.jsx)(h,{title:`Longitude: ${(null===(n=Number(_))||void 0===n?void 0:n.toFixed(2))||"N/A"}`,description:`Latitude: ${(null===(s=Number(p))||void 0===s?void 0:s.toFixed(2))||"N/A"}`}),action:(0,v.jsx)(r.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,v.jsx)(b.N_,{onClick:()=>{t((0,N.c8)(z))},to:`/createupdatestation/${o}`,children:"Edit"})})}})),numOfPages:o,count:n,totalStations:s,numOfPages:o,totalHives:l,stationSizeCount:c,isGettingStations:e,refetch:d}}var H=i(73927),F=i(14149),E=i.n(F),G=i(29136);const P=function(){const{columns:t,rows:e,numOfPages:i,count:u,totalStations:h,totalHives:m,isGettingStations:_,refetch:p}=C(),g=(0,f.wA)(),{pages:j,station_name:A,supervisor_int:y,supervisor_ext:S,location:k,status:z,station_size:$,number_of_hive_boxes:F,last_inspection_date:E,next_inspection_date:G,sort:P}=(0,f.d4)((t=>t.stations));return o.useEffect((()=>{p()}),[j,A,y,S,k,z,$,F,E,G,P]),(0,v.jsxs)(l.A,{children:[(0,v.jsx)(c.A,{}),(0,v.jsx)(a.A,{pt:6,pb:3,children:(0,v.jsx)(n.Ay,{container:!0,spacing:6,children:(0,v.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,v.jsxs)(s.A,{children:[(0,v.jsx)(a.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,v.jsxs)(r.A,{variant:"h6",color:"white",children:["Stations",u,"/",h,(0,v.jsx)(b.N_,{onClick:()=>g((0,N.sy)()),to:"/createupdatestation/add",children:"create station"}),(0,v.jsx)(H.A,{isGettingStations:_})]})}),(0,v.jsx)(a.A,{pt:3,children:(0,v.jsx)(x.A,{table:{columns:t,rows:e},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,v.jsx)(w.A,{pageDetails:{handleChange:(t,e)=>{t.preventDefault(),g((0,N.yd)(e))},numOfPages:i,pages:j}})]})})}),(0,v.jsx)(d.A,{})]})};function W(){var t,e;const{id:i}=(0,u.g)(),{isGettingSingleStation:s,singleStation:{station:{honey_harvests:r=[],last_inspection_date:x,latitude:_,location:p,longitude:g,next_inspection_date:j,notes:f,number_of_hive_boxes:y,station_id:S,station_maintainace_history:w,station_name:k,station_size:N,status:C,supervisor_ext:H,supervisor_int:F}={}}={},refetch:G}=(0,z.ag)(i);return o.useEffect((()=>{G()}),[i]),(0,v.jsxs)(l.A,{children:[(0,v.jsx)(c.A,{}),(0,v.jsx)(a.A,{mb:2}),(0,v.jsx)(A,{info:{image:$.A,station_name:k,location:p},children:(0,v.jsxs)(a.A,{mt:5,mb:3,children:[(0,v.jsx)(b.N_,{to:"/stations",children:"Go back"}),(0,v.jsx)(b.N_,{to:"/harvests",children:"back to harvest"}),(0,v.jsxs)(n.Ay,{container:!0,spacing:1,children:[(0,v.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,v.jsx)(h.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,v.jsx)(m.A,{title:"",description:"",info:{station_id:S,station_Name:k,location:p,station_size:N,status:C,hive_boxes:y},shadow:!1}),(0,v.jsx)(h.A,{orientation:"vertical",sx:{mx:0}})]}),(0,v.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,v.jsx)(h.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,v.jsx)(m.A,{title:"",description:"",info:{longitude:(null===(t=Number(g))||void 0===t?void 0:t.toFixed(2))||"N/A",latitude:(null===(e=Number(_))||void 0===e?void 0:e.toFixed(2))||"N/A",internal_supervisor:(0,v.jsx)(b.N_,{to:`/employees/${F}`,children:F}),external_supervisor:(0,v.jsx)(b.N_,{to:`/employees/${H}`,children:H}),last_inspection:x?E()(x).format("YYYY-MM-DD"):"N/A",next_inspection:j?E()(j).format("YYYY-MM-DD"):"N/A"},shadow:!1}),(0,v.jsx)(h.A,{orientation:"vertical",sx:{mx:0}})]}),(0,v.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,v.jsx)(h.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,v.jsx)(m.A,{title:"",description:"",info:{maintaince:w,notes:f,...r.length>0&&{honey_harvests:r.map(((t,e)=>{let{harvest_year:i,harvest_date:n,quantity_collected:s,unit:o,quality_rating:a}=t;return`Harvest ${e+1}: Year: ${i}, Date: ${n}, Quantity: ${s} ${o}, Rating: ${a}/5`})).join(" | ")}},shadow:!1}),(0,v.jsx)(h.A,{orientation:"vertical",sx:{mx:0}})]})]})]})}),(0,v.jsx)(d.A,{})]})}const Y=()=>{const{id:t}=(0,u.g)(),{station_details:e}=(0,G.gs)(),{createStation:i,isCreatingStation:s}=(0,z.cl)(),{updateStation:o,isUpdatingStation:r}=(0,z.VN)(),{isEdit:x,station_name:m,supervisor_int:_,supervisor_ext:p,location:g,longitude:j,latitude:A,station_size:w,number_of_hive_boxes:k,status:N,station_maintainace_history:$,last_inspection_date:C,next_inspection_date:H,notes:F,pages:E}=(0,f.d4)((t=>t.stations)),P={station_name:m,supervisor_int:_,supervisor_ext:p,location:g,longitude:j,latitude:A,station_size:w,number_of_hive_boxes:k,status:N,station_maintainace_history:$,notes:F},W={station_name:m,supervisor_int:_,supervisor_ext:p,location:g,longitude:j,latitude:A,station_size:w,number_of_hive_boxes:k,status:N,station_maintainace_history:$,last_inspection_date:C,next_inspection_date:H,notes:F};return(0,v.jsxs)(l.A,{children:[(0,v.jsx)(c.A,{}),(0,v.jsxs)(a.A,{mt:5,mb:3,children:[(0,v.jsx)(b.N_,{to:"/stations",children:" back to stations"}),(0,v.jsx)(n.Ay,{container:!0,spacing:1,children:(0,v.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,v.jsx)(h.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,v.jsx)("div",{children:(0,v.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=x?W:P;if(Object.values(n).every((t=>void 0!==t&&null!==t&&""!==t)))return x?o({stationdetailsOnEdit:W,id:t}):void i(P);alert("Please fill out all required fields,especially the dates field if available.")},children:[e.filter((t=>!("sort"===t.name||!(x||"next_inspection_date"!==t.name&&"last_inspection_date"!==t.name)))).map((t=>{const{name:e,TextField:i}=t;return(0,v.jsx)("div",{children:i},e)})),(0,v.jsx)(y.Sv,{background:"#1212121F",backgroundhover:"#59d9d9",size:"100%",height:"3vh",type:"submit",children:"pending"===s||"pending"===r?(0,v.jsx)(S.du,{}):x?"Update":"Submit"})]})}),(0,v.jsx)(h.A,{orientation:"vertical",sx:{mx:0}})]})})]}),(0,v.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=984.e53808a5.chunk.js.map
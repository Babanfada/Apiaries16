"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[330],{17330:(e,i,r)=>{r.r(i),r.d(i,{CreateUpdatePollination:()=>W,default:()=>E});var n=r(68282),t=r(26298),s=r(58294),o=r(83648),c=r(25813),a=r(16789),l=r(59251),d=r(63945),p=r(35016),h=(r(12682),r(49779)),v=(r(85785),r(97950),r(47417),r(77183)),m=r(74503),x=(r(22562),r(38079)),u=r(28326);function g(e){let{info:i,children:r}=e;const[a,l]=(0,s.useState)("horizontal"),[d,p]=(0,s.useState)(0);(0,s.useEffect)((()=>{function e(){return window.innerWidth<m.A.values.sm?l("vertical"):l("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[a]);const{image:h="",hive_type:g,status:A}=i;return(0,u.jsxs)(o.A,{position:"relative",mb:5,children:[(0,u.jsx)(o.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:i,linearGradient:r},palette:{gradients:n}}=e;return`${r(i(n.info.main,.6),i(n.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,u.jsxs)(t.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,u.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,u.jsx)(n.Ay,{item:!0,children:(0,u.jsx)(v.A,{src:h,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,u.jsx)(n.Ay,{item:!0,children:(0,u.jsxs)(o.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,u.jsx)(c.A,{variant:"h5",fontWeight:"medium",children:g}),(0,u.jsx)(c.A,{variant:"button",color:"text",fontWeight:"regular",children:A})]})})]}),r]})]})}g.defaultProps={info:{image:"",hive_type:"First Name",status:"Last Name"},children:null};var A=r(56084),j=r(24009),f=r(79147),_=r(40068),w=r(15570),b=(r(74996),r(14149),r(86586)),y=r(82592),P=r(57580),S=(r(76885),r(96338));function k(){const e=(0,A.wA)(),{deletePolService:i}=(0,P.O1)(),{isGettingAllPolServices:r,polservices:{polservices:n=[],totalPolServices:t,count:s,numOfPages:a}={},refetch:l}=(0,P.xd)(),d=e=>{let{image:i,crop_type:r,pol_service_id:n}=e;return(0,u.jsxs)(o.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,u.jsx)(v.A,{src:i,size:"sm"}),(0,u.jsxs)(o.A,{ml:2,lineHeight:1,children:[(0,u.jsx)(c.A,{display:"block",variant:"button",fontWeight:"medium",children:`${n} `}),(0,u.jsx)(c.A,{variant:"caption",children:r})]})]})};return{columns:[{Header:"pollination",accessor:"pollination",width:"45%",align:"left"},{Header:"service",accessor:"service",align:"left"},{Header:"description",accessor:"description",align:"center"},{Header:"rendered",accessor:"rendered",align:"center"},{Header:"price",accessor:"price",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:n.map(((r,n)=>{const{pol_service_id:t,service_id:s,crop_type:o,service_description:a,rendered:l,price:p}=r,h={service_id:s,crop_type:o,service_description:a,rendered:l,price:p};return{pollination:(0,u.jsx)(d,{image:S.A,crop_type:o,pol_service_id:t}),service:(0,u.jsx)(c.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:s}),description:(0,u.jsx)(c.A,{title:a,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:a.length>20?`${a.slice(0,20)}...`:a}),rendered:(0,u.jsxs)(c.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:["# ",l]}),price:(0,u.jsxs)(c.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:["# ",p]}),update:(0,u.jsx)(c.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,u.jsx)(j.N_,{onClick:()=>{e((0,b.Ri)(h))},to:`/createupdatepollination/${t}`,children:"Edit"})}),remove:(0,u.jsx)(c.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a pollination service records permanently, ARE YOU SURE?")&&i(t)},children:(0,u.jsx)(j.N_,{children:"remove"})})}})),numOfPages:a,refetch:l,count:s,isGettingAllPolServices:r,totalPolServices:t}}var H=r(82392),N=r(39053),z=r(77846),C=r(7579);const E=function(){const e=(0,A.wA)(),{rows:i,numOfPages:r,refetch:h,count:v,isGettingAllPolServices:m,columns:x,totalPolServices:g}=k(),{sort:_,pages:y,priceRangeP:P,service_id:S,crop_type:N,service_description:C,rendered:E,price:W}=(0,A.d4)((e=>e.polservices));return s.useEffect((()=>{h()}),[y,S,N,C,E,W,_,P]),(0,u.jsxs)(a.A,{children:[(0,u.jsx)(l.A,{}),(0,u.jsx)(o.A,{pt:6,pb:3,children:(0,u.jsx)(n.Ay,{container:!0,spacing:6,children:(0,u.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,u.jsxs)(t.A,{children:[(0,u.jsx)(o.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,u.jsxs)(c.A,{className:H.A.wrapper,variant:"h6",color:"white",children:[(0,u.jsxs)(o.A,{className:H.A.inner,children:[(0,u.jsx)(c.A,{color:"white",children:"Pollination"}),(0,u.jsxs)(c.A,{color:"white",children:[v,"/",g]})]}),(0,u.jsxs)(o.A,{className:H.A.inner,children:[(0,u.jsx)(j.N_,{onClick:()=>e((0,b.sy)()),to:"/createupdatepollination/add",children:(0,u.jsx)(z.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new pollination service"})}),(0,u.jsx)(f.bX,{isGettingAllPolServices:m})]})]})}),(0,u.jsx)(o.A,{pt:3,children:(0,u.jsx)(p.A,{table:{columns:x,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,u.jsx)(w.A,{pageDetails:{handleChange:(i,r)=>{i.preventDefault(),e((0,b.yd)(r))},numOfPages:r,pages:y}})]})})}),(0,u.jsx)(d.A,{})]})},W=()=>{const{id:e}=(0,h.g)(),{polServiceInputs:i}=(0,y.dx)(),{isUpdatingPolservices:r,updatePolService:t}=(0,P.UX)(),{createPolService:s,isCreatingPolservice:c}=(0,P.Hk)(),{service_id:p,crop_type:v,service_description:m,rendered:x,price:g,isEdit:w}=(0,A.d4)((e=>e.polservices)),b={service_id:p,crop_type:v,service_description:m,rendered:x,price:g};return(0,u.jsxs)(a.A,{children:[(0,u.jsx)(l.A,{}),(0,u.jsx)(o.A,{mt:5,mb:3,children:(0,u.jsx)(n.Ay,{className:N.A.wrapper,container:!0,spacing:1,children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(j.N_,{to:"/pollinations",children:(0,u.jsx)(C.A,{})}),(0,u.jsxs)("h6",{children:[w?`Update polination service ${p} details`:"Create a new pollination service"," "]}),(0,u.jsx)("div",{})]}),(0,u.jsxs)("form",{className:N.A.form,onSubmit:i=>{i.preventDefault();if(Object.values(b).every((e=>void 0!==e&&null!==e&&""!==e)))return w?t({polServiceDetails:b,id:e}):void s(b);alert("Please fill out all required fields.")},children:[i.filter((e=>"sort"!==e.name&&"priceRangeP"!==e.name)).map((e=>{const{name:i,TextField:r}=e;return(0,u.jsx)("div",{children:r},i)})),(0,u.jsx)(f.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===c||"pending"===r?(0,u.jsx)(_.du,{}):w?"Update":"Submit"})]})]})})}),(0,u.jsx)(d.A,{})]})}},77846:(e,i,r)=>{var n=r(5855);i.A=void 0;var t=n(r(93496)),s=r(28326),o=(0,t.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");i.A=o}}]);
//# sourceMappingURL=330.ae5828c2.chunk.js.map
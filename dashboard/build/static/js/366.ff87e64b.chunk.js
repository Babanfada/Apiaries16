"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[366],{82366:(e,i,t)=>{t.r(i),t.d(i,{CreateUpdateHive:()=>J,SingleHive:()=>Z,default:()=>V});var n=t(68282),s=t(26298),o=t(58294),r=t(83648),a=t(25813),l=t(16789),c=t(59251),d=t(63945),h=t(35016),u=(t(12682),t(49779)),x=t(80608),m=t(85785),v=(t(97950),t(47417),t(77183)),p=t(74503),g=(t(22562),t(38079)),j=t(28326);function A(e){let{info:i,children:t}=e;const[l,c]=(0,o.useState)("horizontal"),[d,h]=(0,o.useState)(0);(0,o.useEffect)((()=>{function e(){return window.innerWidth<p.A.values.sm?c("vertical"):c("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[l]);const{image:u="",hive_type:x,status:m}=i;return(0,j.jsxs)(r.A,{position:"relative",mb:5,children:[(0,j.jsx)(r.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:i,linearGradient:t},palette:{gradients:n}}=e;return`${t(i(n.info.main,.6),i(n.info.state,.6))}, url(${g})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,j.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,j.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(n.Ay,{item:!0,children:(0,j.jsx)(v.A,{src:u,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,j.jsx)(n.Ay,{item:!0,children:(0,j.jsxs)(r.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,j.jsx)(a.A,{variant:"h5",fontWeight:"medium",children:x}),(0,j.jsx)(a.A,{variant:"button",color:"text",fontWeight:"regular",children:m})]})})]}),t]})]})}A.defaultProps={info:{image:"",hive_type:"First Name",status:"Last Name"},children:null};const f=A;var _=t(56084),y=t(24009),b=t(79147),w=t(40068),C=t(15570),H=t(74996),z=t(14149),k=t.n(z),N=t(76885),S=t(33188),$=t(98377);function W(){const e=(0,_.wA)(),{deleteHive:i}=(0,S.Ze)(),{isGettingAllHives:t,hives:{hives:n=[],totalHives:s=0,count:o=0,numOfPages:l=0,colonizationCount:c=[],hiveCurrentLocationCount:d=[],hiveStatusCount:h=[],hiveTypeCount:u=[],hiveUseConditionCount:x=[]},refetch:m}=(0,S.L_)(),p=e=>{let{image:i,hive_type:t,location:n,hive_id:s}=e;return(0,j.jsxs)(r.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,j.jsx)(v.A,{src:i,hive_type:t,size:"sm"}),(0,j.jsxs)(r.A,{ml:2,lineHeight:1,children:[(0,j.jsx)(a.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,j.jsx)(y.N_,{to:`/hives/${s}`,children:`${s} ${t}`})}),(0,j.jsx)(a.A,{variant:"caption",children:n})]})]})},g=e=>{let{title:i,description:t}=e;return(0,j.jsxs)(r.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(a.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:i}),(0,j.jsx)(a.A,{variant:"caption",children:t})]})};return{columns:[{Header:"hive",accessor:"hive",width:"45%",align:"left"},{Header:"hunter",accessor:"hunter",align:"left"},{Header:"status",accessor:"status",align:"center"},{Header:"colonized",accessor:"colonized",align:"center"},{Header:"condition",accessor:"condition",align:"center"},{Header:"management",accessor:"management",align:"center"},{Header:"frames",accessor:"frames",align:"center"},{Header:"note",accessor:"note",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:n.map(((t,n)=>{const{hive_id:s,assigned_hunter:o,hive_type:l,num_of_frames:c,colonized:d,status:h,use_condition:u,first_installation:x,current_location:m,last_inspection_date:v,note:A}=t,f={hive_id:s,assigned_hunter:o,hive_type:l,num_of_frames:c,colonized:d,status:h,use_condition:u,first_installation:x,current_location:m,last_inspection_date:v,note:A};return{hive:(0,j.jsx)(p,{image:H.A,hive_type:l,location:m,hive_id:s}),hunter:(0,j.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(y.N_,{to:`/hunters/${o}`,children:o})}),status:(0,j.jsx)(r.A,{ml:-1,children:(0,j.jsx)(N.A,{badgeContent:h,color:"inuse"===h?"success":"unuse"===h?"warning":"error",variant:"gradient",size:"sm"})}),colonized:(0,j.jsx)(r.A,{ml:-1,children:(0,j.jsx)(N.A,{badgeContent:d,color:"confirmed"===d?"success":"pending"===d?"warning":"error",variant:"gradient",size:"sm"})}),condition:(0,j.jsx)(r.A,{ml:-1,children:(0,j.jsx)(N.A,{badgeContent:u,color:"new"===u?"success":"used"===u?"warning":"error",variant:"gradient",size:"sm"})}),management:(0,j.jsx)(g,{title:`installed_on: ${x||"N/A"}`,description:`inspected_on: ${v||"N/A"}`}),frames:(0,j.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:c}),note:(0,j.jsx)(a.A,{title:A,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:A.length>20?`${A.slice(0,20)}...`:A}),update:(0,j.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(y.N_,{onClick:()=>{e((0,$.ac)(f))},to:`/createupdatehive/${s}`,children:"Edit"})}),remove:(0,j.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a hives records permanently, ARE YOU SURE?")&&i(s)},children:(0,j.jsx)(y.N_,{children:"remove"})})}})),numOfPages:l,count:o,refetch:m,isGettingAllHives:t,hives:n,totalHives:s,colonizationCount:c,hiveCurrentLocationCount:d,hiveStatusCount:h,hiveTypeCount:u,hiveUseConditionCount:x}}var E=t(40447),G=t(35981),L=t(48781),P=t(1489),U=t(17633),O=t(18509),D=t(64977),F=t(5519);const I={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function T(e){let{isGettingAllHives:i}=e;const[t,n]=o.useState(!1),s=()=>n(!1);return(0,j.jsxs)("div",{className:U.A.wrapper,children:[(0,j.jsx)("div",{children:(0,j.jsx)(P.A,{fontSize:"medium",onClick:()=>n(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,j.jsx)(L.A,{open:t,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(E.A,{sx:{...I,background:"white"},className:U.A.box,children:[(0,j.jsxs)(G.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Hives ",(0,j.jsx)(O.A,{style:{cursor:"pointer"},onClick:s})]}),(0,j.jsx)("p",{children:"which hive are you looking for?"}),(0,j.jsx)(Y,{handleClose:s,isGettingAllHives:i})]})})]})}const Y=e=>{let{handleClose:i,isGettingAllHives:t}=e;const{hiveInputs:n}=(0,F.L_)(),s=(0,_.wA)();return(0,j.jsxs)("form",{className:U.A.paper,children:[n.filter((e=>"last_inspection_date"!==e.name&&"note"!==e.name&&"assigned_hunter"!==e.name)).map((e=>{const{name:i,TextField:t}=e;return(0,j.jsx)("div",{children:t},i)})),(0,j.jsx)(D.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{s((0,$.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,j.jsx)(D.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>i(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===t?(0,j.jsx)(w.du,{color:"success"}):"Find Out"})]})};var R=t(82392),M=t(39053),q=t(77846),B=t(7579);const V=function(){const{columns:e,rows:i,numOfPages:t,count:u,refetch:x,isGettingAllHives:m,hives:v,totalHives:p,colonizationCount:g,hiveCurrentLocationCount:A,hiveStatusCount:f,hiveTypeCount:b,hiveUseConditionCount:w}=W(),H=(0,_.wA)(),{pages:z,assigned_hunter:k,hive_type:N,num_of_frames:S,colonized:E,status:G,use_condition:L,first_installation:P,current_location:U,last_inspection_date:O,note:D,sort:F}=(0,_.d4)((e=>e.hives));return o.useEffect((()=>{x()}),[z,k,N,S,E,G,L,P,U,O,D,F]),(0,j.jsxs)(l.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(r.A,{pt:6,pb:3,children:(0,j.jsx)(n.Ay,{container:!0,spacing:6,children:(0,j.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,j.jsxs)(s.A,{children:[(0,j.jsx)(r.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,j.jsxs)(a.A,{className:R.A.wrapper,variant:"h6",color:"white",children:[(0,j.jsxs)(r.A,{className:R.A.inner,children:[(0,j.jsx)(a.A,{color:"white",children:"Hives"}),(0,j.jsxs)(a.A,{color:"white",children:[u,"/",p]})]}),(0,j.jsxs)(r.A,{className:R.A.inner,children:[(0,j.jsx)(y.N_,{onClick:()=>H((0,$.sy)()),to:"/createupdatehive/add",children:(0,j.jsx)(q.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new hive"})}),(0,j.jsx)(T,{isGettingAllHives:m})]})]})}),(0,j.jsx)(r.A,{pt:3,children:(0,j.jsx)(h.A,{table:{columns:e,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,j.jsx)(C.A,{pageDetails:{handleChange:(e,i)=>{e.preventDefault(),H((0,$.yd)(i))},numOfPages:t,pages:z}})]})})}),(0,j.jsx)(d.A,{})]})};function Z(){const{id:e}=(0,u.g)(),{isGettingSingleHive:i,singleHive:{hive:{hive_id:t,assigned_hunter:s,hive_type:a,num_of_frames:h,colonized:v,status:p,use_condition:g,first_installation:A,current_location:_,last_inspection_date:b,note:w}={}}={},refetch:C}=(0,S.O7)(e);return o.useEffect((()=>{C()}),[e]),(0,j.jsxs)(l.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(r.A,{mb:2}),(0,j.jsx)(f,{info:{image:H.A,hive_type:a,status:p},children:(0,j.jsxs)(r.A,{mt:5,mb:3,children:[(0,j.jsx)(y.N_,{to:"/hives",children:(0,j.jsx)(B.A,{})}),(0,j.jsxs)(n.Ay,{container:!0,spacing:1,children:[(0,j.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(x.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsx)(m.A,{title:"",description:"",info:{hive_id:t,hunter:(0,j.jsx)(y.N_,{to:`/hunters/${s}`,children:s}),hive_type:a,frames:h},shadow:!1}),(0,j.jsx)(x.A,{orientation:"vertical",sx:{mx:0}})]}),(0,j.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(x.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsx)(m.A,{title:"",description:"",info:{colonized:v,status:p,use_condition:g,first_installation:A},shadow:!1}),(0,j.jsx)(x.A,{orientation:"vertical",sx:{mx:0}})]}),(0,j.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(x.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsx)(m.A,{title:"",description:"",info:{current_location:_,inspected_on:b?k()(b).format("YYYY-MM-DD"):"N/A",note:w},shadow:!1}),(0,j.jsx)(x.A,{orientation:"vertical",sx:{mx:0}})]})]})]})}),(0,j.jsx)(d.A,{})]})}const J=()=>{const{id:e}=(0,u.g)(),{hiveInputs:i}=(0,F.L_)(),{isUpdatingHive:t,updateHive:s}=(0,S.FF)(),{createHive:o,isCreatingHive:a}=(0,S.mn)(),{assigned_hunter:h,hive_type:x,num_of_frames:m,colonized:v,status:p,use_condition:g,first_installation:A,current_location:f,last_inspection_date:C,note:H,isEdit:z}=(0,_.d4)((e=>e.hives)),k={assigned_hunter:h,hive_type:x,num_of_frames:m,colonized:v,status:p,use_condition:g,first_installation:A,current_location:f,last_inspection_date:C,note:H};return(0,j.jsxs)(l.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(r.A,{mt:5,mb:3,children:(0,j.jsx)(n.Ay,{className:M.A.wrapper,container:!0,spacing:1,children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(y.N_,{to:"/hives",children:(0,j.jsx)(B.A,{})}),(0,j.jsxs)("h6",{children:[z?`Update ${x} details assignde to hunter ${h}`:"Create a new Hive"," "]}),(0,j.jsx)("div",{})]}),(0,j.jsxs)("form",{className:M.A.form,onSubmit:i=>{i.preventDefault();if(Object.values(k).every((e=>void 0!==e&&null!==e&&""!==e)))return z?s({hiveDetails:k,id:e}):void o(k);alert("Please fill out all required fields.")},children:[i.filter((e=>"sort"!==e.name)).map((e=>{const{name:i,TextField:t}=e;return(0,j.jsx)("div",{children:t},i)})),(0,j.jsx)(b.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===a||"pending"===t?(0,j.jsx)(w.du,{}):z?"Update":"Submit"})]})]})})}),(0,j.jsx)(d.A,{})]})}},77846:(e,i,t)=>{var n=t(5855);i.A=void 0;var s=n(t(93496)),o=t(28326),r=(0,s.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");i.A=r}}]);
//# sourceMappingURL=366.ff87e64b.chunk.js.map
"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[695],{16695:(e,t,i)=>{i.r(t),i.d(t,{CreateUpdateEmployee:()=>H,SingleEmployee:()=>W,default:()=>O});var n=i(68282),s=i(26298),l=i(58294),r=i(83648),o=i(25813),a=i(16789),d=i(59251),m=i(63945),c=i(35016),p=i(87049),x=(i(12682),i(79548)),h=i(49779),u=i(80608),g=i(85785),j=(i(97950),i(47417),i(77183)),y=i(74503),A=(i(22562),i(38079)),f=i(28326);function b(e){let{info:t,children:i}=e;const[a,d]=(0,l.useState)("horizontal"),[m,c]=(0,l.useState)(0);(0,l.useEffect)((()=>{function e(){return window.innerWidth<y.A.values.sm?d("vertical"):d("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[a]);const{image:p="",first_name:x,last_name:h,role:u}=t;return(0,f.jsxs)(r.A,{position:"relative",mb:5,children:[(0,f.jsx)(r.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:i},palette:{gradients:n}}=e;return`${i(t(n.info.main,.6),t(n.info.state,.6))}, url(${A})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,f.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,f.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,f.jsx)(n.Ay,{item:!0,children:(0,f.jsx)(j.A,{src:p,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,f.jsx)(n.Ay,{item:!0,children:(0,f.jsxs)(r.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,f.jsx)(o.A,{variant:"h5",fontWeight:"medium",children:`${x} ${h}`}),(0,f.jsx)(o.A,{variant:"button",color:"text",fontWeight:"regular",children:u})]})})]}),i]})]})}b.defaultProps={info:{image:"",first_name:"First Name",last_name:"Last Name",role:"Role"},children:null};const v=b;var _=i(33991),k=i(56084),w=i(24009),E=i(66801),C=i(40068),S=i(71018),G=i(40447),D=i(35981),z=i(48781),F=i(29340),P=i(18509),$=i(64977);function N(e){let{isGettingAllEmployees:t}=e;const[i,n]=l.useState(!1),s=()=>n(!1);return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)(F.MFA,{onClick:()=>n(!0),title:"filter"})}),(0,f.jsx)(z.A,{open:i,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,f.jsxs)(G.A,{children:[(0,f.jsxs)(D.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Filter ",(0,f.jsx)(P.A,{style:{cursor:"pointer"},onClick:s})]}),(0,f.jsx)("p",{children:"which of your products are you looking for?"}),(0,f.jsx)(U,{handleClose:s,isGettingAllEmployees:t})]})})]})}const U=e=>{let{handleClose:t,isGettingAllEmployees:i}=e;const{searchEmployees:n}=(0,_.u)(),s=(0,k.wA)();return(0,f.jsxs)("form",{children:[n.map((e=>{const{name:t,TextField:i}=e;return(0,f.jsx)("div",{children:i},t)})),(0,f.jsx)($.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>{s((0,S.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,f.jsx)($.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===i?(0,f.jsx)(C.du,{color:"success"}):"Find Out"})]})};var I=i(15570);const O=function(){const{columns:e,rows:t,numOfPages:i,totalEmployees:l,count:x,salaryData:h,newHires:u,newHiresCount:g,employeesGenderCount:j,departmentCount:y,employmentStatusCount:A,employmentTypeCount:b,isGettingAllEmployees:v,pages:_}=(0,p.A)(),E=(0,k.wA)();return(0,f.jsxs)(a.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(r.A,{pt:6,pb:3,children:(0,f.jsx)(n.Ay,{container:!0,spacing:6,children:(0,f.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,f.jsxs)(s.A,{children:[(0,f.jsx)(r.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,f.jsxs)(o.A,{variant:"h6",color:"white",children:["Employees ",x,"/",l,(0,f.jsx)(w.N_,{onClick:()=>E((0,S.Yo)()),to:"/admin/createupdateemployees/add",children:"create emp"}),(0,f.jsx)(N,{isGettingAllEmployees:v})]})}),(0,f.jsx)(r.A,{pt:3,children:(0,f.jsx)(c.A,{table:{columns:e,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,f.jsx)(I.A,{pageDetails:{handleChange:(e,t)=>{e.preventDefault(),E((0,S.yd)(t))},numOfPages:i,pages:_}})]})})}),(0,f.jsx)(m.A,{})]})};function W(){const{id:e}=(0,h.g)(),{isGettingSingleEmployee:t,singleemployee:i,refetch:s}=(0,x.U7)(e),{employee:o}=i||{},{catch_reports:c=[],employee_nok:p={},externallySupervising:j=[],internallySupervising:y=[],swarm_hunters:A=[],emp_id:b,first_name:_,last_name:k,gender:E,email:C,dob:S,phone:G,image:D,role:z,address:F,department:P,employment_type:$,employment_status:N,salary:U,joining_date:I,skill:O,notes:W}=null!==o&&void 0!==o?o:{};return l.useEffect((()=>{s()}),[e]),(0,f.jsxs)(a.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(r.A,{mb:2}),(0,f.jsx)(v,{info:{image:D,first_name:_,last_name:k,role:z},children:(0,f.jsxs)(r.A,{mt:5,mb:3,children:[(0,f.jsx)(w.N_,{to:"/employees",children:"Go back"}),(0,f.jsxs)(n.Ay,{container:!0,spacing:1,children:[(0,f.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsx)(g.A,{title:"",description:"",info:{emp_id:b,fullName:`${_} ${k}`,mobile:`${G}`,address:F,employment_type:$,gender:E,department:P,employment_status:N},shadow:!1}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]}),(0,f.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsx)(g.A,{title:"",description:"",info:{salary:U,joining_date:I,dob:S,email:C,skill:O,notes:W},shadow:!1}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]}),(0,f.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsx)(g.A,{title:"",description:"",info:{...Object.keys(p).length>0&&{nok:p.fullname,nok_id:p.nok_id},...j.length>0&&{["supervised_station"+(j.length>0?"s":"")]:j.map((e=>e.station_id)).join(", ")}},shadow:!1}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]})]})]})}),(0,f.jsx)(m.A,{})]})}function H(){const{id:e}=(0,h.g)(),{employeeDetails:t}=(0,_.u)(),{createEmployee:i,isCreatingEmployee:s}=(0,x.Ar)(),{updateEmployee:l,isUpdatingEmployee:o}=(0,x.Db)(),{email:c,first_name:p,last_name:g,address:j,phone:y,gender:A,role:b,department:v,dob:S,joining_date:G,salary:D,skill:z,notes:F,employment_status:P,employment_type:$,isEdit:N}=(0,k.d4)((e=>e.employees)),U={email:c,first_name:p,last_name:g,address:j.trim(),phone:y,gender:A,role:b,department:v,dob:S,joining_date:G,salary:D,skill:z,notes:F.trim(),employment_status:P,employment_type:$},{uploadEmployeeImgs:I,isUploadingEmployeeImages:O}=(0,x.Dy)(e);return(0,f.jsxs)(a.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(r.A,{mb:2}),(0,f.jsx)(r.A,{mt:5,mb:3,children:(0,f.jsx)(n.Ay,{container:!0,spacing:1,children:(0,f.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsxs)("div",{children:[(0,f.jsx)(w.N_,{to:"/employees",children:"Go back"}),N?(0,f.jsx)(E.Uz,{name:"image",handleChange:e=>{const t=e.target.files[0],i=new FormData;t?(i.append("image",t),I(i)):alert("Please select a file to upload.")},uploading:O}):"",(0,f.jsxs)("form",{onSubmit:t=>{t.preventDefault();if(Object.values(U).every((e=>void 0!==e&&null!==e&&""!==e)))return N?l({empDetails:U,id:e}):void i(U);alert("Please fill out all required fields.")},children:[t.map((e=>{const{name:t,TextField:i}=e;return(0,f.jsx)("div",{children:i},t)})),(0,f.jsx)(E.Sv,{background:"#1212121F",backgroundhover:"#59d9d9",size:"100%",height:"3vh",type:"submit",children:"pending"===s||"pending"===o?(0,f.jsx)(C.du,{}):N?"Update":"Submit"})]})]}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]})})}),(0,f.jsx)(m.A,{})]})}}}]);
//# sourceMappingURL=695.4d7a50e2.chunk.js.map
"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[919],{35919:(e,i,r)=>{r.r(i),r.d(i,{CreateUpdateService:()=>L,default:()=>F});var s=r(68282),t=r(26298),n=r(58294),c=r(83648),a=r(25813),o=r(16789),l=r(59251),d=r(63945),h=r(35016),m=(r(12682),r(49779)),u=(r(85785),r(97950),r(47417),r(77183)),v=r(74503),x=(r(22562),r(38079)),g=r(28326);function p(e){let{info:i,children:r}=e;const[o,l]=(0,n.useState)("horizontal"),[d,h]=(0,n.useState)(0);(0,n.useEffect)((()=>{function e(){return window.innerWidth<v.A.values.sm?l("vertical"):l("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[o]);const{image:m="",hive_type:p,status:j}=i;return(0,g.jsxs)(c.A,{position:"relative",mb:5,children:[(0,g.jsx)(c.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:i,linearGradient:r},palette:{gradients:s}}=e;return`${r(i(s.info.main,.6),i(s.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,g.jsxs)(t.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,g.jsxs)(s.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(s.Ay,{item:!0,children:(0,g.jsx)(u.A,{src:m,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,g.jsx)(s.Ay,{item:!0,children:(0,g.jsxs)(c.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,g.jsx)(a.A,{variant:"h5",fontWeight:"medium",children:p}),(0,g.jsx)(a.A,{variant:"button",color:"text",fontWeight:"regular",children:j})]})})]}),r]})]})}p.defaultProps={info:{image:"",hive_type:"First Name",status:"Last Name"},children:null};var j=r(56084),A=r(24009),f=r(93919),b=r(40068),y=r(15570),w=(r(74996),r(14149),r(76885),r(96338)),S=r(4413),k=r(59135);function _(){const e=(0,j.wA)(),{isGettingAllServices:i,services:{service:r=[],totalServices:s=0,count:t=0,numOfPages:n=0},refetch:o}=(0,S.A$)(),{deleteService:l}=(0,S.if)(),d=e=>{let{image:i,category:r,service_name:s,service_id:t}=e;return(0,g.jsxs)(c.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,g.jsx)(u.A,{src:i,category:r,size:"sm"}),(0,g.jsxs)(c.A,{ml:2,lineHeight:1,children:[(0,g.jsx)(a.A,{display:"block",variant:"button",fontWeight:"medium",children:`${t} ${r}`}),(0,g.jsx)(a.A,{variant:"caption",children:s})]})]})};return{columns:[{Header:"service",accessor:"service",width:"45%",align:"left"},{Header:"rendered",accessor:"rendered",align:"left"},{Header:"description",accessor:"description",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:r.map(((i,r)=>{const{service_id:s,service_name:t,description:n,numOfTimesRendered:c,category:o}=i,h={service_id:s,service_name:t,description:n,numOfTimesRendered:c,category:o};return{service:(0,g.jsx)(d,{image:w.A,category:o,service_name:t,service_id:s}),rendered:(0,g.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:c}),description:(0,g.jsx)(a.A,{title:n,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:n.length>20?`${n.slice(0,20)}...`:n}),update:(0,g.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(A.N_,{onClick:()=>{e((0,k.zt)(h))},to:`/createupdateservice/${s}`,children:"Edit"})}),remove:(0,g.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a serv records permanently, ARE YOU SURE?")&&l(s)},children:(0,g.jsx)(A.N_,{children:"remove"})})}})),numOfPages:n,refetch:o,count:t,isGettingAllServices:i,service:r,totalServices:s}}var C=r(40447),N=r(35981),O=r(48781),z=r(18509),E=r(64977),R=r(82592),W=r(1489),H=r(17633);const P={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function G(e){let{isGettingAllServices:i}=e;const[r,s]=n.useState(!1),t=()=>s(!1);return(0,g.jsxs)("div",{className:H.A.wrapper,children:[(0,g.jsx)("div",{children:(0,g.jsx)(W.A,{fontSize:"medium",onClick:()=>s(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,g.jsx)(O.A,{open:r,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsxs)(C.A,{sx:{...P,background:"white"},className:H.A.box,children:[(0,g.jsxs)(N.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Services ",(0,g.jsx)(z.A,{style:{cursor:"pointer"},onClick:t})]}),(0,g.jsx)("p",{children:"which serviceare you looking for?"}),(0,g.jsx)(T,{handleClose:t,isGettingAllServices:i})]})})]})}const T=e=>{let{handleClose:i,isGettingAllServices:r}=e;const{serviceInputs:s}=(0,R.g4)(),t=(0,j.wA)();return(0,g.jsxs)("form",{className:H.A.paper,children:[s.filter((e=>"description"!==e.name)).map((e=>{const{name:i,TextField:r}=e;return(0,g.jsx)("div",{children:r},i)})),(0,g.jsx)(E.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{t((0,k.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,g.jsx)(E.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>i(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===r?(0,g.jsx)(b.du,{color:"success"}):"Find Out"})]})};var $=r(82392),I=r(39053),U=r(77846),D=r(7579);const F=function(){const{columns:e,rows:i,numOfPages:r,count:m,refetch:u,isGettingAllServices:v,service:x,totalServices:p}=_(),f=(0,j.wA)(),{service_name:b,description:w,numOfTimesRendered:S,category:C,sort:N,pages:O}=(0,j.d4)((e=>e.services));return n.useEffect((()=>{u()}),[b,w,S,C,N,O]),(0,g.jsxs)(o.A,{children:[(0,g.jsx)(l.A,{}),(0,g.jsx)(c.A,{pt:6,pb:3,children:(0,g.jsx)(s.Ay,{container:!0,spacing:6,children:(0,g.jsxs)(s.Ay,{item:!0,xs:12,children:[(0,g.jsxs)(t.A,{children:[(0,g.jsx)(c.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,g.jsxs)(a.A,{className:$.A.wrapper,variant:"h6",color:"white",children:[(0,g.jsxs)(c.A,{className:$.A.inner,children:[(0,g.jsx)(a.A,{color:"white",children:"Services"}),(0,g.jsxs)(a.A,{color:"white",children:[m,"/",p]})]}),(0,g.jsxs)(c.A,{className:$.A.inner,children:[(0,g.jsx)(A.N_,{onClick:()=>f((0,k.sy)()),to:"/createupdateservice/add",children:(0,g.jsx)(U.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new service"})}),(0,g.jsx)(G,{isGettingAllServices:v})]})]})}),(0,g.jsx)(c.A,{pt:3,children:(0,g.jsx)(h.A,{table:{columns:e,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,g.jsx)(y.A,{pageDetails:{handleChange:(e,i)=>{e.preventDefault(),f((0,k.yd)(i))},numOfPages:r,pages:O}})]})})}),(0,g.jsx)(d.A,{})]})},L=()=>{const{id:e}=(0,m.g)(),{serviceInputs:i}=(0,R.g4)(),{isUpdatingService:r,updateService:t}=(0,S.iM)(),{createService:n,isCreatingService:a}=(0,S.Rv)(),{service_name:h,description:u,numOfTimesRendered:v,category:x,isEdit:p}=(0,j.d4)((e=>e.services)),y={service_name:h,description:u,numOfTimesRendered:v,category:x};return(0,g.jsxs)(o.A,{children:[(0,g.jsx)(l.A,{}),(0,g.jsx)(c.A,{mt:5,mb:3,children:(0,g.jsxs)(s.Ay,{className:I.A.wrapper,container:!0,spacing:1,children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(A.N_,{to:"/services",children:(0,g.jsx)(D.A,{})}),(0,g.jsxs)("h6",{children:[p?`Update ${h} details`:"Create a new Service"," "]}),(0,g.jsx)("div",{})]}),(0,g.jsxs)("form",{className:I.A.form,onSubmit:i=>{i.preventDefault();if(Object.values(y).every((e=>void 0!==e&&null!==e&&""!==e)))return p?t({serviceDetails:y,id:e}):void n(y);alert("Please fill out all required fields.")},children:[i.filter((e=>"sort"!==e.name)).map((e=>{const{name:i,TextField:r}=e;return(0,g.jsx)("div",{children:r},i)})),(0,g.jsx)(f.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===a||"pending"===r?(0,g.jsx)(b.du,{}):p?"Update":"Submit"})]})]})," "]})}),(0,g.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=919.f947e71f.chunk.js.map
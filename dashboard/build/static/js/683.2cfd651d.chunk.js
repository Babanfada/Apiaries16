"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[683],{48683:(e,i,s)=>{s.r(i),s.d(i,{SingleUser:()=>_,default:()=>$});var t=s(68282),n=s(26298),r=s(58294),a=s(83648),l=s(25813),o=s(16789),c=s(59251),d=s(63945),u=s(35016),m=(s(87049),s(12682),s(79548),s(49779)),x=s(80608),g=s(85785),h=(s(97950),s(47417),s(77183)),f=s(74503),A=(s(22562),s(38079)),j=s(28326);function p(e){let{info:i,children:s}=e;const[o,c]=(0,r.useState)("horizontal"),[d,u]=(0,r.useState)(0);(0,r.useEffect)((()=>{function e(){return window.innerWidth<f.A.values.sm?c("vertical"):c("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[o]);const{image:m,fullname:x,address:g,role:p}=i;return(0,j.jsxs)(a.A,{position:"relative",mb:5,children:[(0,j.jsx)(a.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:i,linearGradient:s},palette:{gradients:t}}=e;return`${s(i(t.info.main,.6),i(t.info.state,.6))}, url(${A})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,j.jsxs)(n.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,j.jsxs)(t.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(t.Ay,{item:!0,children:(0,j.jsx)(h.A,{src:m,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,j.jsx)(t.Ay,{item:!0,children:(0,j.jsxs)(a.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,j.jsx)(l.A,{variant:"h5",fontWeight:"medium",children:x}),(0,j.jsx)(l.A,{variant:"button",color:"text",fontWeight:"regular",children:g})]})})]}),s]})]})}p.defaultProps={info:{image:"",fullname:"First Name",address:"Last Name",role:"Role"},children:null};const v=p;var b=s(56084),k=s(24009),y=s(66801),w=(s(40068),s(15570)),S=s(3186),C=s(56995);const U=e=>{let{image:i,name:s,email:t,user_id:n}=e;return(0,j.jsxs)(a.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,j.jsx)(h.A,{src:i,name:s,size:"sm"}),(0,j.jsxs)(a.A,{ml:2,lineHeight:1,children:[(0,j.jsx)(l.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,j.jsx)(k.N_,{title:"check details",to:`/users/${n}`,children:`${n} ${s}`})}),(0,j.jsx)(l.A,{variant:"caption",children:t})]})]})},E=e=>{let{title:i,description:s}=e;return(0,j.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(l.A,{display:"block",variant:"caption",color:"admin"===i?"error":"warning",fontWeight:"medium",children:i}),(0,j.jsx)(l.A,{variant:"caption",children:s})]})};function H(){const{blacklistUser:e,blacklisting:i}=(0,C.Ok)(),{users:s,refetch:t,isGettingAllUser:n}=(0,C.Wq)(),{users:r=[],totalUsers:o=0,count:c=0,numOfPages:d=1,genderCount:u=[],verificationCount:m=[]}=s||{};return{columns:[{Header:"users",accessor:"users",width:"45%",align:"left"},{Header:"details",accessor:"details",align:"left"},{Header:"gender",accessor:"gender",align:"center"},{Header:"phone",accessor:"phone",align:"center"},{Header:"notification",accessor:"notification",align:"center"},{Header:"verified",accessor:"verified",align:"center"},{Header:"blacklisted",accessor:"blacklisted",align:"center"},{Header:"action",accessor:"action",align:"center"}],rows:r.map(((i,s)=>{const{user_id:t,fullname:n,email:r,phone:o,gender:c,image:d,role:u,address:m,emailNotification:x,blacklisted:g,isVerified:h}=i;return{users:(0,j.jsx)(U,{image:d,name:`${n}`,email:r,user_id:t}),details:(0,j.jsx)(E,{title:u,description:m}),gender:(0,j.jsx)(a.A,{ml:-1,children:(0,j.jsx)(S.A,{badgeContent:c,color:"male"===c?"success":"primary",variant:"gradient",size:"sm"})}),phone:(0,j.jsx)(l.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:o}),notification:(0,j.jsx)(a.A,{ml:-1,children:(0,j.jsx)(S.A,{badgeContent:x?"Disabled":"Enabled",color:x?"error":"success",variant:"gradient",size:"sm"})}),verified:(0,j.jsx)(a.A,{ml:-1,children:(0,j.jsx)(S.A,{badgeContent:h?"Verified":"Unverified",color:h?"success":"warning",variant:"gradient",size:"sm"})}),blacklisted:(0,j.jsx)(a.A,{ml:-1,children:(0,j.jsx)(S.A,{badgeContent:g?"Blacklisted":"Active",color:g?"error":"success",variant:"gradient",size:"sm"})}),action:(0,j.jsx)(l.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(k.N_,{onClick:()=>{window.confirm(`You are about to ${g?"activate":"blacklist"} a user, ARE YOU SURE?`)&&(g?(e({user_id:t,blacklist:!1,isValid:!0}),console.log("User activated")):(e({user_id:t,blacklist:!0,isValid:!1}),console.log("User deactivated")))},children:g?"Activate user":"Blacklist user"})})}})),numOfPages:d,count:c,totalUsers:o,genderCount:u,verificationCount:m,refetch:t,isGettingAllUser:n,blacklisting:i}}var N=s(67181);const $=function(){const{columns:e,rows:i,numOfPages:s,count:m,totalUsers:x,genderCount:g,verificationCount:h,refetch:f,isGettingAllUser:A,blacklisting:p}=H(),v=(0,b.wA)(),{gendersearch:k,isVerified:S,blacklisted:C,subscribed:U,sort:E,pages:$,email:_,fullname:z,phone:P,gender:W}=(0,b.d4)((e=>e.users));return r.useEffect((()=>{f()}),[k,S,C,U,E,$,_,z,P,W,p]),(0,j.jsxs)(o.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(a.A,{pt:6,pb:3,children:(0,j.jsx)(t.Ay,{container:!0,spacing:6,children:(0,j.jsxs)(t.Ay,{item:!0,xs:12,children:[(0,j.jsxs)(n.A,{children:[(0,j.jsx)(a.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,j.jsxs)(l.A,{variant:"h6",color:"white",children:["Users ",m,"/",x,(0,j.jsx)(y.h7,{isGettingAllUser:A})]})}),(0,j.jsx)(a.A,{pt:3,children:(0,j.jsx)(u.A,{table:{columns:e,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,j.jsx)(w.A,{pageDetails:{handleChange:(e,i)=>{e.preventDefault(),v((0,N.yd)(i))},numOfPages:s,pages:$}})]})})}),(0,j.jsx)(d.A,{})]})};function _(){const{id:e}=(0,m.g)(),{isGettingSingleUser:i,singleuser:s,refetch:n}=(0,C.rS)(e),{user:l,deliveryStatusCount:u=[],paymentStatusCount:h=[]}=s||{},{address:f,blacklisted:A,email:p,emailNotification:b,fullname:y,gender:w,image:S,isVerified:U,phone:E,role:H,user_id:N}=null!==l&&void 0!==l?l:{};return r.useEffect((()=>{n()}),[e]),(0,j.jsxs)(o.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(a.A,{mb:2}),(0,j.jsx)(v,{info:{image:S,fullname:y,address:f,role:H},children:(0,j.jsxs)(a.A,{mt:5,mb:3,children:[(0,j.jsx)(k.N_,{to:"/users",children:"Go back"}),(0,j.jsxs)(t.Ay,{container:!0,spacing:1,children:[(0,j.jsxs)(t.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(x.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsx)(g.A,{title:"",description:"",info:{fullname:y,id:N,email:p,mobile:E},shadow:!1}),(0,j.jsx)(x.A,{orientation:"vertical",sx:{mx:0}})]}),(0,j.jsxs)(t.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(x.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsx)(g.A,{title:"",description:"",info:{address:f,gender:w,blacklisted:A?"YES":"No",Notification:b?"YES":"No"},shadow:!1}),(0,j.jsx)(x.A,{orientation:"vertical",sx:{mx:0}})]}),(0,j.jsxs)(t.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(x.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsx)(g.A,{title:"",description:"",info:{Verified:U?"YES":"No",...h.length>0&&{paymentStatusCount:h.map(((e,i)=>{let{paymentStatus:s,count:t}=e;return`Order ${i+1}: Status: ${s}, Number: ${t}`})).join(" | ")},...u.length>0&&{deliveryStatusCount:u.map(((e,i)=>{let{deliveryStatus:s,count:t}=e;return`delivery ${i+1}: Status: ${s}, Number: ${t}`})).join(" | ")}},shadow:!1}),(0,j.jsx)(x.A,{orientation:"vertical",sx:{mx:0}})]})]})]})}),(0,j.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=683.2cfd651d.chunk.js.map
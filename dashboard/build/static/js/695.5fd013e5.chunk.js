"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[695],{87049:(e,t,n)=>{n.d(t,{A:()=>h});var s=n(83648),i=n(25813),l=n(77183),a=n(76885),o=n(79548),r=n(24009),d=n(56084),m=n(71018),c=n(58294),p=n(28326);function h(){const{isGettingAllEmployees:e,employees:t,refetch:n}=(0,o._H)(),{employees:h=[],numOfPages:x=1,totalEmployees:u=0,count:g=0,salaryData:y=[],newHires:j=[],newHiresCount:A=[],employeesGenderCount:f=[],departmentCount:v=[],employmentStatusCount:_=[],employmentTypeCount:b=[]}=t||{},w=e=>{let{image:t,name:n,email:a,emp_id:o}=e;return(0,p.jsxs)(s.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,p.jsx)(l.A,{src:t,name:n,size:"sm"}),(0,p.jsxs)(s.A,{ml:2,lineHeight:1,children:[(0,p.jsx)(i.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,p.jsx)(r.N_,{to:`/employees/${o}`,children:`${o} ${n}`})}),(0,p.jsx)(i.A,{variant:"caption",children:a})]})]})},k=e=>{let{title:t,description:n}=e;return(0,p.jsxs)(s.A,{lineHeight:1,textAlign:"left",children:[(0,p.jsx)(i.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:t}),(0,p.jsx)(i.A,{variant:"caption",children:n})]})},C=h.map(((e,t)=>{const{emp_id:n,first_name:l,last_name:o,gender:c,email:h,dob:x,phone:u,image:g,role:y,address:j,department:A,employment_type:f,employment_status:v,salary:_,joining_date:b,skill:C,notes:E}=e,S={emp_id:n,first_name:l,last_name:o,gender:c,email:h,dob:x,phone:u,role:y,address:j,department:A,employment_type:f,employment_status:v,salary:_,joining_date:b,skill:C,notes:E},H=(0,d.wA)();return{employee:(0,p.jsx)(w,{image:g,name:`${l} ${o}`,email:h,emp_id:n}),function:(0,p.jsx)(k,{title:y,description:A}),gender:(0,p.jsx)(s.A,{ml:-1,children:(0,p.jsx)(a.A,{badgeContent:c,color:"male"===c?"success":"primary",variant:"gradient",size:"sm"})}),phone:(0,p.jsx)(i.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:u}),dob:(0,p.jsx)(i.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:x}),action:(0,p.jsx)(i.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,p.jsx)(r.N_,{onClick:()=>{H((0,m.KP)(S))},to:`/admin/createupdateemployees/${n}`,children:"Edit"})})}})),{first_name:E,last_name:S,employment_type:H,employment_status:N,dob:$,joining_date:z,role:G,salaryRange:D,pages:P,sort:W}=(0,d.d4)((e=>e.employees));return c.useEffect((()=>{n()}),[E,S,H,N,$,z,G,P,D,W]),{columns:[{Header:"employee",accessor:"employee",width:"45%",align:"left"},{Header:"function",accessor:"function",align:"left"},{Header:"gender",accessor:"gender",align:"center"},{Header:"phone",accessor:"phone",align:"center"},{Header:"dob",accessor:"dob",align:"center"},{Header:"action",accessor:"action",align:"center"}],rows:C,numOfPages:x,totalEmployees:u,count:g,salaryData:y,newHires:j,newHiresCount:A,employeesGenderCount:f,departmentCount:v,employmentStatusCount:_,employmentTypeCount:b,isGettingAllEmployees:e,pages:P}}},16695:(e,t,n)=>{n.r(t),n.d(t,{CreateUpdateEmployee:()=>K,SingleEmployee:()=>B,default:()=>q});var s=n(68282),i=n(26298),l=n(58294),a=n(83648),o=n(25813),r=n(16789),d=n(59251),m=n(63945),c=n(35016),p=n(87049),h=(n(12682),n(79548)),x=n(49779),u=n(80608),g=n(85785),y=(n(97950),n(47417),n(77183)),j=n(74503),A=(n(22562),n(38079)),f=n(28326);function v(e){let{info:t,children:n}=e;const[r,d]=(0,l.useState)("horizontal"),[m,c]=(0,l.useState)(0);(0,l.useEffect)((()=>{function e(){return window.innerWidth<j.A.values.sm?d("vertical"):d("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[r]);const{image:p="",first_name:h,last_name:x,role:u}=t;return(0,f.jsxs)(a.A,{position:"relative",mb:5,children:[(0,f.jsx)(a.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:n},palette:{gradients:s}}=e;return`${n(t(s.info.main,.6),t(s.info.state,.6))}, url(${A})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,f.jsxs)(i.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,f.jsxs)(s.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,f.jsx)(s.Ay,{item:!0,children:(0,f.jsx)(y.A,{src:p,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,f.jsx)(s.Ay,{item:!0,children:(0,f.jsxs)(a.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,f.jsx)(o.A,{variant:"h5",fontWeight:"medium",children:`${h} ${x}`}),(0,f.jsx)(o.A,{variant:"button",color:"text",fontWeight:"regular",children:u})]})})]}),n]})]})}v.defaultProps={info:{image:"",first_name:"First Name",last_name:"Last Name",role:"Role"},children:null};const _=v;var b=n(33991),w=n(56084),k=n(24009),C=n(79147),E=n(40068),S=n(71018),H=n(40447),N=n(35981),$=n(48781),z=n(1489),G=n(17633),D=n(18509),P=n(64977);const W={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function O(e){let{isGettingAllEmployees:t}=e;const[n,s]=l.useState(!1),i=()=>s(!1);return(0,f.jsxs)("div",{className:G.A.wrapper,children:[(0,f.jsx)("div",{children:(0,f.jsx)(z.A,{fontSize:"medium",onClick:()=>s(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,f.jsx)($.A,{open:n,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,f.jsxs)(H.A,{sx:{...W,background:"white"},className:G.A.box,children:[(0,f.jsxs)(N.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Employees ",(0,f.jsx)(D.A,{style:{cursor:"pointer"},onClick:i})]}),(0,f.jsx)("p",{children:"which Employee are you looking for?"}),(0,f.jsx)(U,{handleClose:i,isGettingAllEmployees:t})]})})]})}const U=e=>{let{handleClose:t,isGettingAllEmployees:n}=e;const{searchEmployees:s}=(0,b.u)(),i=(0,w.wA)();return(0,f.jsxs)("form",{className:G.A.paper,children:[s.map((e=>{const{name:t,TextField:n}=e;return(0,f.jsx)("div",{children:n},t)})),(0,f.jsx)(P.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{i((0,S.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,f.jsx)(P.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===n?(0,f.jsx)(E.du,{color:"success"}):"Find Out"})]})};var I=n(15570),T=n(77846),F=n(7579),R=n(82392),L=n(39053);const q=function(){const{columns:e,rows:t,numOfPages:n,totalEmployees:l,count:h,salaryData:x,newHires:u,newHiresCount:g,employeesGenderCount:y,departmentCount:j,employmentStatusCount:A,employmentTypeCount:v,isGettingAllEmployees:_,pages:b}=(0,p.A)(),C=(0,w.wA)();return(0,f.jsxs)(r.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(a.A,{pt:6,pb:3,children:(0,f.jsx)(s.Ay,{container:!0,spacing:6,children:(0,f.jsxs)(s.Ay,{item:!0,xs:12,children:[(0,f.jsxs)(i.A,{children:[(0,f.jsx)(a.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,f.jsxs)(o.A,{className:R.A.wrapper,variant:"h6",color:"white",children:[(0,f.jsxs)(a.A,{className:R.A.inner,children:[(0,f.jsx)(o.A,{color:"white",children:"Employees"}),(0,f.jsxs)(o.A,{color:"white",children:[h,"/",l]})]}),(0,f.jsxs)(a.A,{className:R.A.inner,children:[(0,f.jsx)(k.N_,{onClick:()=>C((0,S.Yo)()),to:"/admin/createupdateemployees/add",children:(0,f.jsx)(T.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add employee"})}),(0,f.jsx)(O,{isGettingAllEmployees:_})]})]})}),(0,f.jsx)(a.A,{pt:3,children:(0,f.jsx)(c.A,{table:{columns:e,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,f.jsx)(I.A,{pageDetails:{handleChange:(e,t)=>{e.preventDefault(),C((0,S.yd)(t))},numOfPages:n,pages:b}})]})})}),(0,f.jsx)(m.A,{})]})};function B(){const{id:e}=(0,x.g)(),{isGettingSingleEmployee:t,singleemployee:n,refetch:i}=(0,h.U7)(e),{employee:o}=n||{},{catch_reports:c=[],employee_nok:p={},externallySupervising:y=[],internallySupervising:j=[],swarm_hunters:A=[],emp_id:v,first_name:b,last_name:w,gender:C,email:E,dob:S,phone:H,image:N,role:$,address:z,department:G,employment_type:D,employment_status:P,salary:W,joining_date:O,skill:U,notes:I}=null!==o&&void 0!==o?o:{};return l.useEffect((()=>{i()}),[e]),(0,f.jsxs)(r.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(a.A,{mb:2}),(0,f.jsx)(_,{info:{image:N,first_name:b,last_name:w,role:$},children:(0,f.jsxs)(a.A,{mt:5,mb:3,children:[(0,f.jsxs)(k.N_,{to:"/employees",children:[" ",(0,f.jsx)(F.A,{})]}),(0,f.jsxs)(s.Ay,{container:!0,spacing:1,children:[(0,f.jsxs)(s.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsx)(g.A,{title:"",description:"",info:{emp_id:v,fullName:`${b} ${w}`,mobile:`${H}`,address:z,employment_type:D,gender:C,department:G,employment_status:P},shadow:!1}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]}),(0,f.jsxs)(s.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsx)(g.A,{title:"",description:"",info:{salary:W,joining_date:O,dob:S,email:E,skill:U,notes:I},shadow:!1}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]}),(0,f.jsxs)(s.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsx)(g.A,{title:"",description:"",info:{...Object.keys(p).length>0&&{nok:p.fullname,nok_id:p.nok_id},...y.length>0&&{["supervised_station"+(y.length>0?"s":"")]:y.map((e=>e.station_id)).join(", ")}},shadow:!1}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]})]})]})}),(0,f.jsx)(m.A,{})]})}function K(){const{id:e}=(0,x.g)(),{employeeDetails:t}=(0,b.u)(),{createEmployee:n,isCreatingEmployee:i}=(0,h.Ar)(),{updateEmployee:l,isUpdatingEmployee:o}=(0,h.Db)(),{email:c,first_name:p,last_name:u,address:g,phone:y,gender:j,role:A,department:v,dob:_,joining_date:S,salary:H,skill:N,notes:$,employment_status:z,employment_type:G,isEdit:D}=(0,w.d4)((e=>e.employees)),P={email:c,first_name:p,last_name:u,address:g.trim(),phone:y,gender:j,role:A,department:v,dob:_,joining_date:S,salary:H,skill:N,notes:$.trim(),employment_status:z,employment_type:G},{uploadEmployeeImgs:W,isUploadingEmployeeImages:O}=(0,h.Dy)(e);return(0,f.jsxs)(r.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(a.A,{mb:2}),(0,f.jsx)(a.A,{mt:5,mb:3,children:(0,f.jsx)(s.Ay,{className:L.A.wrapper,container:!0,spacing:1,children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(k.N_,{to:"/employees",children:(0,f.jsx)(F.A,{})}),(0,f.jsxs)("h6",{children:[D?`Update ${p} ${u} details`:"Create Employee"," "]}),(0,f.jsx)("div",{children:D?(0,f.jsx)(C.Uz,{name:"image",handleChange:e=>{const t=e.target.files[0],n=new FormData;t?(n.append("image",t),W(n)):alert("Please select a file to upload.")},uploading:O}):""})]}),(0,f.jsxs)("form",{className:L.A.form,onSubmit:t=>{t.preventDefault();if(Object.values(P).every((e=>void 0!==e&&null!==e&&""!==e)))return D?l({empDetails:P,id:e}):void n(P);alert("Please fill out all required fields.")},children:[t.map((e=>{const{name:t,TextField:n}=e;return(0,f.jsx)("div",{children:n},t)})),(0,f.jsx)(C.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===i||"pending"===o?(0,f.jsx)(E.du,{}):D?"Update":"Submit"})]})]})})}),(0,f.jsx)(m.A,{})]})}},77846:(e,t,n)=>{var s=n(5855);t.A=void 0;var i=s(n(93496)),l=n(28326),a=(0,i.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.A=a}}]);
//# sourceMappingURL=695.5fd013e5.chunk.js.map
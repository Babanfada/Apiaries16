"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[630],{74996:(e,i,n)=>{n.d(i,{A:()=>r});n(58294);const r=n.p+"static/media/logo-asana.5c9ced4f9006cfb2d4c10f905cf6d310.svg"},3186:(e,i,n)=>{n.d(i,{A:()=>l});var r=n(58294),t=n(49052),o=n.n(t),s=n(88015);const a=(0,n(64319).Ay)(s.A)((e=>{let{theme:i,ownerState:n}=e;const{palette:r,typography:t,borders:o,functions:s}=i,{color:a,circular:c,border:d,size:l,indicator:m,variant:p,container:u,children:h}=n,{white:g,dark:v,gradients:x,badgeColors:f}=r,{size:A,fontWeightBold:j}=t,{borderRadius:b,borderWidth:y}=o,{pxToRem:w,linearGradient:_}=s,P={xs:"0.45em 0.775em",sm:"0.55em 0.9em",md:"0.65em 1em",lg:"0.85em 1.375em"},k="xs"===l?A.xxs:A.xs,z=d?`${y[3]} solid ${g.main}`:"none",S=c?b.section:b.md;return{"& .MuiBadge-badge":{height:"auto",padding:P[l]||P.xs,fontSize:k,fontWeight:j,textTransform:"uppercase",lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",border:z,borderRadius:S,...m&&(e=>{let i=w(20),n=w(20);return"medium"===e?(i=w(24),n=w(24)):"large"===e&&(i=w(32),n=w(32)),{width:i,height:n,display:"grid",placeItems:"center",textAlign:"center",borderRadius:"50%",padding:0,border:z}})(l),..."gradient"===p&&(N=a,{background:x[N]?_(x[N].main,x[N].state):_(x.info.main,x.info.state),color:"light"===N?v.main:g.main}),..."contained"===p&&(e=>{const i=f[e]?f[e].background:f.info.background;let n=f[e]?f[e].text:f.info.text;return"light"===e&&(n=v.main),{background:i,color:n}})(a),...!h&&!u&&{position:"static",marginLeft:w(8),transform:"none",fontSize:w(9)},...u&&{position:"relative",transform:"none"}}};var N}));var c=n(28326);const d=(0,r.forwardRef)(((e,i)=>{let{color:n,variant:r,size:t,circular:o,indicator:s,border:d,container:l,children:m,...p}=e;return(0,c.jsx)(a,{...p,ownerState:{color:n,variant:r,size:t,circular:o,indicator:s,border:d,container:l,children:m},ref:i,color:"default",children:m})}));d.defaultProps={color:"info",variant:"gradient",size:"sm",circular:!1,indicator:!1,border:!1,children:!1,container:!1},d.propTypes={color:o().oneOf(["primary","secondary","info","success","warning","error","light","dark"]),variant:o().oneOf(["gradient","contained"]),size:o().oneOf(["xs","sm","md","lg"]),circular:o().bool,indicator:o().bool,border:o().bool,children:o().node,container:o().bool};const l=d},57630:(e,i,n)=>{n.r(i),n.d(i,{CreateUpdateProvision:()=>W,default:()=>N});var r=n(68282),t=n(26298),o=n(58294),s=n(83648),a=n(25813),c=n(16789),d=n(59251),l=n(63945),m=n(35016),p=(n(12682),n(49779)),u=n(80608),h=(n(85785),n(97950),n(47417),n(77183)),g=n(74503),v=(n(22562),n(38079)),x=n(28326);function f(e){let{info:i,children:n}=e;const[c,d]=(0,o.useState)("horizontal"),[l,m]=(0,o.useState)(0);(0,o.useEffect)((()=>{function e(){return window.innerWidth<g.A.values.sm?d("vertical"):d("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[c]);const{image:p="",hive_type:u,status:f}=i;return(0,x.jsxs)(s.A,{position:"relative",mb:5,children:[(0,x.jsx)(s.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:i,linearGradient:n},palette:{gradients:r}}=e;return`${n(i(r.info.main,.6),i(r.info.state,.6))}, url(${v})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,x.jsxs)(t.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,x.jsxs)(r.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,x.jsx)(r.Ay,{item:!0,children:(0,x.jsx)(h.A,{src:p,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,x.jsx)(r.Ay,{item:!0,children:(0,x.jsxs)(s.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,x.jsx)(a.A,{variant:"h5",fontWeight:"medium",children:u}),(0,x.jsx)(a.A,{variant:"button",color:"text",fontWeight:"regular",children:f})]})})]}),n]})]})}f.defaultProps={info:{image:"",hive_type:"First Name",status:"Last Name"},children:null};var A=n(56084),j=n(24009),b=n(66801),y=n(40068),w=n(15570),_=(n(74996),n(14149),n(35126)),P=(n(3186),n(96338)),k=n(36800);function z(){const e=(0,A.wA)(),{deleteProvision:i}=(0,k.Y8)(),{isGettingAllprovisions:n,supplyProvision:{provisions:r=[],count:t=0,numOfPages:o=0,totalProvisions:c=0}={},refetch:d}=(0,k.Cz)(),l=e=>{let{image:i,item_name:n,item_id:r}=e;return(0,x.jsxs)(s.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,x.jsx)(h.A,{src:i,size:"sm"}),(0,x.jsxs)(s.A,{ml:2,lineHeight:1,children:[(0,x.jsx)(a.A,{display:"block",variant:"button",fontWeight:"medium",children:`${r} `}),(0,x.jsx)(a.A,{variant:"caption",children:n})]})]})};return{columns:[{Header:"provisions",accessor:"provisions",width:"45%",align:"left"},{Header:"service",accessor:"service",align:"left"},{Header:"description",accessor:"description",align:"center"},{Header:"quantity",accessor:"quantity",align:"center"},{Header:"price",accessor:"price",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:r.map(((n,r)=>{const{item_id:t,service_id:o,item_name:s,description:c,quantity:d,price_NGN:m}=n,p={service_id:o,item_name:s,description:c,quantity:d,price_NGN:m};return{provisions:(0,x.jsx)(l,{image:P.A,item_name:s,item_id:t}),service:(0,x.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:o}),description:(0,x.jsx)(a.A,{title:c,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:c.length>20?`${c.slice(0,20)}...`:c}),quantity:(0,x.jsxs)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:["# ",d]}),price:(0,x.jsxs)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:["# ",m]}),update:(0,x.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,x.jsx)(j.N_,{onClick:()=>{e((0,_.fp)(p))},to:`/createupdateprovision/${t}`,children:"Edit"})}),remove:(0,x.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a provision records permanently, ARE YOU SURE?")&&i(t)},children:(0,x.jsx)(j.N_,{children:"remove"})})}})),numOfPages:o,refetch:d,count:t,isGettingAllprovisions:n,totalProvisions:c}}var S=n(82592);const N=function(){const e=(0,A.wA)(),{rows:i,numOfPages:n,refetch:p,count:u,columns:h,isGettingAllprovisions:g,totalProvisions:v}=z(),{item_id:f,item_name:y,description:P,quantity:k,price:S,sort:N,pages:W,priceRangeSP:H}=(0,A.d4)((e=>e.provisions));return o.useEffect((()=>{p()}),[W,f,y,P,k,S,N,H]),(0,x.jsxs)(c.A,{children:[(0,x.jsx)(d.A,{}),(0,x.jsx)(s.A,{pt:6,pb:3,children:(0,x.jsx)(r.Ay,{container:!0,spacing:6,children:(0,x.jsxs)(r.Ay,{item:!0,xs:12,children:[(0,x.jsxs)(t.A,{children:[(0,x.jsx)(s.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,x.jsxs)(a.A,{variant:"h6",color:"white",children:["Provisions",u,"/",v,(0,x.jsx)(j.N_,{onClick:()=>e((0,_.sy)()),to:"/createupdateprovision/add",children:"create provision"}),(0,x.jsx)(b.zv,{isGettingAllprovisions:g})]})}),(0,x.jsx)(s.A,{pt:3,children:(0,x.jsx)(m.A,{table:{columns:h,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,x.jsx)(w.A,{pageDetails:{handleChange:(i,n)=>{i.preventDefault(),e((0,_.yd)(n))},numOfPages:n,pages:W}})]})})}),(0,x.jsx)(l.A,{})]})},W=()=>{const{id:e}=(0,p.g)(),{provisionInputs:i}=(0,S.Iu)(),{isUpdatingProvision:n,updateProvision:t}=(0,k.qO)(),{createProvision:o,isCreatingProvision:a}=(0,k.zo)(),{service_id:m,item_name:h,description:g,quantity:v,price_NGN:f,isEdit:w}=(0,A.d4)((e=>e.provisions)),_={service_id:m,item_name:h,description:g,quantity:v,price_NGN:f};return(0,x.jsxs)(c.A,{children:[(0,x.jsx)(d.A,{}),(0,x.jsx)(s.A,{mt:5,mb:3,children:(0,x.jsx)(r.Ay,{container:!0,spacing:1,children:(0,x.jsxs)(r.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,x.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,x.jsxs)("div",{children:[(0,x.jsx)(j.N_,{to:"/provisions",children:"Go back to provisions"}),(0,x.jsxs)("form",{onSubmit:i=>{i.preventDefault();if(Object.values(_).every((e=>void 0!==e&&null!==e&&""!==e)))return w?t({provisionDetails:_,id:e}):void o(_);alert("Please fill out all required fields.")},children:[i.filter((e=>"sort"!==e.name&&"priceRangeSP"!==e.name)).map((e=>{const{name:i,TextField:n}=e;return(0,x.jsx)("div",{children:n},i)})),(0,x.jsx)(b.Sv,{background:"#1212121F",backgroundhover:"#59d9d9",size:"100%",height:"3vh",type:"submit",children:"pending"===a||"pending"===n?(0,x.jsx)(y.du,{}):w?"Update":"Submit"})]})]}),(0,x.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]})})}),(0,x.jsx)(l.A,{})]})}},12682:(e,i,n)=>{n(83648),n(25813),n(77183),n(47310),n(74996),n(58294);n.p;n(21806),n(96338),n(21904),n(17351),n(28326)}}]);
//# sourceMappingURL=630.ad0a9801.chunk.js.map
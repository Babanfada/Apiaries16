"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[239],{25239:(e,t,i)=>{i.r(t),i.d(t,{CreateUpdateSupply:()=>D,default:()=>U});var s=i(68282),n=i(26298),r=i(58294),a=i(83648),l=i(25813),o=i(16789),c=i(59251),d=i(63945),u=i(35016),p=(i(12682),i(49779)),h=i(80608),m=(i(85785),i(97950),i(47417),i(77183)),g=i(74503),x=(i(22562),i(38079)),j=i(28326);function y(e){let{info:t,children:i}=e;const[o,c]=(0,r.useState)("horizontal"),[d,u]=(0,r.useState)(0);(0,r.useEffect)((()=>{function e(){return window.innerWidth<g.A.values.sm?c("vertical"):c("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[o]);const{image:p="",station_name:h,location:y}=t;return(0,j.jsxs)(a.A,{position:"relative",mb:5,children:[(0,j.jsx)(a.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:i},palette:{gradients:s}}=e;return`${i(t(s.info.main,.6),t(s.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,j.jsxs)(n.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,j.jsxs)(s.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(s.Ay,{item:!0,children:(0,j.jsx)(m.A,{src:p,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,j.jsx)(s.Ay,{item:!0,children:(0,j.jsxs)(a.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,j.jsx)(l.A,{variant:"h5",fontWeight:"medium",children:h}),(0,j.jsx)(l.A,{variant:"button",color:"text",fontWeight:"regular",children:y})]})})]}),i]})]})}y.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};var A=i(56084),f=i(24009),v=i(66801),_=i(40068),b=i(15570),S=i(74996),k=(i(14149),i(3186)),w=i(34100),C=i(99762);function H(){const e=(0,A.wA)(),{deleteSupply:t,isCreatingSupply:i}=(0,w.S4)(),{isGettingAllSupplies:s,supplies:{totalSUpplies:n,count:r,numOfPages:o,categoryCount:c=[],statusCount:d=[],storageLocationCount:u=[],supply:p=[]}={},refetch:h}=(0,w.bc)(),g=e=>{let{image:t,name:i,min_stock:s,supply_id:n}=e;return(0,j.jsxs)(a.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,j.jsx)(m.A,{src:t,name:i,size:"sm"}),(0,j.jsxs)(a.A,{ml:2,lineHeight:1,children:[(0,j.jsx)(l.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,j.jsx)(f.N_,{to:"#",children:`${n} ${i}`})}),(0,j.jsxs)(l.A,{variant:"caption",children:["min stock: ",s]})]})]})},x=e=>{let{title:t,description:i}=e;return(0,j.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(l.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(f.N_,{to:"#",children:`${t}`})}),(0,j.jsx)(l.A,{variant:"caption",children:(0,j.jsx)(f.N_,{to:"#",children:`quantity: ${i}`})})]})},y=e=>{let{title:t,description:i}=e;return(0,j.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(l.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:t}),(0,j.jsx)(l.A,{variant:"caption",children:i})]})};return{columns:[{Header:"supplies",accessor:"supplies",width:"45%",align:"left"},{Header:"detail",accessor:"detail",align:"left"},{Header:"status",accessor:"status",align:"center"},{Header:"location",accessor:"location",align:"center"},{Header:"supplier",accessor:"supplier",align:"center"},{Header:"acquired",accessor:"acquired",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:p.map(((i,s)=>{const{supply_id:n,supply_name:r,category:o,quantity:c,status:d,storage_location:u,supplier:p,minimum_stock_level:h,purchase_date:m,purchase_cost:A}=i,v={supply_id:n,supply_name:r,category:o,quantity:c,status:d,storage_location:u,supplier:p,minimum_stock_level:h,purchase_date:m,purchase_cost:A};return{supplies:(0,j.jsx)(g,{image:S.A,name:r,min_stock:h,supply_id:n}),detail:(0,j.jsx)(x,{title:o,description:c}),status:(0,j.jsx)(a.A,{ml:-1,children:(0,j.jsx)(k.A,{badgeContent:d,color:"new"===d?"success":"used"===d?"warning":"error",variant:"gradient",size:"sm"})}),location:(0,j.jsx)(a.A,{ml:-1,children:(0,j.jsx)(k.A,{badgeContent:u,color:"warehouse"===u?"success":"factory"===u?"error":"warning",variant:"gradient",size:"sm"})}),supplier:(0,j.jsx)(l.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:p}),acquired:(0,j.jsx)(y,{title:`Cost: ${A?Number(A).toFixed(2):"N/A"}`,description:`Purchased on: ${m||"N/A"} naira`}),update:(0,j.jsx)(l.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(f.N_,{onClick:()=>{e((0,C.tY)(v))},to:`/createupdatesupply/${n}`,children:"Edit"})}),remove:(0,j.jsx)(l.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(f.N_,{onClick:()=>{window.confirm("You are about to Delete an a supply records permanently, ARE YOU SURE?")&&t(n)},children:"Remove"})})}})),numOfPages:o,count:r,refetch:h,isGettingAllSupplies:s,totalSUpplies:n,categoryCount:c,statusCount:d,storageLocationCount:u}}var N=i(40447),W=i(35981),q=i(48781),z=i(29340),E=i(18509),P=i(64977),G=i(29136);function $(e){let{isGettingSingleSupply:t}=e;const[i,s]=r.useState(!1),n=()=>s(!1);return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)(z.MFA,{onClick:()=>s(!0),title:"filter"})}),(0,j.jsx)(q.A,{open:i,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(N.A,{children:[(0,j.jsxs)(W.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Filter"," ",(0,j.jsx)(E.A,{style:{cursor:"pointer"},onClick:n})]}),(0,j.jsx)("p",{children:"which of your products are you looking for?"}),(0,j.jsx)(F,{handleClose:n,isGettingSingleSupply:t})]})})]})}const F=e=>{let{handleClose:t,isGettingSingleSupply:i}=e;const{suppliesDetails:s}=(0,G.gS)(),n=(0,A.wA)();return(0,j.jsxs)("form",{children:[s.map((e=>{const{name:t,TextField:i}=e;return(0,j.jsx)("div",{children:i},t)})),(0,j.jsx)(P.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>{n((0,C.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,j.jsx)(P.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===i?(0,j.jsx)(_.du,{color:"success"}):"Find Out"})]})};const U=function(){const e=(0,A.wA)(),{columns:t,rows:i,numOfPages:p,count:h,refetch:m,isGettingAllSupplies:g,totalSUpplies:x,categoryCount:y,statusCount:v,storageLocationCount:_}=H(),{pages:S,supply_name:k,category:w,quantity:N,status:W,storage_location:q,supplier:z,minimum_stock_level:E,purchase_date:P,purchase_cost:G,sort:F}=(0,A.d4)((e=>e.supplies));return r.useEffect((()=>{m()}),[S,k,w,N,W,q,z,E,P,G,F]),(0,j.jsxs)(o.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(a.A,{pt:6,pb:3,children:(0,j.jsx)(s.Ay,{container:!0,spacing:6,children:(0,j.jsxs)(s.Ay,{item:!0,xs:12,children:[(0,j.jsxs)(n.A,{children:[(0,j.jsx)(a.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,j.jsxs)(l.A,{variant:"h6",color:"white",children:["Supplies",h,"/",x,(0,j.jsx)(f.N_,{onClick:()=>e((0,C.sy)()),to:"/createupdatesupply/add",children:"create supply"}),(0,j.jsx)($,{isGettingAllSupplies:g})]})}),(0,j.jsx)(a.A,{pt:3,children:(0,j.jsx)(u.A,{table:{columns:t,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,j.jsx)(b.A,{pageDetails:{handleChange:(t,i)=>{t.preventDefault(),e((0,C.yd)(i))},numOfPages:p,pages:S}})]})})}),(0,j.jsx)(d.A,{})]})},D=()=>{const{suppliesDetails:e}=(0,G.gS)(),{createSupply:t,isCreatingSupply:i}=(0,w.Hm)(),{updateSupply:n,isUpdatingSupply:r}=(0,w.m9)(),{id:l}=(0,p.g)(),{isEdit:u,supply_name:m,category:g,quantity:x,status:y,storage_location:b,supplier:S,minimum_stock_level:k,purchase_date:C,purchase_cost:H}=(0,A.d4)((e=>e.supplies)),N={supply_name:m,category:g,quantity:x,status:y,storage_location:b,supplier:S,minimum_stock_level:k,purchase_date:C,purchase_cost:H};return(0,j.jsxs)(o.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(a.A,{mt:5,mb:3,children:(0,j.jsx)(s.Ay,{container:!0,spacing:1,children:(0,j.jsxs)(s.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(h.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsxs)("div",{children:[(0,j.jsx)(f.N_,{to:"/supplies",children:"Go back"}),(0,j.jsxs)("form",{onSubmit:e=>{e.preventDefault();if(Object.values(N).every((e=>void 0!==e&&null!==e&&""!==e)))return u?n({supplyDetails:N,id:l}):void t(N);alert("Please fill out all required fields, especially the dates field if available.")},children:[e.filter((e=>"sort"!==e.name)).map((e=>{const{name:t,TextField:i}=e;return(0,j.jsx)("div",{children:i},t)})),(0,j.jsx)(v.Sv,{background:"#1212121F",backgroundhover:"#59d9d9",size:"100%",height:"3vh",type:"submit",children:"pending"===i||"pending"===r?(0,j.jsx)(_.du,{}):u?"Update":"Submit"})]})]}),(0,j.jsx)(h.A,{orientation:"vertical",sx:{mx:0}})]})})}),(0,j.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=239.5385ad4c.chunk.js.map
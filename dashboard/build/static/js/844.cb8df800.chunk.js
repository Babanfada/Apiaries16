"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[844],{73927:(e,t,i)=>{i.d(t,{A:()=>g});var n=i(58294),s=i(40447),o=i(35981),r=i(48781),a=i(29340),l=i(18509),c=i(64977),d=i(40068),h=i(56084),x=i(41437),u=i(29136),p=i(28326);function g(e){let{isGettingStations:t}=e;const[i,c]=n.useState(!1),d=()=>c(!1);return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)(a.MFA,{onClick:()=>c(!0),title:"filter"})}),(0,p.jsx)(r.A,{open:i,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsxs)(s.A,{children:[(0,p.jsxs)(o.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Filter"," ",(0,p.jsx)(l.A,{style:{cursor:"pointer"},onClick:d})]}),(0,p.jsx)("p",{children:"which of your products are you looking for?"}),(0,p.jsx)(m,{handleClose:d,isGettingStations:t})]})})]})}const m=e=>{let{handleClose:t,isGettingStations:i}=e;const{searchStations:n}=(0,u.gs)(),s=(0,h.wA)();return(0,p.jsxs)("form",{children:[n.map((e=>{const{name:t,TextField:i}=e;return(0,p.jsx)("div",{children:i},t)})),(0,p.jsx)(c.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>{s((0,x.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,p.jsx)(c.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===i?(0,p.jsx)(d.du,{color:"success"}):"Find Out"})]})}},31844:(e,t,i)=>{i.r(t),i.d(t,{CreateUpdateReport:()=>W,default:()=>S});var n=i(68282),s=i(26298),o=i(58294),r=i(83648),a=i(25813),l=i(16789),c=i(59251),d=i(63945),h=i(35016),x=(i(12682),i(49779)),u=i(80608),p=(i(85785),i(97950),i(47417),i(77183)),g=i(74503),m=(i(22562),i(38079)),j=i(28326);function _(e){let{info:t,children:i}=e;const[l,c]=(0,o.useState)("horizontal"),[d,h]=(0,o.useState)(0);(0,o.useEffect)((()=>{function e(){return window.innerWidth<g.A.values.sm?c("vertical"):c("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[l]);const{image:x="",station_name:u,location:_}=t;return(0,j.jsxs)(r.A,{position:"relative",mb:5,children:[(0,j.jsx)(r.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:i},palette:{gradients:n}}=e;return`${i(t(n.info.main,.6),t(n.info.state,.6))}, url(${m})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,j.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,j.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,j.jsx)(n.Ay,{item:!0,children:(0,j.jsx)(p.A,{src:x,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,j.jsx)(n.Ay,{item:!0,children:(0,j.jsxs)(r.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,j.jsx)(a.A,{variant:"h5",fontWeight:"medium",children:u}),(0,j.jsx)(a.A,{variant:"button",color:"text",fontWeight:"regular",children:_})]})})]}),i]})]})}_.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};var A=i(56084),b=i(24009),v=i(66801),f=i(40068),y=i(15570),z=(i(73927),i(74996)),k=(i(14149),i(3186)),w=i(56328),C=i(88109);function R(){const e=(0,A.wA)(),{deleteReport:t}=(0,w.zF)(),{isGettingAllReports:i,catch_reports:{reports:n=[],totalReports:s=0,count:o=0,numOfPages:l=0,totalboxesAssigned:c=0,totalColonized:d=0,totalUnColonized:h=0},refetch:x}=(0,w.rY)(),u=e=>{let{image:t,season:i,location:n,report_id:s}=e;return(0,j.jsxs)(r.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,j.jsx)(p.A,{src:t,season:i,size:"sm"}),(0,j.jsxs)(r.A,{ml:2,lineHeight:1,children:[(0,j.jsx)(a.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,j.jsx)(b.N_,{to:"#",children:`${s} ${i}`})}),(0,j.jsx)(a.A,{variant:"caption",children:n})]})]})},g=e=>{let{title:t,description:i}=e;return(0,j.jsxs)(r.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(a.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`colonized: ${t}`}),(0,j.jsx)(a.A,{variant:"caption",children:`uncolonized: ${i}`})]})},m=e=>{let{title:t,description:i}=e;return(0,j.jsxs)(r.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(a.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`date assigned: ${t}`}),(0,j.jsx)(a.A,{variant:"caption",children:`catch date: ${i}`})]})},_=e=>{let{title:t,description:i}=e;return(0,j.jsxs)(r.A,{lineHeight:1,textAlign:"left",children:[(0,j.jsx)(a.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsxs)(b.N_,{to:`/hunters/${t}`,children:["hunter ",t]})}),(0,j.jsx)(a.A,{variant:"caption",children:(0,j.jsxs)(b.N_,{to:`/employees/${i}`,children:["supervisor ",i]})})]})};return{columns:[{Header:"report",accessor:"report",width:"45%",align:"left"},{Header:"details",accessor:"details",align:"left"},{Header:"asseigned_boxes",accessor:"asseigned_boxes",align:"center"},{Header:"colonization",accessor:"colonization",align:"center"},{Header:"catch_stats",accessor:"catch_stats",align:"center"},{Header:"status",accessor:"status",align:"center"},{Header:"installed_at_apiary",accessor:"installed_at_apiary",align:"center"},{Header:"note",accessor:"note",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:n.map(((i,n)=>{const{report_id:s,hunter_id:o,assigned_supervisor:l,total_boxes_assigned:c,colonized_boxes:d,uncolonized_boxes:h,delivered_to_apiary:x,date_assigned:p,catch_date:A,catch_location:v,catch_status:f,season:y,notes:w}=i,R={report_id:s,hunter_id:o,assigned_supervisor:l,total_boxes_assigned:c,colonized_boxes:d,uncolonized_boxes:h,delivered_to_apiary:x,date_assigned:p,catch_date:A,catch_location:v,catch_status:f,season:y,notes:w};return{report:(0,j.jsx)(u,{image:z.A,season:y,location:v,report_id:s}),details:(0,j.jsx)(_,{title:o,description:l}),assigned_boxes:(0,j.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:c}),colonization:(0,j.jsx)(g,{title:d,description:h}),catch_stats:(0,j.jsx)(m,{title:p,description:A}),status:(0,j.jsx)(r.A,{ml:-1,children:(0,j.jsx)(k.A,{badgeContent:f,color:"all successfull"===f?"success":"some pending"===f?"error":"warning",variant:"gradient",size:"sm"})}),installed_at_apiary:(0,j.jsx)(r.A,{ml:-1,children:(0,j.jsx)(k.A,{badgeContent:f,color:"all"===f?"success":"some"===f?"error":"warning",variant:"gradient",size:"sm"})}),note:(0,j.jsx)(a.A,{title:w,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:w.length>20?`${w.slice(0,20)}...`:w}),update:(0,j.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,j.jsx)(b.N_,{onClick:()=>{e((0,C.Ge)(R))},to:`/createupdatereport/${s}`,children:"Edit"})}),remove:(0,j.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a report records permanently, ARE YOU SURE?")&&t(s)},children:(0,j.jsx)(b.N_,{children:"remove"})})}})),numOfPages:l,count:o,numOfPages:l,refetch:x,isGettingAllReports:i,totalReports:s,totalboxesAssigned:c,totalColonized:d,totalUnColonized:h}}var H=i(5519);const S=function(){const{columns:e,rows:t,numOfPages:i,count:x,refetch:u,isGettingAllReports:p,totalReports:g,totalboxesAssigned:m,totalColonized:_,totalUnColonized:f}=R(),z=(0,A.wA)(),{total_boxes_assigned:k,colonized_boxes:w,uncolonized_boxes:H,catch_date:S,catch_status:W,season:$,sort:G,pages:N}=(0,A.d4)((e=>e.reports));return o.useEffect((()=>{u()}),[N,k,w,H,S,W,$,G]),(0,j.jsxs)(l.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(r.A,{pt:6,pb:3,children:(0,j.jsx)(n.Ay,{container:!0,spacing:6,children:(0,j.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,j.jsxs)(s.A,{children:[(0,j.jsx)(r.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,j.jsxs)(a.A,{variant:"h6",color:"white",children:["Reports",x,"/",g,(0,j.jsx)(b.N_,{onClick:()=>z((0,C.sy)()),to:"/createupdatereport/add",children:"create report"}),(0,j.jsx)(v.gz,{isGettingAllReports:p})]})}),(0,j.jsx)(r.A,{pt:3,children:(0,j.jsx)(h.A,{table:{columns:e,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,j.jsx)(y.A,{pageDetails:{handleChange:(e,t)=>{e.preventDefault(),z((0,C.yd)(t))},numOfPages:i,pages:N}})]})})}),(0,j.jsx)(d.A,{})]})},W=()=>{const{id:e}=(0,x.g)(),{reportInputs:t}=(0,H.kA)(),{isUpdatingReport:i,updateReport:s}=(0,w.xN)(),{createReport:o,isCreatingReport:a}=(0,w.GD)(),{hunter_id:h,assigned_supervisor:p,total_boxes_assigned:g,colonized_boxes:m,uncolonized_boxes:_,delivered_to_apiary:y,date_assigned:z,catch_date:k,catch_location:C,catch_status:R,season:S,notes:W,isEdit:$}=(0,A.d4)((e=>e.reports)),G={hunter_id:h,assigned_supervisor:p,total_boxes_assigned:g,colonized_boxes:m,uncolonized_boxes:_,delivered_to_apiary:y,date_assigned:z,catch_date:k,catch_location:C,catch_status:R,season:S,notes:W};return(0,j.jsxs)(l.A,{children:[(0,j.jsx)(c.A,{}),(0,j.jsxs)(r.A,{mt:5,mb:3,children:[(0,j.jsx)(b.N_,{to:"/stations",children:" back to stations"}),(0,j.jsx)(n.Ay,{container:!0,spacing:1,children:(0,j.jsxs)(n.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,j.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,j.jsxs)("div",{children:[(0,j.jsx)(b.N_,{to:"/admin/catchreports",children:"Go back"}),(0,j.jsxs)("form",{onSubmit:t=>{t.preventDefault();if(Object.values(G).every((e=>void 0!==e&&null!==e&&""!==e)))return $?s({reportDetails:G,id:e}):void o(G);alert("Please fill out all required fields.")},children:[t.filter((e=>"sort"!==e.name)).map((e=>{const{name:t,TextField:i}=e;return(0,j.jsx)("div",{children:i},t)})),(0,j.jsx)(v.Sv,{background:"#1212121F",backgroundhover:"#59d9d9",size:"100%",height:"3vh",type:"submit",children:"pending"===a||"pending"===i?(0,j.jsx)(f.du,{}):$?"Update":"Submit"})]})]}),(0,j.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]})})]}),(0,j.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=844.cb8df800.chunk.js.map
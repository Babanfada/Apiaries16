"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[939],{90939:(e,t,i)=>{i.r(t),i.d(t,{CreateUpdateSetup:()=>P,default:()=>z});var n=i(68282),r=i(26298),s=i(58294),o=i(83648),a=i(25813),c=i(16789),d=i(59251),l=i(63945),p=i(35016),m=(i(12682),i(49779)),h=(i(85785),i(97950),i(47417),i(77183)),u=i(74503),x=(i(22562),i(38079)),g=i(28326);function A(e){let{info:t,children:i}=e;const[c,d]=(0,s.useState)("horizontal"),[l,p]=(0,s.useState)(0);(0,s.useEffect)((()=>{function e(){return window.innerWidth<u.A.values.sm?d("vertical"):d("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[c]);const{image:m="",hive_type:A,status:j}=t;return(0,g.jsxs)(o.A,{position:"relative",mb:5,children:[(0,g.jsx)(o.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:i},palette:{gradients:n}}=e;return`${i(t(n.info.main,.6),t(n.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,g.jsxs)(r.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,g.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsx)(h.A,{src:m,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsxs)(o.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,g.jsx)(a.A,{variant:"h5",fontWeight:"medium",children:A}),(0,g.jsx)(a.A,{variant:"button",color:"text",fontWeight:"regular",children:j})]})})]}),i]})]})}A.defaultProps={info:{image:"",hive_type:"First Name",status:"Last Name"},children:null};var j=i(56084),v=i(24009),f=i(79147),w=i(40068),b=i(15570),S=(i(74996),i(14149),i(76885),i(96338)),_=i(1123),k=i(27661);function y(){const e=(0,j.wA)(),{deleteSetup:t}=(0,_.a4)(),{isGettingAllSetupComp:i,setupComp:{apiarySetupComp:n=[],count:r=0,numOfPages:s=0,totalSetupComp:c=0}={},refetch:d}=(0,_.wc)(),l=e=>{let{image:t,component_name:i,component_id:n}=e;return(0,g.jsxs)(o.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,g.jsx)(h.A,{src:t,size:"sm"}),(0,g.jsxs)(o.A,{ml:2,lineHeight:1,children:[(0,g.jsx)(a.A,{display:"block",variant:"button",fontWeight:"medium",children:`${n} `}),(0,g.jsx)(a.A,{variant:"caption",children:i})]})]})};return{columns:[{Header:"component",accessor:"component",width:"45%",align:"left"},{Header:"service",accessor:"service",width:"45%",align:"left"},{Header:"stock",accessor:"stock",align:"left"},{Header:"description",accessor:"description",align:"center"},{Header:"price",accessor:"price",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:n.map(((i,n)=>{const{component_id:r,service_id:s,component_name:o,description:c,stock:d,price:p}=i,m={service_id:s,component_name:o,description:c,stock:d,price:p};return{component:(0,g.jsx)(l,{image:S.A,component_name:o,component_id:r}),service:(0,g.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:s}),stock:(0,g.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:d}),description:(0,g.jsx)(a.A,{title:c,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:c.length>20?`${c.slice(0,20)}...`:c}),price:(0,g.jsxs)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:["# ",p]}),update:(0,g.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(v.N_,{onClick:()=>{e((0,k.dp)(m))},to:`/createupdatesetup/${r}`,children:"Edit"})}),remove:(0,g.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a apiary setup  records permanently, ARE YOU SURE?")&&t(r)},children:(0,g.jsx)(v.N_,{children:"remove"})})}})),numOfPages:s,refetch:d,count:r,isGettingAllSetupComp:i,totalSetupComp:c}}var C=i(82592),H=i(82392),E=i(39053),N=i(77846),W=i(7579);const z=function(){const{columns:e,rows:t,numOfPages:i,count:m,refetch:h,isGettingAllSetupComp:u,totalSetupComp:x}=y(),A=(0,j.wA)(),{service_id:w,component_name:S,description:_,stock:C,price:E,sort:W,pages:z,priceRange:P}=(0,j.d4)((e=>e.setups));return s.useEffect((()=>{h()}),[z,w,S,_,C,E,W,P]),(0,g.jsxs)(c.A,{children:[(0,g.jsx)(d.A,{}),(0,g.jsx)(o.A,{pt:6,pb:3,children:(0,g.jsx)(n.Ay,{container:!0,spacing:6,children:(0,g.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,g.jsxs)(r.A,{children:[(0,g.jsx)(o.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,g.jsxs)(a.A,{className:H.A.wrapper,variant:"h6",color:"white",children:[(0,g.jsxs)(o.A,{className:H.A.inner,children:[(0,g.jsx)(a.A,{color:"white",children:"Setups"}),(0,g.jsxs)(a.A,{color:"white",children:[m,"/",x]})]}),(0,g.jsxs)(o.A,{className:H.A.inner,children:[(0,g.jsx)(v.N_,{onClick:()=>A((0,k.sy)()),to:"/createupdatesetup/add",children:(0,g.jsx)(N.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new component"})}),(0,g.jsx)(f.D0,{isGettingAllSetupComp:u})]})]})}),(0,g.jsx)(o.A,{pt:3,children:(0,g.jsx)(p.A,{table:{columns:e,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,g.jsx)(b.A,{pageDetails:{handleChange:(e,t)=>{e.preventDefault(),A((0,k.yd)(t))},numOfPages:i,pages:z}})]})})}),(0,g.jsx)(l.A,{})]})},P=()=>{const{id:e}=(0,m.g)(),{setupInputs:t}=(0,C.EH)(),{isUpdatingSetup:i,updateSetup:r}=(0,_.cW)(),{createSetup:s,isCreatingSetup:a}=(0,_.br)(),{service_id:p,component_name:h,description:u,stock:x,price:A,isEdit:b}=(0,j.d4)((e=>e.setups)),S={service_id:p,component_name:h,description:u,stock:x,price:A};return(0,g.jsxs)(c.A,{children:[(0,g.jsx)(d.A,{}),(0,g.jsx)(o.A,{mt:5,mb:3,children:(0,g.jsx)(n.Ay,{className:E.A.wrapper,container:!0,spacing:1,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(v.N_,{to:"/setups",children:(0,g.jsx)(W.A,{})}),(0,g.jsxs)("h6",{children:[b?`Update ${h}'s details`:"Create a new component"," "]}),(0,g.jsx)("div",{})]}),(0,g.jsxs)("form",{className:E.A.form,onSubmit:t=>{t.preventDefault();if(Object.values(S).every((e=>void 0!==e&&null!==e&&""!==e)))return b?r({setupDetails:S,id:e}):void s(S);alert("Please fill out all required fields.")},children:[t.filter((e=>"sort"!==e.name&&"priceRange"!==e.name)).map((e=>{const{name:t,TextField:i}=e;return(0,g.jsx)("div",{children:i},t)})),(0,g.jsx)(f.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===a||"pending"===i?(0,g.jsx)(w.du,{}):b?"Update":"Submit"})]})]})})}),(0,g.jsx)(l.A,{})]})}},77846:(e,t,i)=>{var n=i(5855);t.A=void 0;var r=n(i(93496)),s=i(28326),o=(0,r.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.A=o}}]);
//# sourceMappingURL=939.073af28f.chunk.js.map
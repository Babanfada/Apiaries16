"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[325],{74996:(e,t,n)=>{n.d(t,{A:()=>a});n(58294);const a=n.p+"static/media/logo-asana.5c9ced4f9006cfb2d4c10f905cf6d310.svg"},3186:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(58294),r=n(49052),i=n.n(r),o=n(88015);const s=(0,n(64319).Ay)(o.A)((e=>{let{theme:t,ownerState:n}=e;const{palette:a,typography:r,borders:i,functions:o}=t,{color:s,circular:c,border:l,size:d,indicator:h,variant:u,container:m,children:g}=n,{white:v,dark:x,gradients:f,badgeColors:p}=a,{size:A,fontWeightBold:j}=r,{borderRadius:y,borderWidth:b}=i,{pxToRem:_,linearGradient:H}=o,w={xs:"0.45em 0.775em",sm:"0.55em 0.9em",md:"0.65em 1em",lg:"0.85em 1.375em"},k="xs"===d?A.xxs:A.xs,q=l?`${b[3]} solid ${v.main}`:"none",z=c?y.section:y.md;return{"& .MuiBadge-badge":{height:"auto",padding:w[d]||w.xs,fontSize:k,fontWeight:j,textTransform:"uppercase",lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",border:q,borderRadius:z,...h&&(e=>{let t=_(20),n=_(20);return"medium"===e?(t=_(24),n=_(24)):"large"===e&&(t=_(32),n=_(32)),{width:t,height:n,display:"grid",placeItems:"center",textAlign:"center",borderRadius:"50%",padding:0,border:q}})(d),..."gradient"===u&&(C=s,{background:f[C]?H(f[C].main,f[C].state):H(f.info.main,f.info.state),color:"light"===C?x.main:v.main}),..."contained"===u&&(e=>{const t=p[e]?p[e].background:p.info.background;let n=p[e]?p[e].text:p.info.text;return"light"===e&&(n=x.main),{background:t,color:n}})(s),...!g&&!m&&{position:"static",marginLeft:_(8),transform:"none",fontSize:_(9)},...m&&{position:"relative",transform:"none"}}};var C}));var c=n(28326);const l=(0,a.forwardRef)(((e,t)=>{let{color:n,variant:a,size:r,circular:i,indicator:o,border:l,container:d,children:h,...u}=e;return(0,c.jsx)(s,{...u,ownerState:{color:n,variant:a,size:r,circular:i,indicator:o,border:l,container:d,children:h},ref:t,color:"default",children:h})}));l.defaultProps={color:"info",variant:"gradient",size:"sm",circular:!1,indicator:!1,border:!1,children:!1,container:!1},l.propTypes={color:i().oneOf(["primary","secondary","info","success","warning","error","light","dark"]),variant:i().oneOf(["gradient","contained"]),size:i().oneOf(["xs","sm","md","lg"]),circular:i().bool,indicator:i().bool,border:i().bool,children:i().node,container:i().bool};const d=l},16325:(e,t,n)=>{n.r(t),n.d(t,{CreateUpdateHarvest:()=>S,default:()=>W});var a=n(68282),r=n(26298),i=n(58294),o=n(83648),s=n(25813),c=n(16789),l=n(59251),d=n(63945),h=n(35016),u=(n(12682),n(49779)),m=n(80608),g=(n(85785),n(97950),n(47417),n(77183)),v=n(74503),x=(n(22562),n(38079)),f=n(28326);function p(e){let{info:t,children:n}=e;const[c,l]=(0,i.useState)("horizontal"),[d,h]=(0,i.useState)(0);(0,i.useEffect)((()=>{function e(){return window.innerWidth<v.A.values.sm?l("vertical"):l("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[c]);const{image:u="",station_name:m,location:p}=t;return(0,f.jsxs)(o.A,{position:"relative",mb:5,children:[(0,f.jsx)(o.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:n},palette:{gradients:a}}=e;return`${n(t(a.info.main,.6),t(a.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,f.jsxs)(r.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,f.jsxs)(a.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,f.jsx)(a.Ay,{item:!0,children:(0,f.jsx)(g.A,{src:u,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,f.jsx)(a.Ay,{item:!0,children:(0,f.jsxs)(o.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,f.jsx)(s.A,{variant:"h5",fontWeight:"medium",children:m}),(0,f.jsx)(s.A,{variant:"button",color:"text",fontWeight:"regular",children:p})]})})]}),n]})]})}p.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};var A=n(56084),j=n(24009),y=n(66801),b=n(40068),_=n(15570),H=(n(14149),n(3186)),w=n(17351),k=n(66304),q=n(59030);function z(){const e=(0,A.wA)(),{deleteHarvest:t}=(0,k.C0)(),{isGettingAllHarvest:n,honey_harvest:{harvest:a=[],totalHarvestQuantity:r=0,count:i=0,harvestedVolumeByYear:c=[],qualityRatingCount:l=[],numOfPages:d=0,totalHarvest:h=0}={},refetch:u}=(0,k.cL)(),m=e=>{let{image:t,name:n,year:a,station_id:r}=e;return(0,f.jsxs)(o.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,f.jsx)(g.A,{src:t,name:n,size:"sm"}),(0,f.jsxs)(o.A,{ml:2,lineHeight:1,children:[(0,f.jsx)(s.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,f.jsx)(j.N_,{to:`/stations/${r}`,children:`${r} ${n}`})}),(0,f.jsx)(s.A,{variant:"caption",children:a})]})]})};return{columns:[{Header:"harvest",accessor:"harvest",width:"45%",align:"left"},{Header:"station",accessor:"station",width:"45%",align:"left"},{Header:"date",accessor:"date",align:"left"},{Header:"quantity",accessor:"quantity",align:"center"},{Header:"unit",accessor:"unit",align:"center"},{Header:"color",accessor:"color",align:"center"},{Header:"rating",accessor:"rating",align:"center"},{Header:"note",accessor:"note",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:a.map(((n,a)=>{const{harvest_id:r,harvest_year:i,station_id:c,station_name:l,harvest_date:d,quantity_collected:h,colouration:u,unit:g,quality_rating:v,note:x}=n,p={harvest_id:r,harvest_year:i,station_id:c,station_name:l,harvest_date:d,quantity_collected:h,colouration:u,unit:g,quality_rating:v,note:x};return{harvest:(0,f.jsx)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:r}),station:(0,f.jsx)(m,{image:w.A,year:i,name:l,station_id:c}),date:(0,f.jsx)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:d}),quantity:(0,f.jsx)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:h}),unit:(0,f.jsx)(o.A,{ml:-1,children:(0,f.jsx)(H.A,{badgeContent:g,color:"litres"===g?"success":"warning",variant:"gradient",size:"sm"})}),color:(0,f.jsx)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:u}),rating:(0,f.jsxs)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:[v," of 5"]}),note:(0,f.jsx)(s.A,{title:x,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:x.length>20?`${x.slice(0,20)}...`:x}),update:(0,f.jsx)(s.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,f.jsx)(j.N_,{onClick:()=>{e((0,q.rG)(p))},to:`/createupdateharvest/${r}`,children:"Edit"})}),remove:(0,f.jsx)(s.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,f.jsx)(j.N_,{onClick:()=>{window.confirm("You are about to Delete an harvest records permanently, ARE YOU SURE?")&&t(r)},children:"remove"})})}})),harvest:a,numOfPages:d,count:i,refetch:u,isGettingAllHarvest:n,totalHarvestQuantity:r,harvestedVolumeByYear:c,qualityRatingCount:l,totalHarvest:h}}var C=n(5519);const W=function(){const{columns:e=[],rows:t=[],harvest:n,numOfPages:u,count:m,refetch:g,isGettingAllHarvest:v,totalHarvestQuantity:x,harvestedVolumeByYear:p,qualityRatingCount:b,totalHarvest:H}=z()||{},{pages:w,harvest_year:k,station_id:C,station_name:W,harvest_date:S,quantity_collected:R,colouration:E,unit:P,quality_rating:O,note:$,sort:G}=(0,A.d4)((e=>e.harvests))||{},L=(0,A.wA)();return i.useEffect((()=>{g&&g()}),[w,k,C,W,S,R,E,P,O,$,G,g]),(0,f.jsxs)(c.A,{children:[(0,f.jsx)(l.A,{}),(0,f.jsx)(o.A,{pt:6,pb:3,children:(0,f.jsx)(a.Ay,{container:!0,spacing:6,children:(0,f.jsxs)(a.Ay,{item:!0,xs:12,children:[(0,f.jsxs)(r.A,{children:[(0,f.jsx)(o.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,f.jsxs)(s.A,{variant:"h6",color:"white",children:["Honey Harvest",m,"/",H,(0,f.jsx)(j.N_,{onClick:()=>L((0,q.sy)()),to:"/createupdateharvest/add",children:"create harvest"}),(0,f.jsx)(y.Lo,{isGettingAllHarvest:v})]})}),(0,f.jsx)(o.A,{pt:3,children:(0,f.jsx)(h.A,{table:{columns:e,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,f.jsx)(_.A,{pageDetails:{handleChange:(e,t)=>{e.preventDefault(),L((0,q.yd)(t))},numOfPages:u,pages:w}})]})})}),(0,f.jsx)(d.A,{})]})},S=()=>{const{id:e}=(0,u.g)(),{harvestInputs:t}=(0,C.H1)(),{isUpdatingHarvest:n,updateHarvest:r}=(0,k.aH)(),{createHarvest:i,isCreatingHarvest:s}=(0,k.LT)(),{harvest_year:h,station_id:g,station_name:v,harvest_date:x,quantity_collected:p,colouration:_,unit:H,quality_rating:w,note:q,isEdit:z}=(0,A.d4)((e=>e.harvests)),W={harvest_year:h,station_id:g,station_name:v,harvest_date:x,quantity_collected:p,colouration:_,unit:H,quality_rating:w,note:q};return(0,f.jsxs)(c.A,{children:[(0,f.jsx)(l.A,{}),(0,f.jsx)(o.A,{mt:5,mb:3,children:(0,f.jsx)(a.Ay,{container:!0,spacing:1,children:(0,f.jsxs)(a.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(m.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsxs)("div",{children:[(0,f.jsx)(j.N_,{to:"/harvests",children:"Go back"}),(0,f.jsxs)("form",{onSubmit:t=>{t.preventDefault();if(Object.values(W).every((e=>void 0!==e&&null!==e&&""!==e)))return z?r({harvestDetails:W,id:e}):void i(W);alert("Please fill out all required fields.")},children:[t.filter((e=>"sort"!==e.name)).map((e=>{const{name:t,TextField:n}=e;return(0,f.jsx)("div",{children:n},t)})),(0,f.jsx)(y.Sv,{background:"#1212121F",backgroundhover:"#59d9d9",size:"100%",height:"3vh",type:"submit",children:"pending"===s||"pending"===n?(0,f.jsx)(b.du,{}):z?"Update":"Submit"})]})]}),(0,f.jsx)(m.A,{orientation:"vertical",sx:{mx:0}})]})})}),(0,f.jsx)(d.A,{})]})}},12682:(e,t,n)=>{n(83648),n(25813),n(77183),n(47310),n(74996),n(58294);n.p;n(21806),n(96338),n(21904),n(17351),n(28326)}}]);
//# sourceMappingURL=325.6d2c1908.chunk.js.map
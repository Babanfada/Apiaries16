"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[885],{52885:(e,i,t)=>{t.r(i),t.d(i,{CreateUpdateConsultation:()=>F,default:()=>L});var n=t(68282),s=t(26298),r=t(58294),o=t(83648),a=t(25813),c=t(16789),l=t(59251),d=t(63945),h=t(35016),m=(t(12682),t(49779)),u=(t(85785),t(97950),t(47417),t(77183)),p=t(74503),x=(t(22562),t(38079)),g=t(28326);function j(e){let{info:i,children:t}=e;const[c,l]=(0,r.useState)("horizontal"),[d,h]=(0,r.useState)(0);(0,r.useEffect)((()=>{function e(){return window.innerWidth<p.A.values.sm?l("vertical"):l("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[c]);const{image:m="",hive_type:j,status:A}=i;return(0,g.jsxs)(o.A,{position:"relative",mb:5,children:[(0,g.jsx)(o.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:i,linearGradient:t},palette:{gradients:n}}=e;return`${t(i(n.info.main,.6),i(n.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,g.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,g.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsx)(u.A,{src:m,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsxs)(o.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,g.jsx)(a.A,{variant:"h5",fontWeight:"medium",children:j}),(0,g.jsx)(a.A,{variant:"button",color:"text",fontWeight:"regular",children:A})]})})]}),t]})]})}j.defaultProps={info:{image:"",hive_type:"First Name",status:"Last Name"},children:null};var A=t(56084),v=t(24009),f=t(79147),b=t(40068),C=t(15570),w=(t(74996),t(14149),t(76885),t(96338)),_=t(62240),y=t(79574);function k(){const e=(0,A.wA)(),{deleteConsultation:i}=(0,_.uz)(),{isGettingAllC_Items:t,c_items:{consultancy_items:n=[],count:s=0,numOfPages:r=0,totalCitems:c=0}={},refetch:l}=(0,_.hk)(),d=e=>{let{image:i,item_name:t,item_id:n}=e;return(0,g.jsxs)(o.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,g.jsx)(u.A,{src:i,size:"sm"}),(0,g.jsxs)(o.A,{ml:2,lineHeight:1,children:[(0,g.jsx)(a.A,{display:"block",variant:"button",fontWeight:"medium",children:`${n} `}),(0,g.jsx)(a.A,{variant:"caption",children:t})]})]})};return{columns:[{Header:"consultation",accessor:"consultation",width:"45%",align:"left"},{Header:"service",accessor:"service",align:"left"},{Header:"description",accessor:"description",align:"center"},{Header:"rendered",accessor:"rendered",align:"center"},{Header:"price",accessor:"price",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:n.map(((t,n)=>{const{item_id:s,service_id:r,item_name:o,description:c,numOfTimesRendered:l,price:h}=t,m={service_id:r,item_name:o,description:c,numOfTimesRendered:l,price:h};return{consultation:(0,g.jsx)(d,{image:w.A,item_name:o,item_id:s}),service:(0,g.jsx)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:r}),description:(0,g.jsx)(a.A,{title:c,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:c.length>20?`${c.slice(0,20)}...`:c}),rendered:(0,g.jsxs)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:["# ",l]}),price:(0,g.jsxs)(a.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:["# ",h]}),update:(0,g.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(v.N_,{onClick:()=>{e((0,y.jo)(m))},to:`/createupdateconsultation/${s}`,children:"Edit"})}),remove:(0,g.jsx)(a.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a apiary item  records permanently, ARE YOU SURE?")&&i(s)},children:(0,g.jsx)(v.N_,{children:"remove"})})}})),numOfPages:r,refetch:l,count:s,isGettingAllC_Items:t,totalCitems:c}}var S=t(40447),I=t(35981),N=t(48781),z=t(1489),H=t(17633),O=t(18509),W=t(64977),R=t(82592);const E={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function P(e){let{isGettingAllC_Items:i}=e;const[t,n]=r.useState(!1),s=()=>n(!1);return(0,g.jsxs)("div",{className:H.A.wrapper,children:[(0,g.jsx)("div",{children:(0,g.jsx)(z.A,{fontSize:"medium",onClick:()=>n(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,g.jsx)(N.A,{open:t,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsxs)(S.A,{sx:{...E,background:"white"},className:H.A.box,children:[(0,g.jsxs)(I.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Seaerch Consultations ",(0,g.jsx)(O.A,{style:{cursor:"pointer"},onClick:s})]}),(0,g.jsx)("p",{children:"which service are you looking for?"}),(0,g.jsx)(G,{handleClose:s,isGettingAllC_Items:i})]})})]})}const G=e=>{let{handleClose:i,isGettingAllC_Items:t}=e;const{consultationInputs:n}=(0,R.ML)(),s=(0,A.wA)();return(0,g.jsxs)("form",{className:H.A.paper,children:[n.filter((e=>"description"!==e.name&&"service_id"!==e.name&&"price"!==e.name)).map((e=>{const{name:i,TextField:t}=e;return(0,g.jsx)("div",{children:t},i)})),(0,g.jsx)(W.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{s((0,y.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,g.jsx)(W.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>i(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===t?(0,g.jsx)(b.du,{color:"success"}):"Find Out"})]})};var T=t(82392),U=t(39053),$=t(77846),D=t(7579);const L=function(){const{columns:e,rows:i,numOfPages:t,count:m,refetch:u,isGettingAllC_Items:p,totalCitems:x}=k(),j=(0,A.wA)(),{item_id:f,item_name:b,description:w,numOfTimesRendered:_,price:S,sort:I,pages:N,priceRangeC:z}=(0,A.d4)((e=>e.consultations));return r.useEffect((()=>{u()}),[N,f,b,w,_,S,I,z]),(0,g.jsxs)(c.A,{children:[(0,g.jsx)(l.A,{}),(0,g.jsx)(o.A,{pt:6,pb:3,children:(0,g.jsx)(n.Ay,{container:!0,spacing:6,children:(0,g.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,g.jsxs)(s.A,{children:[(0,g.jsx)(o.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,g.jsxs)(a.A,{className:T.A.wrapper,variant:"h6",color:"white",children:[(0,g.jsxs)(o.A,{className:T.A.inner,children:[(0,g.jsx)(a.A,{color:"white",children:"Consultations"}),(0,g.jsxs)(a.A,{color:"white",children:[m,"/",x]})]}),(0,g.jsxs)(o.A,{className:T.A.inner,children:[(0,g.jsx)(v.N_,{onClick:()=>j((0,y.sy)()),to:"/createupdateconsultation/add",children:(0,g.jsx)($.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new consultation details"})}),(0,g.jsx)(P,{isGettingAllC_Items:p})]})]})}),(0,g.jsx)(o.A,{pt:3,children:(0,g.jsx)(h.A,{table:{columns:e,rows:i},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,g.jsx)(C.A,{pageDetails:{handleChange:(e,i)=>{e.preventDefault(),j((0,y.yd)(i))},numOfPages:t,pages:N}})]})})}),(0,g.jsx)(d.A,{})]})},F=()=>{const{id:e}=(0,m.g)(),{consultationInputs:i}=(0,R.ML)(),{isUpdatingConsultation:t,updateConsultation:s}=(0,_.e8)(),{createConsultation:r,isCreatingConsultation:a}=(0,_.BQ)(),{service_id:h,item_name:u,description:p,numOfTimesRendered:x,price:j,isEdit:C}=(0,A.d4)((e=>e.consultations)),w={service_id:h,item_name:u,description:p,numOfTimesRendered:x,price:j};return(0,g.jsxs)(c.A,{children:[(0,g.jsx)(l.A,{}),(0,g.jsx)(o.A,{mt:5,mb:3,children:(0,g.jsx)(n.Ay,{className:U.A.wrapper,container:!0,spacing:1,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(v.N_,{to:"/consultations",children:(0,g.jsx)(D.A,{})}),(0,g.jsxs)("h6",{children:[C?`Update ${u} details`:"Create Service"," "]}),(0,g.jsx)("div",{})]}),(0,g.jsxs)("form",{onSubmit:i=>{i.preventDefault();if(Object.values(w).every((e=>void 0!==e&&null!==e&&""!==e)))return C?s({consultationDetails:w,id:e}):void r(w);alert("Please fill out all required fields.")},children:[i.filter((e=>"sort"!==e.name&&"priceRangeC"!==e.name)).map((e=>{const{name:i,TextField:t}=e;return(0,g.jsx)("div",{children:t},i)})),(0,g.jsx)(f.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===a||"pending"===t?(0,g.jsx)(b.du,{}):C?"Update":"Submit"})]})]})})}),(0,g.jsx)(d.A,{})]})}},77846:(e,i,t)=>{var n=t(5855);i.A=void 0;var s=n(t(93496)),r=t(28326),o=(0,s.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");i.A=o}}]);
//# sourceMappingURL=885.3ff9d25c.chunk.js.map
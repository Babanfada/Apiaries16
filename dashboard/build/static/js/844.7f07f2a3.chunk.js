"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[844],{73927:(e,t,a)=>{a.d(t,{A:()=>_});var n=a(58294),s=a(40447),i=a(35981),o=a(48781),r=a(18509),l=a(64977),d=a(40068),c=a(56084),u=a(41437),h=a(29136),m=a(1489),p=a(17633),x=a(28326);const g={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function _(e){let{isGettingStations:t}=e;const[a,l]=n.useState(!1),d=()=>l(!1);return(0,x.jsxs)("div",{className:p.A.wrapper,children:[(0,x.jsx)("div",{children:(0,x.jsx)(m.A,{fontSize:"medium",onClick:()=>l(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,x.jsx)(o.A,{open:a,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,x.jsxs)(s.A,{sx:{...g,background:"white"},className:p.A.box,children:[(0,x.jsxs)(i.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Stations ",(0,x.jsx)(r.A,{style:{cursor:"pointer"},onClick:d})]}),(0,x.jsx)("p",{children:"which station you looking for?"}),(0,x.jsx)(v,{handleClose:d,isGettingStations:t})]})})]})}const v=e=>{let{handleClose:t,isGettingStations:a}=e;const{searchStations:n}=(0,h.gs)(),s=(0,c.wA)();return(0,x.jsxs)("form",{className:p.A.paper,children:[n.map((e=>{const{name:t,TextField:a}=e;return(0,x.jsx)("div",{children:a},t)})),(0,x.jsx)(l.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{s((0,u.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,x.jsx)(l.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===a?(0,x.jsx)(d.du,{color:"success"}):"Find Out"})]})}},29136:(e,t,a)=>{a.d(t,{ZQ:()=>u,gS:()=>h,gs:()=>c});var n=a(56084),s=a(41437),i=a(98460),o=a(70545),r=a(79147),l=a(99762),d=a(28326);const c=()=>{const e=(0,n.wA)(),{station_name:t,supervisor_int:a,supervisor_ext:i,location:l,longitude:c,latitude:u,station_size:h,number_of_hive_boxes:m,status:p,station_maintainace_history:x,last_inspection_date:g,next_inspection_date:_,notes:v,sort:j}=(0,n.d4)((e=>e.stations)),b=t=>{const{name:a,value:n}=t.target,i=["supervisor_int","supervisor_ext","longitude","latitude","number_of_hive_boxes"];let o=i.includes(a)?Number(n):n;i.includes(a)&&!["longitude","latitude"].includes(a)&&o<1&&(o=1),e((0,s.$5)({name:a,value:o}))},y=t=>{const{name:a,value:n}=t.target,i=(0,o.h)(n.toISOString());e((0,s.sV)({name:a,date:i}))},A=[{name:"station_name",TextField:(0,d.jsx)(r.Cb,{name:"station_name",value:t,type:"name",handleChange:b})},{name:"supervisor_int",TextField:(0,d.jsx)(r.Cb,{name:"supervisor_int",value:a,type:"number",handleChange:b})},{name:"supervisor_ext",TextField:(0,d.jsx)(r.Cb,{name:"supervisor_ext",value:i,type:"number",handleChange:b})},{name:"location",TextField:(0,d.jsx)(r.Cb,{name:"location",value:l,type:"name",handleChange:b})},{name:"longitude",TextField:(0,d.jsx)(r.Cb,{name:"longitude",value:c,type:"number",handleChange:b})},{name:"latitude",TextField:(0,d.jsx)(r.Cb,{name:"latitude",value:u,type:"number",handleChange:b})},{name:"station_size",TextField:(0,d.jsx)(r.eu,{name:"station_size",value:h,type:"text",gender:["---","small","medium","large"],handleChange:b})},{name:"number_of_hive_boxes",TextField:(0,d.jsx)(r.Cb,{name:"number_of_hive_boxes",value:m,type:"number",handleChange:b})},{name:"status",TextField:(0,d.jsx)(r.eu,{name:"status",value:p,type:"text",gender:["---","active","inactive","terminated"],handleChange:b})},{name:"station_maintainace_history",TextField:(0,d.jsx)(r.ov,{name:"station_maintainace_history",value:x,type:"text",handleChange:b})},{name:"last_inspection_date",TextField:(0,d.jsx)(r.eC,{name:"last_inspection_date",value:g,onChange:y})},{name:"next_inspection_date",TextField:(0,d.jsx)(r.eC,{name:"next_inspection_date",value:_,onChange:y})},{name:"notes",TextField:(0,d.jsx)(r.ov,{name:"notes",value:v,type:"text",handleChange:b})},{name:"sort",TextField:(0,d.jsx)(r.eu,{name:"sort",value:j,type:"text",gender:["---","A-Z","Z-A","high-low","low-high"],handleChange:b})}],C=A.filter((e=>["station_name","location","station_size","status","supervisor_int","supervisor_ext","number_of_hive_boxes","sort"].includes(e.name)));return{station_details:A,searchStations:C}},u=()=>{const{tool_name:e,category:t,quantity:a,status:s,storage_location:l,supplier:c,purchase_date:u,purchase_cost:h,currency:m,last_maintanace_date:p,next_maintanace_date:x,retired:g,note:_,sort:v}=(0,n.d4)((e=>e.equipments)),j=(0,n.wA)(),b=e=>{const{name:t,value:a}=e.target,n=(0,o.h)(a.toISOString());j((0,i.ZJ)({name:t,date:n}))},y=e=>{const{name:t,value:a}=e.target,n=["quantity","purchase_cost"];let s=n.includes(t)?Number(a):a;n.includes(t)&&s<1&&(s=1),j((0,i.pM)({name:t,value:s}))},A=[{name:"tool_name",TextField:(0,d.jsx)(r.Cb,{name:"tool_name",value:e,type:"name",handleChange:y})},{name:"quantity",TextField:(0,d.jsx)(r.Cb,{name:"quantity",value:a,type:"number",handleChange:y})},{name:"purchase_cost",TextField:(0,d.jsx)(r.Cb,{name:"purchase_cost",value:h,type:"number",handleChange:y})},{name:"supplier",TextField:(0,d.jsx)(r.Cb,{name:"supplier",value:c,type:"name",handleChange:y})},{name:"currency",TextField:(0,d.jsx)(r.Cb,{name:"currency",value:m,type:"name",handleChange:y})},{name:"category",TextField:(0,d.jsx)(r.eu,{name:"category",value:t,type:"text",gender:["---","beekeping","carpentary","processing"],handleChange:y})},{name:"retired",TextField:(0,d.jsx)(r.eu,{name:"retired",value:g,type:"text",gender:["---","retired","not retired"],handleChange:y})},{name:"status",TextField:(0,d.jsx)(r.eu,{name:"status",value:s,type:"text",gender:["---","used","new","need repair"],handleChange:y})},{name:"storage_location",TextField:(0,d.jsx)(r.eu,{name:"storage_location",value:l,type:"text",gender:["---","warehouse","apiary site","factory"],handleChange:y})},{name:"purchase_date",TextField:(0,d.jsx)(r.eC,{name:"purchase_date",value:u,onChange:b})},{name:"last_maintanace_date",TextField:(0,d.jsx)(r.eC,{name:"last_maintanace_date",value:p,onChange:b})},{name:"next_maintanace_date",TextField:(0,d.jsx)(r.eC,{name:"next_maintanace_date",value:x,onChange:b})},{name:"note",TextField:(0,d.jsx)(r.ov,{name:"note",value:_,type:"text",handleChange:y})},{name:"sort",TextField:(0,d.jsx)(r.eu,{name:"sort",value:v,type:"text",gender:["---","high-purchase-cost","low-purchase-cost","A-Z","Z-A","recent","old"],handleChange:y})}],C=A.filter((e=>["tool_name","category","status","storage_location","supplier","currency","retired","quantity","purchase_cost","purchase_date","sort"].includes(e.name)));return{equipmentDetails:A,searchEquipments:C}},h=()=>{const{supply_name:e,category:t,quantity:a,status:s,storage_location:i,supplier:c,minimum_stock_level:u,purchase_date:h,purchase_cost:m,sort:p}=(0,n.d4)((e=>e.supplies)),x=(0,n.wA)(),g=e=>{const{name:t,value:a}=e.target,n=["quantity","purchase_cost"," minimum_stock_level"];let s=n.includes(t)?Number(a):a;n.includes(t)&&s<1&&(s=1),x((0,l.nc)({name:t,value:s}))},_=[{name:"supply_name",TextField:(0,d.jsx)(r.Cb,{name:"supply_name",value:e,type:"name",handleChange:g})},{name:"category",TextField:(0,d.jsx)(r.eu,{name:"category",value:t,type:"text",gender:["---","processing","packaging"],handleChange:g})},{name:"quantity",TextField:(0,d.jsx)(r.Cb,{name:"quantity",value:a,type:"number",handleChange:g})},{name:"status",TextField:(0,d.jsx)(r.eu,{name:"status",value:s,type:"text",gender:["---","used","new","need repair"],handleChange:g})},{name:"storage_location",TextField:(0,d.jsx)(r.eu,{name:"storage_location",value:i,type:"text",gender:["---","warehouse","factory"],handleChange:g})},{name:"supplier",TextField:(0,d.jsx)(r.Cb,{name:"supplier",value:c,type:"name",handleChange:g})},{name:"purchase_cost",TextField:(0,d.jsx)(r.Cb,{name:"purchase_cost",value:m,type:"number",handleChange:g})},{name:"purchase_date",TextField:(0,d.jsx)(r.eC,{name:"purchase_date",value:h,onChange:e=>{const{name:t,value:a}=e.target,n=(0,o.h)(a.toISOString());x((0,l.RT)({name:t,date:n}))}})},{name:"minimum_stock_level",TextField:(0,d.jsx)(r.Cb,{name:"minimum_stock_level",value:u,type:"number",handleChange:g})},{name:"sort",TextField:(0,d.jsx)(r.eu,{name:"sort",value:p,type:"text",gender:["---","high-low","low-high","high-stock","low-stock","recent","old"],handleChange:g})}],v=_.filter((e=>["supply_name","category","quantity","status","storage_location","supplier","purchase_cost","purchase_date"].includes(e.name)));return{suppliesDetails:_,searchSupplies:v}}},31844:(e,t,a)=>{a.r(t),a.d(t,{CreateUpdateReport:()=>W,default:()=>q});var n=a(68282),s=a(26298),i=a(58294),o=a(83648),r=a(25813),l=a(16789),d=a(59251),c=a(63945),u=a(35016),h=(a(12682),a(49779)),m=(a(85785),a(97950),a(47417),a(77183)),p=a(74503),x=(a(22562),a(38079)),g=a(28326);function _(e){let{info:t,children:a}=e;const[l,d]=(0,i.useState)("horizontal"),[c,u]=(0,i.useState)(0);(0,i.useEffect)((()=>{function e(){return window.innerWidth<p.A.values.sm?d("vertical"):d("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[l]);const{image:h="",station_name:_,location:v}=t;return(0,g.jsxs)(o.A,{position:"relative",mb:5,children:[(0,g.jsx)(o.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:a},palette:{gradients:n}}=e;return`${a(t(n.info.main,.6),t(n.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,g.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,g.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsx)(m.A,{src:h,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsxs)(o.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,g.jsx)(r.A,{variant:"h5",fontWeight:"medium",children:_}),(0,g.jsx)(r.A,{variant:"button",color:"text",fontWeight:"regular",children:v})]})})]}),a]})]})}_.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};var v=a(56084),j=a(24009),b=a(79147),y=a(40068),A=a(15570),C=(a(73927),a(74996)),f=(a(14149),a(76885)),w=a(56328),F=a(88109);function T(){const e=(0,v.wA)(),{deleteReport:t}=(0,w.zF)(),{isGettingAllReports:a,catch_reports:{reports:n=[],totalReports:s=0,count:i=0,numOfPages:l=0,totalboxesAssigned:d=0,totalColonized:c=0,totalUnColonized:u=0},refetch:h}=(0,w.rY)(),p=e=>{let{image:t,season:a,location:n,report_id:s}=e;return(0,g.jsxs)(o.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,g.jsx)(m.A,{src:t,season:a,size:"sm"}),(0,g.jsxs)(o.A,{ml:2,lineHeight:1,children:[(0,g.jsx)(r.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,g.jsx)(j.N_,{to:"#",children:`${s} ${a}`})}),(0,g.jsx)(r.A,{variant:"caption",children:n})]})]})},x=e=>{let{title:t,description:a}=e;return(0,g.jsxs)(o.A,{lineHeight:1,textAlign:"left",children:[(0,g.jsx)(r.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`colonized: ${t}`}),(0,g.jsx)(r.A,{variant:"caption",children:`uncolonized: ${a}`})]})},_=e=>{let{title:t,description:a}=e;return(0,g.jsxs)(o.A,{lineHeight:1,textAlign:"left",children:[(0,g.jsx)(r.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`date assigned: ${t}`}),(0,g.jsx)(r.A,{variant:"caption",children:`catch date: ${a}`})]})},b=e=>{let{title:t,description:a}=e;return(0,g.jsxs)(o.A,{lineHeight:1,textAlign:"left",children:[(0,g.jsx)(r.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsxs)(j.N_,{to:`/hunters/${t}`,children:["hunter ",t]})}),(0,g.jsx)(r.A,{variant:"caption",children:(0,g.jsxs)(j.N_,{to:`/employees/${a}`,children:["supervisor ",a]})})]})};return{columns:[{Header:"report",accessor:"report",width:"45%",align:"left"},{Header:"details",accessor:"details",align:"left"},{Header:"asseigned_boxes",accessor:"asseigned_boxes",align:"center"},{Header:"colonization",accessor:"colonization",align:"center"},{Header:"catch_stats",accessor:"catch_stats",align:"center"},{Header:"status",accessor:"status",align:"center"},{Header:"installed_at_apiary",accessor:"installed_at_apiary",align:"center"},{Header:"note",accessor:"note",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:n.map(((a,n)=>{const{report_id:s,hunter_id:i,assigned_supervisor:l,total_boxes_assigned:d,colonized_boxes:c,uncolonized_boxes:u,delivered_to_apiary:h,date_assigned:m,catch_date:v,catch_location:y,catch_status:A,season:w,notes:T}=a,z={report_id:s,hunter_id:i,assigned_supervisor:l,total_boxes_assigned:d,colonized_boxes:c,uncolonized_boxes:u,delivered_to_apiary:h,date_assigned:m,catch_date:v,catch_location:y,catch_status:A,season:w,notes:T};return{report:(0,g.jsx)(p,{image:C.A,season:w,location:y,report_id:s}),details:(0,g.jsx)(b,{title:i,description:l}),assigned_boxes:(0,g.jsx)(r.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:d}),colonization:(0,g.jsx)(x,{title:c,description:u}),catch_stats:(0,g.jsx)(_,{title:m,description:v}),status:(0,g.jsx)(o.A,{ml:-1,children:(0,g.jsx)(f.A,{badgeContent:A,color:"all successfull"===A?"success":"some pending"===A?"error":"warning",variant:"gradient",size:"sm"})}),installed_at_apiary:(0,g.jsx)(o.A,{ml:-1,children:(0,g.jsx)(f.A,{badgeContent:A,color:"all"===A?"success":"some"===A?"error":"warning",variant:"gradient",size:"sm"})}),note:(0,g.jsx)(r.A,{title:T,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:T.length>20?`${T.slice(0,20)}...`:T}),update:(0,g.jsx)(r.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(j.N_,{onClick:()=>{e((0,F.Ge)(z))},to:`/createupdatereport/${s}`,children:"Edit"})}),remove:(0,g.jsx)(r.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",onClick:()=>{window.confirm("You are about to Delete a report records permanently, ARE YOU SURE?")&&t(s)},children:(0,g.jsx)(j.N_,{children:"remove"})})}})),numOfPages:l,count:i,numOfPages:l,refetch:h,isGettingAllReports:a,totalReports:s,totalboxesAssigned:d,totalColonized:c,totalUnColonized:u}}var z=a(5519),k=a(82392),S=a(39053),N=a(77846),R=a(7579),H=a(42876);const q=function(){const{columns:e,rows:t,numOfPages:a,count:h,refetch:m,isGettingAllReports:p,totalReports:x,totalboxesAssigned:_,totalColonized:y,totalUnColonized:C}=T(),f=(0,v.wA)(),{total_boxes_assigned:w,colonized_boxes:z,uncolonized_boxes:S,catch_date:R,catch_status:H,season:q,sort:W,pages:$}=(0,v.d4)((e=>e.reports));return i.useEffect((()=>{m()}),[$,w,z,S,R,H,q,W]),(0,g.jsxs)(l.A,{children:[(0,g.jsx)(d.A,{}),(0,g.jsx)(o.A,{pt:6,pb:3,children:(0,g.jsx)(n.Ay,{container:!0,spacing:6,children:(0,g.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,g.jsxs)(s.A,{children:[(0,g.jsx)(o.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,g.jsxs)(r.A,{className:k.A.wrapper,variant:"h6",color:"white",children:[(0,g.jsxs)(o.A,{className:k.A.inner,children:[(0,g.jsx)(r.A,{color:"white",children:"Harvest Reports"}),(0,g.jsxs)(r.A,{color:"white",children:[h,"/",x]})]}),(0,g.jsxs)(o.A,{className:k.A.inner,children:[(0,g.jsx)(j.N_,{onClick:()=>f((0,F.sy)()),to:"/createupdatereport/add",children:(0,g.jsx)(N.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new report"})}),(0,g.jsx)(b.gz,{isGettingAllReports:p})]})]})}),(0,g.jsx)(o.A,{pt:3,children:(0,g.jsx)(u.A,{table:{columns:e,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,g.jsx)(A.A,{pageDetails:{handleChange:(e,t)=>{e.preventDefault(),f((0,F.yd)(t))},numOfPages:a,pages:$}})]})})}),(0,g.jsx)(c.A,{})]})},W=()=>{const{id:e}=(0,h.g)(),{reportInputs:t}=(0,z.kA)(),{isUpdatingReport:a,updateReport:s}=(0,w.xN)(),{createReport:i,isCreatingReport:r}=(0,w.GD)(),{hunter_id:u,assigned_supervisor:m,total_boxes_assigned:p,colonized_boxes:x,uncolonized_boxes:_,delivered_to_apiary:A,date_assigned:C,catch_date:f,catch_location:F,catch_status:T,season:k,notes:N,isEdit:q}=(0,v.d4)((e=>e.reports)),W={hunter_id:u,assigned_supervisor:m,total_boxes_assigned:p,colonized_boxes:x,uncolonized_boxes:_,delivered_to_apiary:A,date_assigned:C,catch_date:f,catch_location:F,catch_status:T,season:k,notes:N};return(0,g.jsxs)(l.A,{children:[(0,g.jsx)(d.A,{}),(0,g.jsxs)(o.A,{mt:5,mb:3,children:[q?(0,g.jsx)(j.N_,{to:"/stations",children:(0,g.jsx)(H.A,{title:"back to stations",fontSize:"large",children:"business"})}):"",(0,g.jsx)(n.Ay,{className:S.A.wrapper,container:!0,spacing:1,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(j.N_,{to:"/reports",children:(0,g.jsx)(R.A,{})}),(0,g.jsxs)("h6",{children:[q?"Update report details":"Create a new Report"," "]}),(0,g.jsx)("div",{})]}),(0,g.jsxs)("form",{className:S.A.form,onSubmit:t=>{t.preventDefault();if(Object.values(W).every((e=>void 0!==e&&null!==e&&""!==e)))return q?s({reportDetails:W,id:e}):void i(W);alert("Please fill out all required fields.")},children:[t.filter((e=>"sort"!==e.name)).map((e=>{const{name:t,TextField:a}=e;return(0,g.jsx)("div",{children:a},t)})),(0,g.jsx)(b.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===r||"pending"===a?(0,g.jsx)(y.du,{}):q?"Update":"Submit"})]})]})})]}),(0,g.jsx)(c.A,{})]})}},77846:(e,t,a)=>{var n=a(5855);t.A=void 0;var s=n(a(93496)),i=a(28326),o=(0,s.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.A=o}}]);
//# sourceMappingURL=844.7f07f2a3.chunk.js.map
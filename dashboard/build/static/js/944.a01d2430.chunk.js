"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[944],{74996:(e,n,i)=>{i.d(n,{A:()=>t});i(58294);const t=i.p+"static/media/logo-asana.5c9ced4f9006cfb2d4c10f905cf6d310.svg"},3186:(e,n,i)=>{i.d(n,{A:()=>c});var t=i(58294),r=i(49052),o=i.n(r),a=i(88015);const s=(0,i(64319).Ay)(a.A)((e=>{let{theme:n,ownerState:i}=e;const{palette:t,typography:r,borders:o,functions:a}=n,{color:s,circular:l,border:d,size:c,indicator:h,variant:m,container:u,children:g}=i,{white:p,dark:x,gradients:f,badgeColors:j}=t,{size:A,fontWeightBold:b}=r,{borderRadius:v,borderWidth:k}=o,{pxToRem:y,linearGradient:w}=a,N={xs:"0.45em 0.775em",sm:"0.55em 0.9em",md:"0.65em 1em",lg:"0.85em 1.375em"},C="xs"===c?A.xxs:A.xs,_=d?`${k[3]} solid ${p.main}`:"none",z=l?v.section:v.md;return{"& .MuiBadge-badge":{height:"auto",padding:N[c]||N.xs,fontSize:C,fontWeight:b,textTransform:"uppercase",lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",border:_,borderRadius:z,...h&&(e=>{let n=y(20),i=y(20);return"medium"===e?(n=y(24),i=y(24)):"large"===e&&(n=y(32),i=y(32)),{width:n,height:i,display:"grid",placeItems:"center",textAlign:"center",borderRadius:"50%",padding:0,border:_}})(c),..."gradient"===m&&(S=s,{background:f[S]?w(f[S].main,f[S].state):w(f.info.main,f.info.state),color:"light"===S?x.main:p.main}),..."contained"===m&&(e=>{const n=j[e]?j[e].background:j.info.background;let i=j[e]?j[e].text:j.info.text;return"light"===e&&(i=x.main),{background:n,color:i}})(s),...!g&&!u&&{position:"static",marginLeft:y(8),transform:"none",fontSize:y(9)},...u&&{position:"relative",transform:"none"}}};var S}));var l=i(28326);const d=(0,t.forwardRef)(((e,n)=>{let{color:i,variant:t,size:r,circular:o,indicator:a,border:d,container:c,children:h,...m}=e;return(0,l.jsx)(s,{...m,ownerState:{color:i,variant:t,size:r,circular:o,indicator:a,border:d,container:c,children:h},ref:n,color:"default",children:h})}));d.defaultProps={color:"info",variant:"gradient",size:"sm",circular:!1,indicator:!1,border:!1,children:!1,container:!1},d.propTypes={color:o().oneOf(["primary","secondary","info","success","warning","error","light","dark"]),variant:o().oneOf(["gradient","contained"]),size:o().oneOf(["xs","sm","md","lg"]),circular:o().bool,indicator:o().bool,border:o().bool,children:o().node,container:o().bool};const c=d},97944:(e,n,i)=>{i.r(n),i.d(n,{CreateUpdateNok:()=>D,default:()=>$});var t=i(68282),r=i(26298),o=i(58294),a=i(83648),s=i(25813),l=i(16789),d=i(59251),c=i(63945),h=i(35016),m=(i(12682),i(49779)),u=i(80608),g=(i(85785),i(97950),i(47417),i(77183)),p=i(74503),x=(i(22562),i(38079)),f=i(28326);function j(e){let{info:n,children:i}=e;const[l,d]=(0,o.useState)("horizontal"),[c,h]=(0,o.useState)(0);(0,o.useEffect)((()=>{function e(){return window.innerWidth<p.A.values.sm?d("vertical"):d("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[l]);const{image:m="",station_name:u,location:j}=n;return(0,f.jsxs)(a.A,{position:"relative",mb:5,children:[(0,f.jsx)(a.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:n,linearGradient:i},palette:{gradients:t}}=e;return`${i(n(t.info.main,.6),n(t.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,f.jsxs)(r.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,f.jsxs)(t.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,f.jsx)(t.Ay,{item:!0,children:(0,f.jsx)(g.A,{src:m,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,f.jsx)(t.Ay,{item:!0,children:(0,f.jsxs)(a.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,f.jsx)(s.A,{variant:"h5",fontWeight:"medium",children:u}),(0,f.jsx)(s.A,{variant:"button",color:"text",fontWeight:"regular",children:j})]})})]}),i]})]})}j.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};var A=i(56084),b=i(24009),v=i(66801),k=i(40068),y=i(15570),w=(i(14149),i(3186)),N=i(21806),C=i(39076),_=i(18434);function z(){const{deleteNok:e}=(0,C.Xz)(),n=(0,A.wA)(),{isGettingAllNok:i,refetch:t,noks:{employeesNOK:r=[],genderTypeCount:o=[],numOfPages:l,totalEmployeesNOK:d=0,count:c=0,relationshipTypeCount:h=[]}={}}=(0,C.LJ)(),m=e=>{let{image:n,name:i,email:t,nok_id:r}=e;return(0,f.jsxs)(a.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,f.jsx)(g.A,{src:n,name:i,size:"sm"}),(0,f.jsxs)(a.A,{ml:2,lineHeight:1,children:[(0,f.jsx)(s.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,f.jsx)(b.N_,{children:`${r} ${i}`})}),(0,f.jsx)(s.A,{variant:"caption",children:t})]})]})};return{columns:[{Header:"nok",accessor:"nok",width:"45%",align:"left"},{Header:"employee",accessor:"employee",width:"45%",align:"left"},{Header:"address",accessor:"address",align:"left"},{Header:"phone",accessor:"phone",align:"center"},{Header:"gender",accessor:"gender",align:"center"},{Header:"relationship",accessor:"relationship",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:r.map(((i,t)=>{const{nok_id:r,emp_id:o,fullname:l,email:d,address:c,phone:h,gender:u,relationship:g}=i,p={nok_id:r,emp_id:o,fullname:l,email:d,address:c,phone:h,gender:u,relationship:g};return{nok:(0,f.jsx)(m,{image:N.A,name:l,email:d,nok_id:r}),employee:(0,f.jsx)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:(0,f.jsx)(b.N_,{to:`/employees/${o}`,children:o})}),address:(0,f.jsx)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:c}),phone:(0,f.jsx)(s.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:h}),gender:(0,f.jsx)(a.A,{ml:-1,children:(0,f.jsx)(w.A,{badgeContent:u,color:"male"===u?"success":"warning",variant:"gradient",size:"sm"})}),relationship:(0,f.jsx)(a.A,{ml:-1,children:(0,f.jsx)(w.A,{badgeContent:g,color:"spouse"===g?"success":"parent"===g?"warning":"guidance"===g?"error":"info",variant:"gradient",size:"sm"})}),update:(0,f.jsx)(s.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,f.jsx)(b.N_,{onClick:()=>{n((0,_.wg)(p))},to:`/createupdatenok/${r}`,children:"Edit"})}),remove:(0,f.jsx)(s.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,f.jsx)(b.N_,{onClick:()=>{window.confirm("You are about to Delete an next of kin records permanently, ARE YOU SURE?")&&e(r)},children:"remove"})})}})),isGettingAllNok:i,employeesNOK:r,genderTypeCount:o,numOfPages:l,totalEmployeesNOK:d,count:c,relationshipTypeCount:h,refetch:t}}var S=i(40447),O=i(35981),W=i(48781),E=i(29340),H=i(18509),T=i(64977),G=i(5519);function P(e){let{isGettingAllNok:n}=e;const[i,t]=o.useState(!1),r=()=>t(!1);return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)(E.MFA,{onClick:()=>t(!0),title:"filter"})}),(0,f.jsx)(W.A,{open:i,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,f.jsxs)(S.A,{children:[(0,f.jsxs)(O.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Filter"," ",(0,f.jsx)(H.A,{style:{cursor:"pointer"},onClick:r})]}),(0,f.jsx)("p",{children:"which of your products are you looking for?"}),(0,f.jsx)(R,{handleClose:r,isGettingAllNok:n})]})})]})}const R=e=>{let{handleClose:n,isGettingAllNok:i}=e;const{nokDetails:t}=(0,G.cj)(),r=(0,A.wA)();return(0,f.jsxs)("form",{children:[t.filter((e=>"address"!=e.name)).map((e=>{const{name:n,TextField:i}=e;return(0,f.jsx)("div",{children:i},n)})),(0,f.jsx)(T.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>{r((0,_.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,f.jsx)(T.S,{background:"inherit",backgroundhover:"rgba(0, 128, 0, 0.9)",height:"8vh",onClick:()=>n(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===i?(0,f.jsx)(k.du,{color:"success"}):"Find Out"})]})};const $=function(){const{isGettingAllNok:e=!1,employeesNOK:n=[],genderTypeCount:i=0,numOfPages:m=1,totalEmployeesNOK:u=0,count:g=0,relationshipTypeCount:p=0,refetch:x,columns:j=[],rows:v=[]}=z()||{},{pages:k=1,emp_id:w,fullname:N,email:C,address:S,phone:O,gender:W,relationship:E,sort:H}=(0,A.d4)((e=>e.noks))||{},T=(0,A.wA)();return o.useEffect((()=>{x&&x()}),[w,N,C,S,O,W,E,k,H,x]),(0,f.jsxs)(l.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(a.A,{pt:6,pb:3,children:(0,f.jsx)(t.Ay,{container:!0,spacing:6,children:(0,f.jsxs)(t.Ay,{item:!0,xs:12,children:[(0,f.jsxs)(r.A,{children:[(0,f.jsx)(a.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,f.jsxs)(s.A,{variant:"h6",color:"white",children:["Next of Kin",g,"/",u,(0,f.jsx)(b.N_,{onClick:()=>T((0,_.sy)()),to:"/createupdatenok/add",children:"create nok"}),(0,f.jsx)(P,{isGettingAllNok:e})]})}),(0,f.jsx)(a.A,{pt:3,children:(0,f.jsx)(h.A,{table:{columns:j,rows:v},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,f.jsx)(y.A,{pageDetails:{handleChange:(e,n)=>{e.preventDefault(),T((0,_.yd)(n))},numOfPages:m,pages:k}})]})})}),(0,f.jsx)(c.A,{})]})},D=()=>{const{id:e}=(0,m.g)(),{createNok:n,isCreatingNok:i}=(0,C.yI)(),{updateNok:r,isUpdatingNok:o}=(0,C.v2)(),{nokDetails:s}=(0,G.cj)(),{emp_id:h,fullname:g,email:p,address:x,phone:j,gender:y,relationship:w,isEdit:N}=(0,A.d4)((e=>e.noks)),_={emp_id:h,fullname:g,email:p,address:x,phone:j,gender:y,relationship:w};return(0,f.jsxs)(l.A,{children:[(0,f.jsx)(d.A,{}),(0,f.jsx)(a.A,{mt:5,mb:3,children:(0,f.jsx)(t.Ay,{container:!0,spacing:1,children:(0,f.jsxs)(t.Ay,{item:!0,xs:12,md:6,xl:4,sx:{display:"flex"},children:[(0,f.jsx)(u.A,{orientation:"vertical",sx:{ml:-2,mr:1}}),(0,f.jsxs)("div",{children:[(0,f.jsx)(b.N_,{to:"/noks",children:"Go back"}),(0,f.jsxs)("form",{onSubmit:i=>{i.preventDefault();if(Object.values(_).every((e=>void 0!==e&&null!==e&&""!==e)))return N?r({nokDetails:_,id:e}):void n(_);alert("Please fill out all required fields.")},children:[s.filter((e=>"sort"!==e.name)).map((e=>{const{name:n,TextField:i}=e;return(0,f.jsx)("div",{children:i},n)})),(0,f.jsx)(v.Sv,{background:"#1212121F",backgroundhover:"#59d9d9",size:"100%",height:"3vh",type:"submit",children:"pendiNokuseCreateNok "===i||"pending"===o?(0,f.jsx)(k.du,{}):N?"Update":"Submit"})]})]}),(0,f.jsx)(u.A,{orientation:"vertical",sx:{mx:0}})]})})}),(0,f.jsx)(c.A,{})]})}},12682:(e,n,i)=>{i(83648),i(25813),i(77183),i(47310),i(74996),i(58294);i.p;i(21806),i(96338),i(21904),i(17351),i(28326)}}]);
//# sourceMappingURL=944.a01d2430.chunk.js.map
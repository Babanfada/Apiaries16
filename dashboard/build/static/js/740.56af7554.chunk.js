"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[740],{29136:(e,t,n)=>{n.d(t,{ZQ:()=>u,gS:()=>m,gs:()=>d});var a=n(56084),i=n(41437),s=n(98460),r=n(70545),o=n(79147),l=n(99762),c=n(28326);const d=()=>{const e=(0,a.wA)(),{station_name:t,supervisor_int:n,supervisor_ext:s,location:l,longitude:d,latitude:u,station_size:m,number_of_hive_boxes:h,status:p,station_maintainace_history:x,last_inspection_date:g,next_inspection_date:_,notes:v,sort:j}=(0,a.d4)((e=>e.stations)),y=t=>{const{name:n,value:a}=t.target,s=["supervisor_int","supervisor_ext","longitude","latitude","number_of_hive_boxes"];let r=s.includes(n)?Number(a):a;s.includes(n)&&!["longitude","latitude"].includes(n)&&r<1&&(r=1),e((0,i.$5)({name:n,value:r}))},A=t=>{const{name:n,value:a}=t.target,s=(0,r.h)(a.toISOString());e((0,i.sV)({name:n,date:s}))},b=[{name:"station_name",TextField:(0,c.jsx)(o.Cb,{name:"station_name",value:t,type:"name",handleChange:y})},{name:"supervisor_int",TextField:(0,c.jsx)(o.Cb,{name:"supervisor_int",value:n,type:"number",handleChange:y})},{name:"supervisor_ext",TextField:(0,c.jsx)(o.Cb,{name:"supervisor_ext",value:s,type:"number",handleChange:y})},{name:"location",TextField:(0,c.jsx)(o.Cb,{name:"location",value:l,type:"name",handleChange:y})},{name:"longitude",TextField:(0,c.jsx)(o.Cb,{name:"longitude",value:d,type:"number",handleChange:y})},{name:"latitude",TextField:(0,c.jsx)(o.Cb,{name:"latitude",value:u,type:"number",handleChange:y})},{name:"station_size",TextField:(0,c.jsx)(o.eu,{name:"station_size",value:m,type:"text",gender:["---","small","medium","large"],handleChange:y})},{name:"number_of_hive_boxes",TextField:(0,c.jsx)(o.Cb,{name:"number_of_hive_boxes",value:h,type:"number",handleChange:y})},{name:"status",TextField:(0,c.jsx)(o.eu,{name:"status",value:p,type:"text",gender:["---","active","inactive","terminated"],handleChange:y})},{name:"station_maintainace_history",TextField:(0,c.jsx)(o.ov,{name:"station_maintainace_history",value:x,type:"text",handleChange:y})},{name:"last_inspection_date",TextField:(0,c.jsx)(o.eC,{name:"last_inspection_date",value:g,onChange:A})},{name:"next_inspection_date",TextField:(0,c.jsx)(o.eC,{name:"next_inspection_date",value:_,onChange:A})},{name:"notes",TextField:(0,c.jsx)(o.ov,{name:"notes",value:v,type:"text",handleChange:y})},{name:"sort",TextField:(0,c.jsx)(o.eu,{name:"sort",value:j,type:"text",gender:["---","A-Z","Z-A","high-low","low-high"],handleChange:y})}],C=b.filter((e=>["station_name","location","station_size","status","supervisor_int","supervisor_ext","number_of_hive_boxes","sort"].includes(e.name)));return{station_details:b,searchStations:C}},u=()=>{const{tool_name:e,category:t,quantity:n,status:i,storage_location:l,supplier:d,purchase_date:u,purchase_cost:m,currency:h,last_maintanace_date:p,next_maintanace_date:x,retired:g,note:_,sort:v}=(0,a.d4)((e=>e.equipments)),j=(0,a.wA)(),y=e=>{const{name:t,value:n}=e.target,a=(0,r.h)(n.toISOString());j((0,s.ZJ)({name:t,date:a}))},A=e=>{const{name:t,value:n}=e.target,a=["quantity","purchase_cost"];let i=a.includes(t)?Number(n):n;a.includes(t)&&i<1&&(i=1),j((0,s.pM)({name:t,value:i}))},b=[{name:"tool_name",TextField:(0,c.jsx)(o.Cb,{name:"tool_name",value:e,type:"name",handleChange:A})},{name:"quantity",TextField:(0,c.jsx)(o.Cb,{name:"quantity",value:n,type:"number",handleChange:A})},{name:"purchase_cost",TextField:(0,c.jsx)(o.Cb,{name:"purchase_cost",value:m,type:"number",handleChange:A})},{name:"supplier",TextField:(0,c.jsx)(o.Cb,{name:"supplier",value:d,type:"name",handleChange:A})},{name:"currency",TextField:(0,c.jsx)(o.Cb,{name:"currency",value:h,type:"name",handleChange:A})},{name:"category",TextField:(0,c.jsx)(o.eu,{name:"category",value:t,type:"text",gender:["---","beekeping","carpentary","processing"],handleChange:A})},{name:"retired",TextField:(0,c.jsx)(o.eu,{name:"retired",value:g,type:"text",gender:["---","retired","not retired"],handleChange:A})},{name:"status",TextField:(0,c.jsx)(o.eu,{name:"status",value:i,type:"text",gender:["---","used","new","need repair"],handleChange:A})},{name:"storage_location",TextField:(0,c.jsx)(o.eu,{name:"storage_location",value:l,type:"text",gender:["---","warehouse","apiary site","factory"],handleChange:A})},{name:"purchase_date",TextField:(0,c.jsx)(o.eC,{name:"purchase_date",value:u,onChange:y})},{name:"last_maintanace_date",TextField:(0,c.jsx)(o.eC,{name:"last_maintanace_date",value:p,onChange:y})},{name:"next_maintanace_date",TextField:(0,c.jsx)(o.eC,{name:"next_maintanace_date",value:x,onChange:y})},{name:"note",TextField:(0,c.jsx)(o.ov,{name:"note",value:_,type:"text",handleChange:A})},{name:"sort",TextField:(0,c.jsx)(o.eu,{name:"sort",value:v,type:"text",gender:["---","high-purchase-cost","low-purchase-cost","A-Z","Z-A","recent","old"],handleChange:A})}],C=b.filter((e=>["tool_name","category","status","storage_location","supplier","currency","retired","quantity","purchase_cost","purchase_date","sort"].includes(e.name)));return{equipmentDetails:b,searchEquipments:C}},m=()=>{const{supply_name:e,category:t,quantity:n,status:i,storage_location:s,supplier:d,minimum_stock_level:u,purchase_date:m,purchase_cost:h,sort:p}=(0,a.d4)((e=>e.supplies)),x=(0,a.wA)(),g=e=>{const{name:t,value:n}=e.target,a=["quantity","purchase_cost"," minimum_stock_level"];let i=a.includes(t)?Number(n):n;a.includes(t)&&i<1&&(i=1),x((0,l.nc)({name:t,value:i}))},_=[{name:"supply_name",TextField:(0,c.jsx)(o.Cb,{name:"supply_name",value:e,type:"name",handleChange:g})},{name:"category",TextField:(0,c.jsx)(o.eu,{name:"category",value:t,type:"text",gender:["---","processing","packaging"],handleChange:g})},{name:"quantity",TextField:(0,c.jsx)(o.Cb,{name:"quantity",value:n,type:"number",handleChange:g})},{name:"status",TextField:(0,c.jsx)(o.eu,{name:"status",value:i,type:"text",gender:["---","used","new","need repair"],handleChange:g})},{name:"storage_location",TextField:(0,c.jsx)(o.eu,{name:"storage_location",value:s,type:"text",gender:["---","warehouse","factory"],handleChange:g})},{name:"supplier",TextField:(0,c.jsx)(o.Cb,{name:"supplier",value:d,type:"name",handleChange:g})},{name:"purchase_cost",TextField:(0,c.jsx)(o.Cb,{name:"purchase_cost",value:h,type:"number",handleChange:g})},{name:"purchase_date",TextField:(0,c.jsx)(o.eC,{name:"purchase_date",value:m,onChange:e=>{const{name:t,value:n}=e.target,a=(0,r.h)(n.toISOString());x((0,l.RT)({name:t,date:a}))}})},{name:"minimum_stock_level",TextField:(0,c.jsx)(o.Cb,{name:"minimum_stock_level",value:u,type:"number",handleChange:g})},{name:"sort",TextField:(0,c.jsx)(o.eu,{name:"sort",value:p,type:"text",gender:["---","high-low","low-high","high-stock","low-stock","recent","old"],handleChange:g})}],v=_.filter((e=>["supply_name","category","quantity","status","storage_location","supplier","purchase_cost","purchase_date"].includes(e.name)));return{suppliesDetails:_,searchSupplies:v}}},83740:(e,t,n)=>{n.r(t),n.d(t,{CreateUpdateEquipment:()=>R,default:()=>L});var a=n(68282),i=n(26298),s=n(58294),r=n(83648),o=n(25813),l=n(16789),c=n(59251),d=n(63945),u=n(35016),m=(n(12682),n(49779)),h=(n(85785),n(97950),n(47417),n(77183)),p=n(74503),x=(n(22562),n(38079)),g=n(28326);function _(e){let{info:t,children:n}=e;const[l,c]=(0,s.useState)("horizontal"),[d,u]=(0,s.useState)(0);(0,s.useEffect)((()=>{function e(){return window.innerWidth<p.A.values.sm?c("vertical"):c("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[l]);const{image:m="",station_name:_,location:v}=t;return(0,g.jsxs)(r.A,{position:"relative",mb:5,children:[(0,g.jsx)(r.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:n},palette:{gradients:a}}=e;return`${n(t(a.info.main,.6),t(a.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,g.jsxs)(i.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,g.jsxs)(a.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(a.Ay,{item:!0,children:(0,g.jsx)(h.A,{src:m,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,g.jsx)(a.Ay,{item:!0,children:(0,g.jsxs)(r.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,g.jsx)(o.A,{variant:"h5",fontWeight:"medium",children:_}),(0,g.jsx)(o.A,{variant:"button",color:"text",fontWeight:"regular",children:v})]})})]}),n]})]})}_.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};var v=n(56084),j=n(24009),y=n(79147),A=n(40068),b=n(15570),C=n(74996),f=(n(14149),n(76885)),q=n(21614),w=n(98460);function F(){const e=(0,v.wA)(),{deleteEquipment:t}=(0,q.po)(),{equipments:{equipment:n=[],totalEquipments:a=0,count:i=0,numOfPages:s=0,categoryCount:l=[],statusCount:c=[],storageLocationCount:d=[]}={},refetch:u,isGettingAllequipments:m}=(0,q.ZQ)(),p=e=>{let{image:t,name:n,retired:a,tool_id:i}=e;return(0,g.jsxs)(r.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,g.jsx)(h.A,{src:t,name:n,size:"sm"}),(0,g.jsxs)(r.A,{ml:2,lineHeight:1,children:[(0,g.jsx)(o.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,g.jsx)(j.N_,{to:"#",children:`${i} ${n}`})}),(0,g.jsx)(o.A,{variant:"caption",children:a})]})]})},x=e=>{let{title:t,description:n}=e;return(0,g.jsxs)(r.A,{lineHeight:1,textAlign:"left",children:[(0,g.jsx)(o.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(j.N_,{to:"#",children:`${t}`})}),(0,g.jsx)(o.A,{variant:"caption",children:(0,g.jsx)(j.N_,{to:"#",children:`quantity: ${n}`})})]})},_=e=>{let{title:t,description:n}=e;return(0,g.jsxs)(r.A,{lineHeight:1,textAlign:"left",children:[(0,g.jsx)(o.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:t}),(0,g.jsx)(o.A,{variant:"caption",children:n})]})};return{columns:[{Header:"equipment",accessor:"equipment",width:"45%",align:"left"},{Header:"details",accessor:"details",align:"left"},{Header:"status",accessor:"status",align:"center"},{Header:"location",accessor:"location",align:"center"},{Header:"supplier",accessor:"supplier",align:"center"},{Header:"acquired",accessor:"acquired",align:"center"},{Header:"maintenance",accessor:"maintenance",align:"center"},{Header:"note",accessor:"note",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:n.map(((n,a)=>{const{tool_id:i,tool_name:s,category:l,quantity:c,status:d,storage_location:u,supplier:m,purchase_date:h,purchase_cost:v,currency:y,last_maintanace_date:A,next_maintanace_date:b,retired:q,note:F}=n,T={tool_id:i,tool_name:s,category:l,quantity:c,status:d,storage_location:u,supplier:m,purchase_date:h,purchase_cost:v,currency:y,last_maintanace_date:A,next_maintanace_date:b,retired:q,note:F};return{equipment:(0,g.jsx)(p,{image:C.A,name:s,retired:q,tool_id:i}),detail:(0,g.jsx)(x,{title:l,description:c}),status:(0,g.jsx)(r.A,{ml:-1,children:(0,g.jsx)(f.A,{badgeContent:d,color:"new"===d?"success":"used"===d?"warning":"error",variant:"gradient",size:"sm"})}),location:(0,g.jsx)(r.A,{ml:-1,children:(0,g.jsx)(f.A,{badgeContent:u,color:"warehouse"===u?"success":"factory"===u?"error":"warning",variant:"gradient",size:"sm"})}),supplier:(0,g.jsx)(o.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:m}),acquired:(0,g.jsx)(_,{title:`Cost: ${v?Number(v).toFixed(2):"N/A"} ${y||""}`,description:`Purchased on: ${h||"N/A"}`}),maintenance:(0,g.jsx)(_,{title:`Last maintenance: ${A||"N/A"}`,description:`Next maintenance: ${b||"N/A"}`}),note:(0,g.jsx)(o.A,{title:F,component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:F.length>20?`${F.slice(0,20)}...`:F}),update:(0,g.jsx)(o.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(j.N_,{onClick:()=>{e((0,w.az)(T))},to:`/createupdateequipment/${i}`,children:"Edit"})}),remove:(0,g.jsx)(o.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(j.N_,{onClick:()=>{window.confirm("You are about to Delete an an equipment records permanently, ARE YOU SURE?")&&t(i)},children:"Remove"})})}})),numOfPages:s,count:i,refetch:u,totalEquipments:a,categoryCount:l,statusCount:c,storageLocationCount:d,isGettingAllequipments:m}}var T=n(40447),k=n(35981),N=n(48781),S=n(18509),E=n(64977),z=n(29136),H=n(1489),$=n(17633);const W={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function O(e){let{isGettingAllequipments:t}=e;const[n,a]=s.useState(!1),i=()=>a(!1);return(0,g.jsxs)("div",{className:$.A.wrapper,children:[(0,g.jsx)("div",{children:(0,g.jsx)(H.A,{fontSize:"medium",onClick:()=>a(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,g.jsx)(N.A,{open:n,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsxs)(T.A,{sx:{...W,background:"white"},className:$.A.box,children:[(0,g.jsxs)(k.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Equipments ",(0,g.jsx)(S.A,{style:{cursor:"pointer"},onClick:i})]}),(0,g.jsx)("p",{children:"which equipment are you looking for?"}),(0,g.jsx)(P,{handleClose:i,isGettingAllequipments:t})]})})]})}const P=e=>{let{handleClose:t,isGettingAllequipments:n}=e;const{searchEquipments:a}=(0,z.ZQ)(),i=(0,v.wA)();return(0,g.jsxs)("form",{className:$.A.paper,children:[a.map((e=>{const{name:t,TextField:n}=e;return(0,g.jsx)("div",{children:n},t)})),(0,g.jsx)(E.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{i((0,w.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,g.jsx)(E.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===n?(0,g.jsx)(A.du,{color:"success"}):"Find Out"})]})};var Z=n(82392),G=n(39053),D=n(77846),I=n(7579);const L=function(){const e=(0,v.wA)(),{columns:t,rows:n,numOfPages:m,count:h,refetch:p,totalEquipments:x,categoryCount:_,statusCount:y,storageLocationCount:A,isGettingAllequipments:C}=F(),{pages:f,tool_name:q,supplier:T,currency:k,status:N,storage_location:S,retired:E,category:z,quantity:H,purchase_cost:$,purchase_date:W,sort:P}=(0,v.d4)((e=>e.equipments));return s.useEffect((()=>{p()}),[f,q,T,k,N,S,E,z,H,$,W,P]),(0,g.jsxs)(l.A,{children:[(0,g.jsx)(c.A,{}),(0,g.jsx)(r.A,{pt:6,pb:3,children:(0,g.jsx)(a.Ay,{container:!0,spacing:6,children:(0,g.jsxs)(a.Ay,{item:!0,xs:12,children:[(0,g.jsxs)(i.A,{children:[(0,g.jsx)(r.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,g.jsxs)(o.A,{className:Z.A.wrapper,variant:"h6",color:"white",children:[(0,g.jsxs)(r.A,{className:Z.A.inner,children:[(0,g.jsx)(o.A,{color:"white",children:"Equipments"}),(0,g.jsxs)(o.A,{color:"white",children:[h,"/",x]})]}),(0,g.jsxs)(r.A,{className:Z.A.inner,children:[(0,g.jsx)(j.N_,{onClick:()=>e((0,w.sy)()),to:"/createupdateequipment/add",children:(0,g.jsx)(D.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new equipment"})}),(0,g.jsx)(O,{isGettingAllequipments:C})]})]})}),(0,g.jsx)(r.A,{pt:3,children:(0,g.jsx)(u.A,{table:{columns:t,rows:n},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,g.jsx)(b.A,{pageDetails:{handleChange:(t,n)=>{t.preventDefault(),e((0,w.yd)(n))},numOfPages:m,pages:f}})]})})}),(0,g.jsx)(d.A,{})]})},R=()=>{(0,v.wA)();const{id:e}=(0,m.g)(),{equipmentDetails:t}=(0,z.ZQ)(),{isCreatingEquipment:n,createEquipment:i}=(0,q.hN)(),{isUpdatingEquipment:s,updateEquipment:o}=(0,q.vq)(),{isEdit:u,tool_name:h,category:p,quantity:x,status:_,storage_location:b,supplier:C,purchase_date:f,purchase_cost:w,currency:F,last_maintanace_date:T,next_maintanace_date:k,retired:N,note:S}=(0,v.d4)((e=>e.equipments)),E={tool_name:h,category:p,quantity:x,status:_,storage_location:b,supplier:C,purchase_date:f,purchase_cost:w,currency:F,note:S},H={tool_name:h,category:p,quantity:x,status:_,storage_location:b,supplier:C,purchase_date:f,purchase_cost:w,currency:F,last_maintanace_date:T,next_maintanace_date:k,retired:N,note:S};return(0,g.jsxs)(l.A,{children:[(0,g.jsx)(c.A,{}),(0,g.jsx)(r.A,{mt:5,mb:3,children:(0,g.jsx)(a.Ay,{className:G.A.wrapper,container:!0,spacing:1,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(j.N_,{to:"/equipments",children:(0,g.jsx)(I.A,{})}),(0,g.jsx)("h6",{children:u?`Update  ${h}'s details`:"Create a new equipment"}),(0,g.jsx)("div",{})]}),(0,g.jsxs)("form",{className:G.A.form,onSubmit:t=>{t.preventDefault();const n=u?H:E;if(Object.values(n).every((e=>void 0!==e&&null!==e&&""!==e)))return u?o({equipmentdetailsOnEdit:H,id:e}):void i(E);alert("Please fill out all required fields,especially the dates field if available.")},children:[t.filter((e=>!("sort"===e.name||!(u||"retired"!==e.name&&"last_maintanace_date"!==e.name&&"next_maintanace_date"!==e.name)))).map((e=>{const{name:t,TextField:n}=e;return(0,g.jsx)("div",{children:n},t)})),(0,g.jsx)(y.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===n||"pending"===s?(0,g.jsx)(A.du,{}):u?"Update":"Submit"})]})]})})}),(0,g.jsx)(d.A,{})]})}},77846:(e,t,n)=>{var a=n(5855);t.A=void 0;var i=a(n(93496)),s=n(28326),r=(0,i.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.A=r}}]);
//# sourceMappingURL=740.56af7554.chunk.js.map
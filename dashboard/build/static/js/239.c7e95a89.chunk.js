"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[239],{29136:(e,t,a)=>{a.d(t,{LB:()=>h,ZQ:()=>p,gS:()=>m,gs:()=>d});var n=a(56084),s=a(41437),i=a(98460),l=a(70545),r=a(93919),o=a(99762),u=a(49156),c=a(28326);const d=()=>{const e=(0,n.wA)(),{station_name:t,supervisor_int:a,supervisor_ext:i,location:o,longitude:u,latitude:d,station_size:p,number_of_hive_boxes:m,status:h,station_maintainace_history:x,last_inspection_date:g,next_inspection_date:_,notes:y,sort:v}=(0,n.d4)((e=>e.stations)),j=t=>{const{name:a,value:n}=t.target,i=["supervisor_int","supervisor_ext","longitude","latitude","number_of_hive_boxes"];let l=i.includes(a)?Number(n):n;i.includes(a)&&!["longitude","latitude"].includes(a)&&l<1&&(l=1),e((0,s.$5)({name:a,value:l}))},C=t=>{const{name:a,value:n}=t.target,i=(0,l.h)(n.toISOString());e((0,s.sV)({name:a,date:i}))},b=[{name:"station_name",TextField:(0,c.jsx)(r.Cb,{name:"station_name",value:t,type:"name",handleChange:j})},{name:"supervisor_int",TextField:(0,c.jsx)(r.Cb,{name:"supervisor_int",value:a,type:"number",handleChange:j})},{name:"supervisor_ext",TextField:(0,c.jsx)(r.Cb,{name:"supervisor_ext",value:i,type:"number",handleChange:j})},{name:"location",TextField:(0,c.jsx)(r.Cb,{name:"location",value:o,type:"name",handleChange:j})},{name:"longitude",TextField:(0,c.jsx)(r.Cb,{name:"longitude",value:u,type:"number",handleChange:j})},{name:"latitude",TextField:(0,c.jsx)(r.Cb,{name:"latitude",value:d,type:"number",handleChange:j})},{name:"station_size",TextField:(0,c.jsx)(r.eu,{name:"station_size",value:p,type:"text",gender:["---","small","medium","large"],handleChange:j})},{name:"number_of_hive_boxes",TextField:(0,c.jsx)(r.Cb,{name:"number_of_hive_boxes",value:m,type:"number",handleChange:j})},{name:"status",TextField:(0,c.jsx)(r.eu,{name:"status",value:h,type:"text",gender:["---","active","inactive","terminated"],handleChange:j})},{name:"station_maintainace_history",TextField:(0,c.jsx)(r.ov,{name:"station_maintainace_history",value:x,type:"text",handleChange:j})},{name:"last_inspection_date",TextField:(0,c.jsx)(r.eC,{name:"last_inspection_date",value:g,onChange:C})},{name:"next_inspection_date",TextField:(0,c.jsx)(r.eC,{name:"next_inspection_date",value:_,onChange:C})},{name:"notes",TextField:(0,c.jsx)(r.ov,{name:"notes",value:y,type:"text",handleChange:j})},{name:"sort",TextField:(0,c.jsx)(r.eu,{name:"sort",value:v,type:"text",gender:["---","A-Z","Z-A","high-low","low-high"],handleChange:j})}],A=b.filter((e=>["station_name","location","station_size","status","supervisor_int","supervisor_ext","number_of_hive_boxes","sort"].includes(e.name)));return{station_details:b,searchStations:A}},p=()=>{const{tool_name:e,category:t,quantity:a,status:s,storage_location:o,supplier:u,purchase_date:d,purchase_cost:p,currency:m,last_maintanace_date:h,next_maintanace_date:x,retired:g,note:_,sort:y}=(0,n.d4)((e=>e.equipments)),v=(0,n.wA)(),j=e=>{const{name:t,value:a}=e.target,n=(0,l.h)(a.toISOString());v((0,i.ZJ)({name:t,date:n}))},C=e=>{const{name:t,value:a}=e.target,n=["quantity","purchase_cost"];let s=n.includes(t)?Number(a):a;n.includes(t)&&s<1&&(s=1),v((0,i.pM)({name:t,value:s}))},b=[{name:"tool_name",TextField:(0,c.jsx)(r.Cb,{name:"tool_name",value:e,type:"name",handleChange:C})},{name:"quantity",TextField:(0,c.jsx)(r.Cb,{name:"quantity",value:a,type:"number",handleChange:C})},{name:"purchase_cost",TextField:(0,c.jsx)(r.Cb,{name:"purchase_cost",value:p,type:"number",handleChange:C})},{name:"supplier",TextField:(0,c.jsx)(r.Cb,{name:"supplier",value:u,type:"name",handleChange:C})},{name:"currency",TextField:(0,c.jsx)(r.Cb,{name:"currency",value:m,type:"name",handleChange:C})},{name:"category",TextField:(0,c.jsx)(r.eu,{name:"category",value:t,type:"text",gender:["---","beekeping","carpentary","processing"],handleChange:C})},{name:"retired",TextField:(0,c.jsx)(r.eu,{name:"retired",value:g,type:"text",gender:["---","retired","not retired"],handleChange:C})},{name:"status",TextField:(0,c.jsx)(r.eu,{name:"status",value:s,type:"text",gender:["---","used","new","need repair"],handleChange:C})},{name:"storage_location",TextField:(0,c.jsx)(r.eu,{name:"storage_location",value:o,type:"text",gender:["---","warehouse","apiary site","factory"],handleChange:C})},{name:"purchase_date",TextField:(0,c.jsx)(r.eC,{name:"purchase_date",value:d,onChange:j})},{name:"last_maintanace_date",TextField:(0,c.jsx)(r.eC,{name:"last_maintanace_date",value:h,onChange:j})},{name:"next_maintanace_date",TextField:(0,c.jsx)(r.eC,{name:"next_maintanace_date",value:x,onChange:j})},{name:"note",TextField:(0,c.jsx)(r.ov,{name:"note",value:_,type:"text",handleChange:C})},{name:"sort",TextField:(0,c.jsx)(r.eu,{name:"sort",value:y,type:"text",gender:["---","high-purchase-cost","low-purchase-cost","A-Z","Z-A","recent","old"],handleChange:C})}],A=b.filter((e=>["tool_name","category","status","storage_location","supplier","currency","retired","quantity","purchase_cost","purchase_date","sort"].includes(e.name)));return{equipmentDetails:b,searchEquipments:A}},m=()=>{const{supply_name:e,category:t,quantity:a,status:s,storage_location:i,supplier:u,minimum_stock_level:d,purchase_date:p,purchase_cost:m,sort:h}=(0,n.d4)((e=>e.supplies)),x=(0,n.wA)(),g=e=>{const{name:t,value:a}=e.target,n=["quantity","purchase_cost"," minimum_stock_level"];let s=n.includes(t)?Number(a):a;n.includes(t)&&s<1&&(s=1),x((0,o.nc)({name:t,value:s}))},_=[{name:"supply_name",TextField:(0,c.jsx)(r.Cb,{name:"supply_name",value:e,type:"name",handleChange:g})},{name:"category",TextField:(0,c.jsx)(r.eu,{name:"category",value:t,type:"text",gender:["---","processing","packaging"],handleChange:g})},{name:"quantity",TextField:(0,c.jsx)(r.Cb,{name:"quantity",value:a,type:"number",handleChange:g})},{name:"status",TextField:(0,c.jsx)(r.eu,{name:"status",value:s,type:"text",gender:["---","used","new","need repair"],handleChange:g})},{name:"storage_location",TextField:(0,c.jsx)(r.eu,{name:"storage_location",value:i,type:"text",gender:["---","warehouse","factory"],handleChange:g})},{name:"supplier",TextField:(0,c.jsx)(r.Cb,{name:"supplier",value:u,type:"name",handleChange:g})},{name:"purchase_cost",TextField:(0,c.jsx)(r.Cb,{name:"purchase_cost",value:m,type:"number",handleChange:g})},{name:"purchase_date",TextField:(0,c.jsx)(r.eC,{name:"purchase_date",value:p,onChange:e=>{const{name:t,value:a}=e.target,n=(0,l.h)(a.toISOString());x((0,o.RT)({name:t,date:n}))}})},{name:"minimum_stock_level",TextField:(0,c.jsx)(r.Cb,{name:"minimum_stock_level",value:d,type:"number",handleChange:g})},{name:"sort",TextField:(0,c.jsx)(r.eu,{name:"sort",value:h,type:"text",gender:["---","high-low","low-high","high-stock","low-stock","recent","old"],handleChange:g})}],y=_.filter((e=>["supply_name","category","quantity","status","storage_location","supplier","purchase_cost","purchase_date"].includes(e.name)));return{suppliesDetails:_,searchSupplies:y}},h=()=>{const{sort:e,product_name:t,product_type:a,description:s,quantity:i,total_in_stock:o,unit:d,harvest_year:p,packaging_type:m,price:h,priceRangePP:x}=(0,n.d4)((e=>e.products)),g=(0,n.wA)(),_=e=>{const{name:t,value:a}=e.target,n=["quantity","price","total_in_stock"];let s=n.includes(t)?Number(a):a;n.includes(t)&&s<1&&(s=1),g((0,u.dF)({name:t,value:s}))};return{productDetails:[{name:"product_name",TextField:(0,c.jsx)(r.Cb,{name:"product_name",value:t,type:"name",handleChange:_})},{name:"product_type",TextField:(0,c.jsx)(r.eu,{name:"product_type",value:a,type:"text",gender:["---","honey","wax","propolis","royal jelly","venom"],handleChange:_})},{name:"description",TextField:(0,c.jsx)(r.ov,{name:"description",value:s,type:"text",handleChange:_})},{name:"quantity",TextField:(0,c.jsx)(r.Cb,{name:"quantity",value:i,type:"number",handleChange:_})},{name:"total_in_stock",TextField:(0,c.jsx)(r.Cb,{name:"total_in_stock",value:o,type:"number",handleChange:_})},{name:"unit",TextField:(0,c.jsx)(r.Cb,{name:"unit",value:d,type:"name",handleChange:_})},{name:"harvest_year",TextField:(0,c.jsx)(r.eC,{name:"harvest_year",value:p,onChange:e=>{const{name:t,value:a}=e.target,n=(0,l.h)(a.toISOString());g((0,u.bQ)({name:t,date:n}))}})},{name:"packaging_type",TextField:(0,c.jsx)(r.Cb,{name:"packaging_type",value:m,type:"name",handleChange:_})},{name:"price",TextField:(0,c.jsx)(r.Cb,{name:"price",value:h,type:"number",handleChange:_})},{name:"priceRangePP",TextField:(0,c.jsx)(r.F1,{name:"priceRangePP",value:x,min:1e3,max:1e5,step:2e3})},{name:"sort",TextField:(0,c.jsx)(r.eu,{name:"sort",value:e,type:"text",gender:["---","high-low","low-high","high-rating","low-rating","high-review","low-review","high-sell","low-sell"],handleChange:_})}]}}},25239:(e,t,a)=>{a.r(t),a.d(t,{CreateUpdateSupply:()=>L,default:()=>I});var n=a(68282),s=a(26298),i=a(58294),l=a(83648),r=a(25813),o=a(16789),u=a(59251),c=a(63945),d=a(35016),p=(a(12682),a(49779)),m=(a(85785),a(97950),a(47417),a(77183)),h=a(74503),x=(a(22562),a(38079)),g=a(28326);function _(e){let{info:t,children:a}=e;const[o,u]=(0,i.useState)("horizontal"),[c,d]=(0,i.useState)(0);(0,i.useEffect)((()=>{function e(){return window.innerWidth<h.A.values.sm?u("vertical"):u("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[o]);const{image:p="",station_name:_,location:y}=t;return(0,g.jsxs)(l.A,{position:"relative",mb:5,children:[(0,g.jsx)(l.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:a},palette:{gradients:n}}=e;return`${a(t(n.info.main,.6),t(n.info.state,.6))}, url(${x})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,g.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,g.jsxs)(n.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsx)(m.A,{src:p,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,g.jsx)(n.Ay,{item:!0,children:(0,g.jsxs)(l.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,g.jsx)(r.A,{variant:"h5",fontWeight:"medium",children:_}),(0,g.jsx)(r.A,{variant:"button",color:"text",fontWeight:"regular",children:y})]})})]}),a]})]})}_.defaultProps={info:{image:"",station_name:"First Name",location:"Last Name"},children:null};var y=a(56084),v=a(24009),j=a(93919),C=a(40068),b=a(15570),A=a(74996),f=(a(14149),a(76885)),w=a(34100),F=a(99762);function T(){const e=(0,y.wA)(),{deleteSupply:t,isCreatingSupply:a}=(0,w.S4)(),{isGettingAllSupplies:n,supplies:{totalSUpplies:s,count:i,numOfPages:o,categoryCount:u=[],statusCount:c=[],storageLocationCount:d=[],supply:p=[]}={},refetch:h}=(0,w.bc)(),x=e=>{let{image:t,name:a,min_stock:n,supply_id:s}=e;return(0,g.jsxs)(l.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,g.jsx)(m.A,{src:t,name:a,size:"sm"}),(0,g.jsxs)(l.A,{ml:2,lineHeight:1,children:[(0,g.jsx)(r.A,{display:"block",variant:"button",fontWeight:"medium",children:(0,g.jsx)(v.N_,{to:"#",children:`${s} ${a}`})}),(0,g.jsxs)(r.A,{variant:"caption",children:["min stock: ",n]})]})]})},_=e=>{let{title:t,description:a}=e;return(0,g.jsxs)(l.A,{lineHeight:1,textAlign:"left",children:[(0,g.jsx)(r.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(v.N_,{to:"#",children:`${t}`})}),(0,g.jsx)(r.A,{variant:"caption",children:(0,g.jsx)(v.N_,{to:"#",children:`quantity: ${a}`})})]})},j=e=>{let{title:t,description:a}=e;return(0,g.jsxs)(l.A,{lineHeight:1,textAlign:"left",children:[(0,g.jsx)(r.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:t}),(0,g.jsx)(r.A,{variant:"caption",children:a})]})};return{columns:[{Header:"supplies",accessor:"supplies",width:"45%",align:"left"},{Header:"detail",accessor:"detail",align:"left"},{Header:"status",accessor:"status",align:"center"},{Header:"location",accessor:"location",align:"center"},{Header:"supplier",accessor:"supplier",align:"center"},{Header:"acquired",accessor:"acquired",align:"center"},{Header:"update",accessor:"update",align:"center"},{Header:"remove",accessor:"remove",align:"center"}],rows:p.map(((a,n)=>{const{supply_id:s,supply_name:i,category:o,quantity:u,status:c,storage_location:d,supplier:p,minimum_stock_level:m,purchase_date:h,purchase_cost:y}=a,C={supply_id:s,supply_name:i,category:o,quantity:u,status:c,storage_location:d,supplier:p,minimum_stock_level:m,purchase_date:h,purchase_cost:y};return{supplies:(0,g.jsx)(x,{image:A.A,name:i,min_stock:m,supply_id:s}),detail:(0,g.jsx)(_,{title:o,description:u}),status:(0,g.jsx)(l.A,{ml:-1,children:(0,g.jsx)(f.A,{badgeContent:c,color:"new"===c?"success":"used"===c?"warning":"error",variant:"gradient",size:"sm"})}),location:(0,g.jsx)(l.A,{ml:-1,children:(0,g.jsx)(f.A,{badgeContent:d,color:"warehouse"===d?"success":"factory"===d?"error":"warning",variant:"gradient",size:"sm"})}),supplier:(0,g.jsx)(r.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:p}),acquired:(0,g.jsx)(j,{title:`Cost: ${y?Number(y).toFixed(2):"N/A"}`,description:`Purchased on: ${h||"N/A"} naira`}),update:(0,g.jsx)(r.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(v.N_,{onClick:()=>{e((0,F.tY)(C))},to:`/createupdatesupply/${s}`,children:"Edit"})}),remove:(0,g.jsx)(r.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,g.jsx)(v.N_,{onClick:()=>{window.confirm("You are about to Delete an a supply records permanently, ARE YOU SURE?")&&t(s)},children:"Remove"})})}})),numOfPages:o,count:i,refetch:h,isGettingAllSupplies:n,totalSUpplies:s,categoryCount:u,statusCount:c,storageLocationCount:d}}var S=a(40447),k=a(35981),q=a(48781),N=a(1489),z=a(17633),P=a(18509),H=a(64977),E=a(29136);const O={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function W(e){let{isGettingSingleSupply:t}=e;const[a,n]=i.useState(!1),s=()=>n(!1);return(0,g.jsxs)("div",{className:z.A.wrapper,children:[(0,g.jsx)("div",{children:(0,g.jsx)(N.A,{fontSize:"medium",onClick:()=>n(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,g.jsx)(q.A,{open:a,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsxs)(S.A,{sx:{...O,background:"white"},className:z.A.box,children:[(0,g.jsxs)(k.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search Supplies ",(0,g.jsx)(P.A,{style:{cursor:"pointer"},onClick:s})]}),(0,g.jsx)("p",{children:"which supply are you looking for?"}),(0,g.jsx)($,{handleClose:s,isGettingSingleSupply:t})]})})]})}const $=e=>{let{handleClose:t,isGettingSingleSupply:a}=e;const{suppliesDetails:n}=(0,E.gS)(),s=(0,y.wA)();return(0,g.jsxs)("form",{className:z.A.paper,children:[n.map((e=>{const{name:t,TextField:a}=e;return(0,g.jsx)("div",{children:a},t)})),(0,g.jsx)(H.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{s((0,F.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,g.jsx)(H.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===a?(0,g.jsx)(C.du,{color:"success"}):"Find Out"})]})};var D=a(82392),R=a(39053),U=a(77846),G=a(7579);const I=function(){const e=(0,y.wA)(),{columns:t,rows:a,numOfPages:p,count:m,refetch:h,isGettingAllSupplies:x,totalSUpplies:_,categoryCount:j,statusCount:C,storageLocationCount:A}=T(),{pages:f,supply_name:w,category:S,quantity:k,status:q,storage_location:N,supplier:z,minimum_stock_level:P,purchase_date:H,purchase_cost:E,sort:O}=(0,y.d4)((e=>e.supplies));return i.useEffect((()=>{h()}),[f,w,S,k,q,N,z,P,H,E,O]),(0,g.jsxs)(o.A,{children:[(0,g.jsx)(u.A,{}),(0,g.jsx)(l.A,{pt:6,pb:3,children:(0,g.jsx)(n.Ay,{container:!0,spacing:6,children:(0,g.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,g.jsxs)(s.A,{children:[(0,g.jsx)(l.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,g.jsxs)(r.A,{className:D.A.wrapper,variant:"h6",color:"white",children:[(0,g.jsxs)(l.A,{className:D.A.inner,children:[(0,g.jsx)(r.A,{color:"white",children:"Supplies"}),(0,g.jsxs)(r.A,{color:"white",children:[m,"/",_]})]}),(0,g.jsxs)(l.A,{className:D.A.inner,children:[(0,g.jsx)(v.N_,{onClick:()=>e((0,F.sy)()),to:"/createupdatesupply/add",children:(0,g.jsx)(U.A,{sx:{fill:"white"},fontSize:"medium",titleAccess:"add a new supply"})}),(0,g.jsx)(W,{isGettingAllSupplies:x})]})]})}),(0,g.jsx)(l.A,{pt:3,children:(0,g.jsx)(d.A,{table:{columns:t,rows:a},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,g.jsx)(b.A,{pageDetails:{handleChange:(t,a)=>{t.preventDefault(),e((0,F.yd)(a))},numOfPages:p,pages:f}})]})})}),(0,g.jsx)(c.A,{})]})},L=()=>{const{suppliesDetails:e}=(0,E.gS)(),{createSupply:t,isCreatingSupply:a}=(0,w.Hm)(),{updateSupply:s,isUpdatingSupply:i}=(0,w.m9)(),{id:r}=(0,p.g)(),{isEdit:d,supply_name:m,category:h,quantity:x,status:_,storage_location:b,supplier:A,minimum_stock_level:f,purchase_date:F,purchase_cost:T}=(0,y.d4)((e=>e.supplies)),S={supply_name:m,category:h,quantity:x,status:_,storage_location:b,supplier:A,minimum_stock_level:f,purchase_date:F,purchase_cost:T};return(0,g.jsxs)(o.A,{children:[(0,g.jsx)(u.A,{}),(0,g.jsx)(l.A,{mt:5,mb:3,children:(0,g.jsx)(n.Ay,{className:R.A.wrapper,container:!0,spacing:1,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(v.N_,{to:"/supplies",children:(0,g.jsx)(G.A,{})}),(0,g.jsx)("h6",{children:d?`Update  ${m}'s details`:"Create a new supply"}),(0,g.jsx)("div",{})]}),(0,g.jsxs)("form",{className:R.A.form,onSubmit:e=>{e.preventDefault();if(Object.values(S).every((e=>void 0!==e&&null!==e&&""!==e)))return d?s({supplyDetails:S,id:r}):void t(S);alert("Please fill out all required fields, especially the dates field if available.")},children:[e.filter((e=>"sort"!==e.name)).map((e=>{const{name:t,TextField:a}=e;return(0,g.jsx)("div",{children:a},t)})),(0,g.jsx)(j.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===a||"pending"===i?(0,g.jsx)(C.du,{}):d?"Update":"Submit"})]})]})})}),(0,g.jsx)(c.A,{})]})}}}]);
//# sourceMappingURL=239.c7e95a89.chunk.js.map
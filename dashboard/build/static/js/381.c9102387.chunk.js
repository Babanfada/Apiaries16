"use strict";(self.webpackChunkapiaries_16_dashboard=self.webpackChunkapiaries_16_dashboard||[]).push([[381],{25381:(e,t,r)=>{r.r(t),r.d(t,{UpdateOrder:()=>q,default:()=>L});var i=r(68282),s=r(26298),n=r(58294),a=r(83648),d=r(25813),o=r(16789),l=r(59251),c=r(63945),h=r(35016),x=(r(12682),r(49779)),u=(r(85785),r(97950),r(47417),r(57653)),p=r(77183),m=r(74503),g=(r(22562),r(38079)),j=(r(73305),r(93919)),A=r(28326);function f(e){let{info:t,children:r}=e;const[o,l]=(0,n.useState)("horizontal"),[c,h]=(0,n.useState)(0);(0,n.useEffect)((()=>{function e(){return window.innerWidth<m.A.values.sm?l("vertical"):l("horizontal")}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[o]);const{image:x="",product_name:j,price:f,colorArray:v,imageArray:y,id:b}=t,[w,k,_]=v,[S,O,C]=y;return(0,A.jsxs)(a.A,{position:"relative",mb:5,children:[(0,A.jsx)(a.A,{display:"flex",alignItems:"center",position:"relative",minHeight:"18.75rem",borderRadius:"xl",sx:{backgroundImage:e=>{let{functions:{rgba:t,linearGradient:r},palette:{gradients:i}}=e;return`${r(t(i.info.main,.6),t(i.info.state,.6))}, url(${g})`},backgroundSize:"cover",backgroundPosition:"50%",overflow:"hidden"}}),(0,A.jsxs)(s.A,{sx:{position:"relative",mt:-8,mx:3,py:2,px:2},children:[(0,A.jsxs)(i.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,A.jsx)(i.Ay,{item:!0,children:(0,A.jsx)(p.A,{src:x,alt:"profile-image",size:"xl",shadow:"sm"})}),(0,A.jsx)(i.Ay,{item:!0,children:(0,A.jsxs)(a.A,{height:"100%",mt:.5,lineHeight:1,children:[(0,A.jsx)(d.A,{variant:"h5",fontWeight:"medium",children:j}),(0,A.jsx)(d.A,{variant:"button",color:"text",fontWeight:"regular",children:f})]})}),(0,A.jsxs)(i.Ay,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:[(0,A.jsx)(u.A,{position:"static",children:(0,A.jsxs)("div",{style:{display:"flex"},children:[(0,A.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:w,marginRight:"5px",borderRadius:"50%"}}),(0,A.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:k,marginRight:"5px",borderRadius:"50%"}}),(0,A.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:_,marginRight:"5px",borderRadius:"50%"}})]})}),(0,A.jsxs)("div",{style:{display:"flex"},children:[(0,A.jsx)(p.A,{src:O,alt:"profile-image",size:"md",shadow:"sm"}),(0,A.jsx)(p.A,{src:C,alt:"profile-image",size:"md",shadow:"sm"})]})]})]}),r]})]})}f.defaultProps={info:{image:"",product_name:"product Name",price:"price"},children:null};var v=r(56084),y=r(24009),b=r(40068),w=r(15570),k=(r(74996),r(14149),r(82392)),_=r(39053),S=r(7579),O=r(76885),C=r(96338),$=r(33736),H=r(96654);function W(){const e=(0,v.wA)(),{isGettingAllOrders:t,data:{orders:r=[],totalOrders:i=0,count:s=0,numOfPages:n=1},refetch:o}=(0,$.h)(),l=e=>{let{image:t,order_id:r,user_id:i}=e;return(0,A.jsxs)(a.A,{display:"flex",alignItems:"center",lineHeight:1,children:[(0,A.jsx)(p.A,{src:t,size:"sm"}),(0,A.jsxs)(a.A,{ml:2,lineHeight:1,children:[(0,A.jsx)(d.A,{display:"block",variant:"button",fontWeight:"medium",children:`order ${r} `}),(0,A.jsxs)(d.A,{variant:"caption",children:["user ",i]})]})]})},c=e=>{let{title:t,description:r}=e;return(0,A.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,A.jsx)(d.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`tax: ${t}`}),(0,A.jsx)(d.A,{variant:"caption",children:`shipping Fee: ${r}`})]})},h=e=>{let{title:t,description:r}=e;return(0,A.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,A.jsx)(d.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`total: ${t}`}),(0,A.jsx)(d.A,{variant:"caption",children:`sub total: ${r}`})]})},x=e=>{let{title:t,description:r}=e;return(0,A.jsxs)(a.A,{lineHeight:1,textAlign:"left",children:[(0,A.jsx)(d.A,{display:"block",variant:"caption",color:"text",fontWeight:"medium",children:`tx_ref: ${t}`}),(0,A.jsx)(d.A,{variant:"caption",children:`tex_id: ${r}`})]})};return{columns:[{Header:"orders",accessor:"orders",width:"45%",align:"left"},{Header:"details",accessor:"details",align:"left"},{Header:"cost",accessor:"cost",align:"center"},{Header:"transactions",accessor:"transactions",align:"center"},{Header:"payment",accessor:"payment",align:"center"},{Header:"delivery",accessor:"delivery",align:"center"},{Header:"items",accessor:"items",align:"center"},{Header:"address",accessor:"address",align:"center"},{Header:"update",accessor:"update",align:"center"}],rows:r.map(((t,r)=>{const{order_id:i,user_id:s,tax:n,shippingFee:o,subTotal:u,total:p,paymentStatus:m,deliveryStatus:g,tx_ref:j,transaction_id:f,order_items:v,delivery_address:{phone:b,city:w,state:k,country:_,street:S}}=t,$=`${S},${w},${k},${_}. telephone: ${b}`,W={paymentStatus:m,deliveryStatus:g};return{orders:(0,A.jsxs)(y.N_,{to:`/orders/${i}`,children:[(0,A.jsx)(l,{image:C.A,order_id:i,user_id:s}),","]}),details:(0,A.jsx)(c,{title:n,description:o}),cost:(0,A.jsx)(h,{title:p,description:u}),transactions:(0,A.jsx)(x,{title:j,description:f}),payment:(0,A.jsx)(d.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:(0,A.jsx)(a.A,{ml:-1,children:(0,A.jsx)(O.A,{badgeContent:m,color:"successful"===m?"success":"pending"===m?"primary":"canceled"===m?"secondary":"error",variant:"gradient",size:"sm"})})}),delivery:(0,A.jsx)(d.A,{component:"a",href:"#",variant:"caption",color:"text",fontWeight:"medium",children:(0,A.jsx)(a.A,{ml:-1,children:(0,A.jsx)(O.A,{badgeContent:g,color:"delivered"===g?"success":"pending"===g?"primary":"canceled"===g?"secondary":"error",variant:"gradient",size:"sm"})})}),update:(0,A.jsx)(d.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:(0,A.jsx)(y.N_,{onClick:()=>{e((0,H.Kh)(W))},to:`/updateorder/${i}`,children:"Edit"})}),address:(0,A.jsx)(d.A,{component:"a",variant:"caption",color:"text",fontWeight:"medium",children:$.length>30?b:$}),items:(0,A.jsx)(d.A,{style:{display:"flex",flexDirection:"column"},component:"a",variant:"caption",color:"text",fontWeight:"medium",children:v.map(((e,t)=>{let{product_id:r}=e;return(0,A.jsxs)(y.N_,{to:`/products/${r}`,children:["product: ",r]},t)}))})}})),numOfPages:n,refetch:o,count:s,totalOrders:i,isGettingAllOrders:t}}var z=r(82592),N=r(40447),P=r(35981),E=r(48781),F=r(1489),G=r(18509),R=r(64977),I=r(17633);const T={position:"absolute",bgcolor:"background.paper",boxShadow:24,p:4};function D(e){let{isGettingAllOrders:t}=e;const[r,i]=n.useState(!1),s=()=>i(!1);return(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{children:(0,A.jsx)(F.A,{fontSize:"medium",onClick:()=>i(!0),sx:{cursor:"pointer",fill:"white"},title:"search"})}),(0,A.jsx)(E.A,{open:r,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,A.jsxs)(N.A,{sx:{...T,background:"white"},className:I.A.box,children:[(0,A.jsxs)(P.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Search orders ",(0,A.jsx)(G.A,{style:{cursor:"pointer"},onClick:s})]}),(0,A.jsx)("p",{children:"which order are you looking for?"}),(0,A.jsx)(U,{handleClose:s,isGettingAllOrders:t})]})})]})}const U=e=>{let{handleClose:t,isGettingAllOrders:r}=e;const{orderInputs:i}=(0,z.Fk)(),s=(0,v.wA)();return(0,A.jsxs)("form",{className:I.A.paper,children:[i.map((e=>{const{name:t,TextField:r}=e;return(0,A.jsx)("div",{children:r},t)})),(0,A.jsx)(R.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>{s((0,H.sy)())},type:"button",style:{width:"100%",fontWeight:"bold"},children:"reset"}),(0,A.jsx)(R.S,{background:"inherit",backgroundhover:"grey",height:"8vh",onClick:()=>t(),type:"button",style:{width:"100%",fontWeight:"bold"},children:"pending"===r?(0,A.jsx)(b.du,{color:"success"}):"Find Out"})]})};const L=function(){const e=(0,v.wA)(),{rows:t,numOfPages:r,refetch:x,count:u,columns:p,totalOrders:m,isGettingAllOrders:g}=W(),{sort:j,pages:f,user_id:y,tax:b,shippingFee:_,subTotal:S,total:O,paymentStatus:C,deliveryStatus:$,tx_ref:z,transaction_id:N}=(0,v.d4)((e=>e.orders));return n.useEffect((()=>{x()}),[f,j,y,b,_,S,O,C,$,z,N]),(0,A.jsxs)(o.A,{children:[(0,A.jsx)(l.A,{}),(0,A.jsx)(a.A,{pt:6,pb:3,children:(0,A.jsx)(i.Ay,{container:!0,spacing:6,children:(0,A.jsxs)(i.Ay,{item:!0,xs:12,children:[(0,A.jsxs)(s.A,{children:[(0,A.jsx)(a.A,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",children:(0,A.jsxs)(d.A,{className:k.A.wrapper,variant:"h6",color:"white",children:[(0,A.jsxs)(a.A,{className:k.A.inner,children:[(0,A.jsx)(d.A,{color:"white",children:"Orders"}),(0,A.jsxs)(d.A,{color:"white",children:[u,"/",m]})]}),(0,A.jsx)(a.A,{className:k.A.inner,children:(0,A.jsx)(D,{isGettingAllOrders:g})})]})}),(0,A.jsx)(a.A,{pt:3,children:(0,A.jsx)(h.A,{table:{columns:p,rows:t},isSorted:!1,entriesPerPage:!1,showTotalEntries:!1,noEndBorder:!0})})]}),(0,A.jsx)(w.A,{pageDetails:{handleChange:(t,r)=>{t.preventDefault(),e((0,H.yd)(r))},numOfPages:r,pages:f}})]})})}),(0,A.jsx)(c.A,{})]})},q=()=>{const{id:e}=(0,x.g)(),{orderInputs:t}=(0,z.Fk)(),{updateOrder:r,isUpdatingOrder:s}=(0,$.p)(),{isEdit:n,paymentStatus:d,deliveryStatus:h}=(0,v.d4)((e=>e.orders)),u={deliveryStatus:h};return(0,A.jsxs)(o.A,{children:[(0,A.jsx)(l.A,{}),(0,A.jsx)(a.A,{mt:5,mb:3,children:(0,A.jsx)(i.Ay,{className:_.A.wrapper,container:!0,spacing:1,children:(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(y.N_,{to:"/orders",children:(0,A.jsx)(S.A,{})}),(0,A.jsx)("h6",{children:" Update Order details "}),(0,A.jsx)("div",{})]}),(0,A.jsxs)("form",{className:_.A.form,onSubmit:t=>{if(console.log(n),t.preventDefault(),!n)return;if(Object.values(u).every((e=>void 0!==e&&null!==e&&""!==e)))return r({orderdetails:u,id:e});alert("Please fill out all required fields.")},children:[t.filter((e=>"deliveryStatus"===e.name)).map((e=>{const{name:t,TextField:r}=e;return(0,A.jsx)("div",{children:r},t)})),(0,A.jsx)(j.Sv,{background:"inherit",backgroundhover:"grey",size:"100%",height:"3vh",type:"submit",children:"pending"===s?(0,A.jsx)(b.du,{}):"Update"})]})]})})}),(0,A.jsx)(c.A,{})]})}}}]);
//# sourceMappingURL=381.c9102387.chunk.js.map